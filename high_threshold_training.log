2025-04-29 05:48:43,051 - high_threshold_training - INFO - 高閾値シグナルモデルの訓練を開始します
2025-04-29 05:48:43,052 - high_threshold_training - INFO - 期間: [1, 2, 3], 方向: ['long', 'short'], 閾値: [0.001, 0.002, 0.003, 0.005]
2025-04-29 05:48:43,052 - high_threshold_training - INFO - データの読み込み: data/processed/btcusd_5m_features.csv
2025-04-29 05:48:43,052 - data_loader - INFO - load_data: データを data\processed\btcusd_5m_features.csv から読み込みます
2025-04-29 05:48:43,056 - data_loader - INFO - ファイルのカラム: ['timestamp', 'close', 'volume', 'turnover', 'candle_size']... (全91列)
2025-04-29 05:48:43,056 - data_loader - INFO - timestampカラムをインデックスとして読み込みます
2025-04-29 05:48:43,085 - data_loader - INFO - load_data: 2706 行のデータを読み込みました
2025-04-29 05:48:43,085 - high_threshold_training - INFO - データ情報: 行数=2706, 列数=90
2025-04-29 05:48:43,085 - high_threshold_training - INFO - 高閾値ターゲット変数が24個見つかりました
2025-04-29 05:48:43,085 - high_threshold_training - INFO -   1. target_high_threshold_1p_long_1
2025-04-29 05:48:43,085 - high_threshold_training - INFO -   2. target_high_threshold_1p_short_1
2025-04-29 05:48:43,085 - high_threshold_training - INFO -   3. target_high_threshold_2p_long_1
2025-04-29 05:48:43,085 - high_threshold_training - INFO -   4. target_high_threshold_2p_short_1
2025-04-29 05:48:43,086 - high_threshold_training - INFO -   5. target_high_threshold_3p_long_1
2025-04-29 05:48:43,086 - high_threshold_training - INFO -   6. target_high_threshold_3p_short_1
2025-04-29 05:48:43,086 - high_threshold_training - INFO -   7. target_high_threshold_5p_long_1
2025-04-29 05:48:43,086 - high_threshold_training - INFO -   8. target_high_threshold_5p_short_1
2025-04-29 05:48:43,086 - high_threshold_training - INFO -   9. target_high_threshold_1p_long_2
2025-04-29 05:48:43,086 - high_threshold_training - INFO -   10. target_high_threshold_1p_short_2
2025-04-29 05:48:43,086 - high_threshold_training - INFO -   ...その他 14 個
2025-04-29 05:48:43,087 - high_threshold_training - INFO - target_high_threshold_1p_long_1 のクラス分布: {0: 1468, 1: 1238}
2025-04-29 05:48:43,087 - high_threshold_training - INFO - target_high_threshold_1p_short_1 のクラス分布: {0: 1484, 1: 1222}
2025-04-29 05:48:43,087 - high_threshold_training - INFO - target_high_threshold_2p_long_1 のクラス分布: {0: 1639, 1: 1067}
2025-04-29 05:48:43,087 - high_threshold_training - INFO - 特徴量と目標変数の準備
2025-04-29 05:48:43,087 - feature_selector - INFO - prepare_features: 特徴量と目標変数の準備を開始します
2025-04-29 05:48:43,087 - feature_selector - INFO - 選択された特徴量: 42個
2025-04-29 05:48:43,088 - feature_selector - WARNING - prepare_features: 目標変数 target_smoothed_change_1 がカラムに見つかりません
2025-04-29 05:48:43,088 - feature_selector - WARNING - prepare_features: 目標変数 target_binary_1 がカラムに見つかりません
2025-04-29 05:48:43,089 - feature_selector - INFO - prepare_features: threshold_binary_classification_1 用の特徴量セット X_threshold_binary_1 を作成 (2706 行)
2025-04-29 05:48:43,089 - feature_selector - WARNING - prepare_features: 目標変数 target_smoothed_change_2 がカラムに見つかりません
2025-04-29 05:48:43,089 - feature_selector - WARNING - prepare_features: 目標変数 target_binary_2 がカラムに見つかりません
2025-04-29 05:48:43,089 - feature_selector - INFO - prepare_features: threshold_binary_classification_2 用の特徴量セット X_threshold_binary_2 を作成 (2706 行)
2025-04-29 05:48:43,089 - feature_selector - WARNING - prepare_features: 目標変数 target_smoothed_change_3 がカラムに見つかりません
2025-04-29 05:48:43,090 - feature_selector - WARNING - prepare_features: 目標変数 target_binary_3 がカラムに見つかりません
2025-04-29 05:48:43,090 - feature_selector - INFO - prepare_features: threshold_binary_classification_3 用の特徴量セット X_threshold_binary_3 を作成 (2706 行)
2025-04-29 05:48:43,090 - feature_selector - INFO - prepare_features: 高閾値シグナル変数 24個を目標変数に追加します
2025-04-29 05:48:43,090 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_1 を追加
2025-04-29 05:48:43,090 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_1 を追加
2025-04-29 05:48:43,090 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_1 を追加
2025-04-29 05:48:43,091 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_1 を追加
2025-04-29 05:48:43,091 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_1 を追加
2025-04-29 05:48:43,091 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_1 を追加
2025-04-29 05:48:43,091 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_1 を追加
2025-04-29 05:48:43,091 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_1 を追加
2025-04-29 05:48:43,091 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_2 を追加
2025-04-29 05:48:43,091 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_2 を追加
2025-04-29 05:48:43,091 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_2 を追加
2025-04-29 05:48:43,091 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_2 を追加
2025-04-29 05:48:43,092 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_2 を追加
2025-04-29 05:48:43,092 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_2 を追加
2025-04-29 05:48:43,092 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_2 を追加
2025-04-29 05:48:43,092 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_2 を追加
2025-04-29 05:48:43,092 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_3 を追加
2025-04-29 05:48:43,092 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_3 を追加
2025-04-29 05:48:43,092 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_3 を追加
2025-04-29 05:48:43,092 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_3 を追加
2025-04-29 05:48:43,092 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_3 を追加
2025-04-29 05:48:43,092 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_3 を追加
2025-04-29 05:48:43,092 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_3 を追加
2025-04-29 05:48:43,093 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_3 を追加
2025-04-29 05:48:43,093 - feature_selector - INFO - prepare_features: 特徴量: 42個, 目標変数: 36個
2025-04-29 05:48:43,093 - feature_selector - INFO - prepare_features: 特徴量セット: ['X', 'X_threshold_binary_1', 'X_threshold_binary_2', 'X_threshold_binary_3']
2025-04-29 05:48:43,093 - feature_selector - INFO - prepare_features: 目標変数名: ['regression_1', 'classification_1', 'threshold_ternary_classification_1', 'threshold_binary_classification_1', 'regression_2', 'classification_2', 'threshold_ternary_classification_2', 'threshold_binary_classification_2', 'regression_3', 'classification_3', 'threshold_ternary_classification_3', 'threshold_binary_classification_3', 'target_high_threshold_1p_long_1', 'target_high_threshold_1p_short_1', 'target_high_threshold_2p_long_1', 'target_high_threshold_2p_short_1', 'target_high_threshold_3p_long_1', 'target_high_threshold_3p_short_1', 'target_high_threshold_5p_long_1', 'target_high_threshold_5p_short_1', 'target_high_threshold_1p_long_2', 'target_high_threshold_1p_short_2', 'target_high_threshold_2p_long_2', 'target_high_threshold_2p_short_2', 'target_high_threshold_3p_long_2', 'target_high_threshold_3p_short_2', 'target_high_threshold_5p_long_2', 'target_high_threshold_5p_short_2', 'target_high_threshold_1p_long_3', 'target_high_threshold_1p_short_3', 'target_high_threshold_2p_long_3', 'target_high_threshold_2p_short_3', 'target_high_threshold_3p_long_3', 'target_high_threshold_3p_short_3', 'target_high_threshold_5p_long_3', 'target_high_threshold_5p_short_3']
2025-04-29 05:48:43,093 - feature_selector - INFO - prepare_features: classification_1 のクラスバランス: {1: 1361, -1: 1345}
2025-04-29 05:48:43,093 - feature_selector - INFO - prepare_features: threshold_ternary_classification_1 のクラスバランス: {1: 1361, 0: 1345}
2025-04-29 05:48:43,093 - feature_selector - INFO - prepare_features: threshold_binary_classification_1 のクラスバランス: {1.0: 1361, 0.0: 1345}
2025-04-29 05:48:43,094 - feature_selector - INFO - prepare_features: classification_2 のクラスバランス: {1: 1383, -1: 1323}
2025-04-29 05:48:43,094 - feature_selector - INFO - prepare_features: threshold_ternary_classification_2 のクラスバランス: {1: 1383, 0: 1323}
2025-04-29 05:48:43,094 - feature_selector - INFO - prepare_features: threshold_binary_classification_2 のクラスバランス: {1.0: 1383, 0.0: 1323}
2025-04-29 05:48:43,094 - feature_selector - INFO - prepare_features: classification_3 のクラスバランス: {1: 1378, -1: 1328}
2025-04-29 05:48:43,095 - feature_selector - INFO - prepare_features: threshold_ternary_classification_3 のクラスバランス: {1: 1378, 0: 1328}
2025-04-29 05:48:43,095 - feature_selector - INFO - prepare_features: threshold_binary_classification_3 のクラスバランス: {1.0: 1378, 0.0: 1328}
2025-04-29 05:48:43,095 - feature_selector - INFO - prepare_features: 特徴量と目標変数の準備を終了します
2025-04-29 05:48:43,095 - high_threshold_training - INFO - トレーニングデータとテストデータの分割
2025-04-29 05:48:43,095 - data_splitter - INFO - train_test_split: トレーニングデータとテストデータへの分割を開始します
2025-04-29 05:48:43,097 - data_splitter - INFO - train_test_split: トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:43,097 - data_splitter - INFO - train_test_split: トレーニングデータとテストデータへの分割を終了します
2025-04-29 05:48:43,097 - high_threshold_training - INFO - 利用可能な目標変数の確認:
2025-04-29 05:48:43,097 - high_threshold_training - INFO - - target_high_threshold_1p_long_1
2025-04-29 05:48:43,097 - high_threshold_training - INFO - - target_high_threshold_1p_short_1
2025-04-29 05:48:43,097 - high_threshold_training - INFO - - target_high_threshold_2p_long_1
2025-04-29 05:48:43,097 - high_threshold_training - INFO - - target_high_threshold_2p_short_1
2025-04-29 05:48:43,098 - high_threshold_training - INFO - - target_high_threshold_3p_long_1
2025-04-29 05:48:43,098 - high_threshold_training - INFO - - target_high_threshold_3p_short_1
2025-04-29 05:48:43,098 - high_threshold_training - INFO - - target_high_threshold_5p_long_1
2025-04-29 05:48:43,098 - high_threshold_training - INFO - - target_high_threshold_5p_short_1
2025-04-29 05:48:43,098 - high_threshold_training - INFO - - target_high_threshold_1p_long_2
2025-04-29 05:48:43,098 - high_threshold_training - INFO - - target_high_threshold_1p_short_2
2025-04-29 05:48:43,098 - high_threshold_training - INFO - - target_high_threshold_2p_long_2
2025-04-29 05:48:43,098 - high_threshold_training - INFO - - target_high_threshold_2p_short_2
2025-04-29 05:48:43,098 - high_threshold_training - INFO - - target_high_threshold_3p_long_2
2025-04-29 05:48:43,098 - high_threshold_training - INFO - - target_high_threshold_3p_short_2
2025-04-29 05:48:43,098 - high_threshold_training - INFO - - target_high_threshold_5p_long_2
2025-04-29 05:48:43,098 - high_threshold_training - INFO - - target_high_threshold_5p_short_2
2025-04-29 05:48:43,098 - high_threshold_training - INFO - - target_high_threshold_1p_long_3
2025-04-29 05:48:43,099 - high_threshold_training - INFO - - target_high_threshold_1p_short_3
2025-04-29 05:48:43,099 - high_threshold_training - INFO - - target_high_threshold_2p_long_3
2025-04-29 05:48:43,099 - high_threshold_training - INFO - - target_high_threshold_2p_short_3
2025-04-29 05:48:43,099 - high_threshold_training - INFO - - target_high_threshold_3p_long_3
2025-04-29 05:48:43,099 - high_threshold_training - INFO - - target_high_threshold_3p_short_3
2025-04-29 05:48:43,099 - high_threshold_training - INFO - - target_high_threshold_5p_long_3
2025-04-29 05:48:43,099 - high_threshold_training - INFO - - target_high_threshold_5p_short_3
2025-04-29 05:48:43,099 - high_threshold_training - INFO - 閾値:0.1% 方向:long 期間:1のモデルを訓練
2025-04-29 05:48:43,099 - base_trainer - INFO - ==== train: 1期先の高閾値(0.1%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:48:43,100 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_long_1 の準備を開始
2025-04-29 05:48:43,100 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1170, 1: 995}
2025-04-29 05:48:43,100 - base_trainer - INFO - シグナル発生率: 45.96%
2025-04-29 05:48:43,100 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:43,101 - base_trainer - INFO - クラス不均衡比率: 1.1759 (シグナル:非シグナル = 1:1.2)
2025-04-29 05:48:43,101 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.1759
2025-04-29 05:48:43,101 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.1758793969849246), 'verbose': -1}
2025-04-29 05:48:43,101 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:43,267 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 85)
2025-04-29 05:48:43,295 - base_trainer - INFO - 評価指標 - 精度: 0.7098, 適合率: 0.6822, 再現率: 0.6626, F1: 0.6722
2025-04-29 05:48:43,295 - base_trainer - INFO - シグナル比率: 0.4492
2025-04-29 05:48:43,295 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:43,295 - base_trainer - INFO -   閾値 0.3: 適合率=0.5676, 発生率=0.6969, シグナル数=377
2025-04-29 05:48:43,295 - base_trainer - INFO -   閾値 0.4: 適合率=0.6283, 発生率=0.5619, シグナル数=304
2025-04-29 05:48:43,295 - base_trainer - INFO -   閾値 0.5: 適合率=0.6822, 発生率=0.4362, シグナル数=236
2025-04-29 05:48:43,295 - base_trainer - INFO -   閾値 0.6: 適合率=0.7516, 発生率=0.2976, シグナル数=161
2025-04-29 05:48:43,295 - base_trainer - INFO -   閾値 0.7: 適合率=0.8602, 発生率=0.1719, シグナル数=93
2025-04-29 05:48:43,295 - base_trainer - INFO -   閾値 0.8: 適合率=0.8966, 発生率=0.0536, シグナル数=29
2025-04-29 05:48:43,295 - base_trainer - INFO -   閾値 0.9: 適合率=1.0000, 発生率=0.0018, シグナル数=1
2025-04-29 05:48:43,296 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_long_1.joblib
2025-04-29 05:48:43,301 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_long_1.joblib に保存しました
2025-04-29 05:48:43,301 - high_threshold_training - INFO - モデル評価: 精度=0.7098, 適合率=0.6822, 再現率=0.6626
2025-04-29 05:48:43,301 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5676, シグナル率=0.6969, シグナル数=377
2025-04-29 05:48:43,301 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.6283, シグナル率=0.5619, シグナル数=304
2025-04-29 05:48:43,301 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6822, シグナル率=0.4362, シグナル数=236
2025-04-29 05:48:43,301 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7516, シグナル率=0.2976, シグナル数=161
2025-04-29 05:48:43,301 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8602, シグナル率=0.1719, シグナル数=93
2025-04-29 05:48:43,301 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.8966, シグナル率=0.0536, シグナル数=29
2025-04-29 05:48:43,301 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=1.0000, シグナル率=0.0018, シグナル数=1
2025-04-29 05:48:43,301 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:43,301 - high_threshold_training - INFO - 閾値:0.1% 方向:long 期間:2のモデルを訓練
2025-04-29 05:48:43,301 - base_trainer - INFO - ==== train: 2期先の高閾値(0.1%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:48:43,302 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_long_2 の準備を開始
2025-04-29 05:48:43,302 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1172, 1: 993}
2025-04-29 05:48:43,302 - base_trainer - INFO - シグナル発生率: 45.87%
2025-04-29 05:48:43,303 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:43,303 - base_trainer - INFO - クラス不均衡比率: 1.1803 (シグナル:非シグナル = 1:1.2)
2025-04-29 05:48:43,303 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.1803
2025-04-29 05:48:43,303 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.1802618328298087), 'verbose': -1}
2025-04-29 05:48:43,303 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:43,451 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 78)
2025-04-29 05:48:43,476 - base_trainer - INFO - 評価指標 - 精度: 0.6451, 適合率: 0.6235, 再現率: 0.6087, F1: 0.6160
2025-04-29 05:48:43,476 - base_trainer - INFO - シグナル比率: 0.4677
2025-04-29 05:48:43,476 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:43,476 - base_trainer - INFO -   閾値 0.3: 適合率=0.5597, 発生率=0.7431, シグナル数=402
2025-04-29 05:48:43,476 - base_trainer - INFO -   閾値 0.4: 適合率=0.5851, 発生率=0.6192, シグナル数=335
2025-04-29 05:48:43,476 - base_trainer - INFO -   閾値 0.5: 適合率=0.6235, 発生率=0.4566, シグナル数=247
2025-04-29 05:48:43,476 - base_trainer - INFO -   閾値 0.6: 適合率=0.7160, 発生率=0.2994, シグナル数=162
2025-04-29 05:48:43,476 - base_trainer - INFO -   閾値 0.7: 適合率=0.8000, 発生率=0.1571, シグナル数=85
2025-04-29 05:48:43,476 - base_trainer - INFO -   閾値 0.8: 適合率=0.7273, 発生率=0.0407, シグナル数=22
2025-04-29 05:48:43,476 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:43,477 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_long_2.joblib
2025-04-29 05:48:43,481 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_long_2.joblib に保存しました
2025-04-29 05:48:43,481 - high_threshold_training - INFO - モデル評価: 精度=0.6451, 適合率=0.6235, 再現率=0.6087
2025-04-29 05:48:43,482 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5597, シグナル率=0.7431, シグナル数=402
2025-04-29 05:48:43,482 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5851, シグナル率=0.6192, シグナル数=335
2025-04-29 05:48:43,482 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6235, シグナル率=0.4566, シグナル数=247
2025-04-29 05:48:43,482 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7160, シグナル率=0.2994, シグナル数=162
2025-04-29 05:48:43,482 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8000, シグナル率=0.1571, シグナル数=85
2025-04-29 05:48:43,482 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.7273, シグナル率=0.0407, シグナル数=22
2025-04-29 05:48:43,482 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:43,482 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:43,482 - high_threshold_training - INFO - 閾値:0.1% 方向:long 期間:3のモデルを訓練
2025-04-29 05:48:43,482 - base_trainer - INFO - ==== train: 3期先の高閾値(0.1%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:48:43,482 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_long_3 の準備を開始
2025-04-29 05:48:43,483 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1169, 1: 996}
2025-04-29 05:48:43,483 - base_trainer - INFO - シグナル発生率: 46.00%
2025-04-29 05:48:43,483 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:43,483 - base_trainer - INFO - クラス不均衡比率: 1.1737 (シグナル:非シグナル = 1:1.2)
2025-04-29 05:48:43,483 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.1737
2025-04-29 05:48:43,483 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.1736947791164658), 'verbose': -1}
2025-04-29 05:48:43,484 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:43,619 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 69)
2025-04-29 05:48:43,642 - base_trainer - INFO - 評価指標 - 精度: 0.6562, 適合率: 0.6603, 再現率: 0.5455, F1: 0.5974
2025-04-29 05:48:43,643 - base_trainer - INFO - シグナル比率: 0.4677
2025-04-29 05:48:43,643 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:43,643 - base_trainer - INFO -   閾値 0.3: 適合率=0.5521, 発生率=0.7800, シグナル数=422
2025-04-29 05:48:43,643 - base_trainer - INFO -   閾値 0.4: 適合率=0.6000, 発生率=0.5823, シグナル数=315
2025-04-29 05:48:43,643 - base_trainer - INFO -   閾値 0.5: 適合率=0.6603, 発生率=0.3863, シグナル数=209
2025-04-29 05:48:43,643 - base_trainer - INFO -   閾値 0.6: 適合率=0.7900, 発生率=0.1848, シグナル数=100
2025-04-29 05:48:43,643 - base_trainer - INFO -   閾値 0.7: 適合率=0.8462, 発生率=0.0961, シグナル数=52
2025-04-29 05:48:43,643 - base_trainer - INFO -   閾値 0.8: 適合率=0.8000, 発生率=0.0277, シグナル数=15
2025-04-29 05:48:43,643 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:43,643 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_long_3.joblib
2025-04-29 05:48:43,648 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_long_3.joblib に保存しました
2025-04-29 05:48:43,648 - high_threshold_training - INFO - モデル評価: 精度=0.6562, 適合率=0.6603, 再現率=0.5455
2025-04-29 05:48:43,648 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5521, シグナル率=0.7800, シグナル数=422
2025-04-29 05:48:43,649 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.6000, シグナル率=0.5823, シグナル数=315
2025-04-29 05:48:43,649 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6603, シグナル率=0.3863, シグナル数=209
2025-04-29 05:48:43,649 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7900, シグナル率=0.1848, シグナル数=100
2025-04-29 05:48:43,649 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8462, シグナル率=0.0961, シグナル数=52
2025-04-29 05:48:43,649 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.8000, シグナル率=0.0277, シグナル数=15
2025-04-29 05:48:43,649 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:43,649 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:43,649 - high_threshold_training - INFO - 閾値:0.1% 方向:short 期間:1のモデルを訓練
2025-04-29 05:48:43,649 - base_trainer - INFO - ==== train: 1期先の高閾値(0.1%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:48:43,649 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_short_1 の準備を開始
2025-04-29 05:48:43,650 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1185, 1: 980}
2025-04-29 05:48:43,650 - base_trainer - INFO - シグナル発生率: 45.27%
2025-04-29 05:48:43,650 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:43,650 - base_trainer - INFO - クラス不均衡比率: 1.2092 (シグナル:非シグナル = 1:1.2)
2025-04-29 05:48:43,650 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.2092
2025-04-29 05:48:43,650 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.2091836734693877), 'verbose': -1}
2025-04-29 05:48:43,651 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:43,803 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 84)
2025-04-29 05:48:43,833 - base_trainer - INFO - 評価指標 - 精度: 0.6987, 適合率: 0.6599, 再現率: 0.6736, F1: 0.6667
2025-04-29 05:48:43,833 - base_trainer - INFO - シグナル比率: 0.4473
2025-04-29 05:48:43,834 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:43,834 - base_trainer - INFO -   閾値 0.3: 適合率=0.5647, 発生率=0.7431, シグナル数=402
2025-04-29 05:48:43,834 - base_trainer - INFO -   閾値 0.4: 適合率=0.6019, 発生率=0.5896, シグナル数=319
2025-04-29 05:48:43,834 - base_trainer - INFO -   閾値 0.5: 適合率=0.6599, 発生率=0.4566, シグナル数=247
2025-04-29 05:48:43,834 - base_trainer - INFO -   閾値 0.6: 適合率=0.7605, 発生率=0.3087, シグナル数=167
2025-04-29 05:48:43,834 - base_trainer - INFO -   閾値 0.7: 適合率=0.7805, 発生率=0.2274, シグナル数=123
2025-04-29 05:48:43,834 - base_trainer - INFO -   閾値 0.8: 適合率=0.8028, 発生率=0.1312, シグナル数=71
2025-04-29 05:48:43,834 - base_trainer - INFO -   閾値 0.9: 適合率=0.7500, 発生率=0.0074, シグナル数=4
2025-04-29 05:48:43,835 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_short_1.joblib
2025-04-29 05:48:43,840 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_short_1.joblib に保存しました
2025-04-29 05:48:43,840 - high_threshold_training - INFO - モデル評価: 精度=0.6987, 適合率=0.6599, 再現率=0.6736
2025-04-29 05:48:43,840 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5647, シグナル率=0.7431, シグナル数=402
2025-04-29 05:48:43,840 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.6019, シグナル率=0.5896, シグナル数=319
2025-04-29 05:48:43,840 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6599, シグナル率=0.4566, シグナル数=247
2025-04-29 05:48:43,840 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7605, シグナル率=0.3087, シグナル数=167
2025-04-29 05:48:43,840 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7805, シグナル率=0.2274, シグナル数=123
2025-04-29 05:48:43,840 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.8028, シグナル率=0.1312, シグナル数=71
2025-04-29 05:48:43,840 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=0.7500, シグナル率=0.0074, シグナル数=4
2025-04-29 05:48:43,840 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:43,841 - high_threshold_training - INFO - 閾値:0.1% 方向:short 期間:2のモデルを訓練
2025-04-29 05:48:43,841 - base_trainer - INFO - ==== train: 2期先の高閾値(0.1%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:48:43,841 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_short_2 の準備を開始
2025-04-29 05:48:43,841 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1191, 1: 974}
2025-04-29 05:48:43,841 - base_trainer - INFO - シグナル発生率: 44.99%
2025-04-29 05:48:43,842 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:43,842 - base_trainer - INFO - クラス不均衡比率: 1.2228 (シグナル:非シグナル = 1:1.2)
2025-04-29 05:48:43,842 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.2228
2025-04-29 05:48:43,842 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.2227926078028748), 'verbose': -1}
2025-04-29 05:48:43,842 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:43,967 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 48)
2025-04-29 05:48:43,992 - base_trainer - INFO - 評価指標 - 精度: 0.6599, 適合率: 0.6351, 再現率: 0.5560, F1: 0.5929
2025-04-29 05:48:43,992 - base_trainer - INFO - シグナル比率: 0.4455
2025-04-29 05:48:43,992 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:43,992 - base_trainer - INFO -   閾値 0.3: 適合率=0.5089, 発生率=0.8281, シグナル数=448
2025-04-29 05:48:43,992 - base_trainer - INFO -   閾値 0.4: 適合率=0.5486, 発生率=0.6470, シグナル数=350
2025-04-29 05:48:43,993 - base_trainer - INFO -   閾値 0.5: 適合率=0.6351, 発生率=0.3900, シグナル数=211
2025-04-29 05:48:43,993 - base_trainer - INFO -   閾値 0.6: 適合率=0.6970, 発生率=0.2440, シグナル数=132
2025-04-29 05:48:43,993 - base_trainer - INFO -   閾値 0.7: 適合率=0.7703, 発生率=0.1368, シグナル数=74
2025-04-29 05:48:43,993 - base_trainer - INFO -   閾値 0.8: 適合率=1.0000, 発生率=0.0018, シグナル数=1
2025-04-29 05:48:43,993 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:43,993 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_short_2.joblib
2025-04-29 05:48:43,997 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_short_2.joblib に保存しました
2025-04-29 05:48:43,997 - high_threshold_training - INFO - モデル評価: 精度=0.6599, 適合率=0.6351, 再現率=0.5560
2025-04-29 05:48:43,997 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5089, シグナル率=0.8281, シグナル数=448
2025-04-29 05:48:43,997 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5486, シグナル率=0.6470, シグナル数=350
2025-04-29 05:48:43,997 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6351, シグナル率=0.3900, シグナル数=211
2025-04-29 05:48:43,997 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6970, シグナル率=0.2440, シグナル数=132
2025-04-29 05:48:43,997 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7703, シグナル率=0.1368, シグナル数=74
2025-04-29 05:48:43,997 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=1.0000, シグナル率=0.0018, シグナル数=1
2025-04-29 05:48:43,998 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:43,998 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:43,998 - high_threshold_training - INFO - 閾値:0.1% 方向:short 期間:3のモデルを訓練
2025-04-29 05:48:43,998 - base_trainer - INFO - ==== train: 3期先の高閾値(0.1%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:48:43,998 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_short_3 の準備を開始
2025-04-29 05:48:43,998 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1200, 1: 965}
2025-04-29 05:48:43,999 - base_trainer - INFO - シグナル発生率: 44.57%
2025-04-29 05:48:43,999 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:43,999 - base_trainer - INFO - クラス不均衡比率: 1.2435 (シグナル:非シグナル = 1:1.2)
2025-04-29 05:48:43,999 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.2435
2025-04-29 05:48:43,999 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.2435233160621761), 'verbose': -1}
2025-04-29 05:48:43,999 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:44,133 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 70)
2025-04-29 05:48:44,158 - base_trainer - INFO - 評価指標 - 精度: 0.6470, 適合率: 0.6148, 再現率: 0.6320, F1: 0.6233
2025-04-29 05:48:44,158 - base_trainer - INFO - シグナル比率: 0.4621
2025-04-29 05:48:44,158 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:44,159 - base_trainer - INFO -   閾値 0.3: 適合率=0.5076, 発生率=0.8521, シグナル数=461
2025-04-29 05:48:44,159 - base_trainer - INFO -   閾値 0.4: 適合率=0.5664, 発生率=0.6821, シグナル数=369
2025-04-29 05:48:44,159 - base_trainer - INFO -   閾値 0.5: 適合率=0.6148, 発生率=0.4750, シグナル数=257
2025-04-29 05:48:44,159 - base_trainer - INFO -   閾値 0.6: 適合率=0.7267, 発生率=0.2976, シグナル数=161
2025-04-29 05:48:44,159 - base_trainer - INFO -   閾値 0.7: 適合率=0.8065, 発生率=0.1719, シグナル数=93
2025-04-29 05:48:44,159 - base_trainer - INFO -   閾値 0.8: 適合率=0.9375, 発生率=0.0296, シグナル数=16
2025-04-29 05:48:44,159 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:44,159 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_short_3.joblib
2025-04-29 05:48:44,164 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_short_3.joblib に保存しました
2025-04-29 05:48:44,164 - high_threshold_training - INFO - モデル評価: 精度=0.6470, 適合率=0.6148, 再現率=0.6320
2025-04-29 05:48:44,164 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5076, シグナル率=0.8521, シグナル数=461
2025-04-29 05:48:44,164 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5664, シグナル率=0.6821, シグナル数=369
2025-04-29 05:48:44,164 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6148, シグナル率=0.4750, シグナル数=257
2025-04-29 05:48:44,164 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7267, シグナル率=0.2976, シグナル数=161
2025-04-29 05:48:44,164 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8065, シグナル率=0.1719, シグナル数=93
2025-04-29 05:48:44,165 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.9375, シグナル率=0.0296, シグナル数=16
2025-04-29 05:48:44,165 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:44,165 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:44,165 - high_threshold_training - INFO - 閾値:0.2% 方向:long 期間:1のモデルを訓練
2025-04-29 05:48:44,165 - base_trainer - INFO - ==== train: 1期先の高閾値(0.2%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:48:44,165 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_long_1 の準備を開始
2025-04-29 05:48:44,165 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1313, 1: 852}
2025-04-29 05:48:44,166 - base_trainer - INFO - シグナル発生率: 39.35%
2025-04-29 05:48:44,166 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:44,166 - base_trainer - INFO - クラス不均衡比率: 1.5411 (シグナル:非シグナル = 1:1.5)
2025-04-29 05:48:44,166 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.5411
2025-04-29 05:48:44,166 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.5410798122065728), 'verbose': -1}
2025-04-29 05:48:44,166 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:44,308 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 76)
2025-04-29 05:48:44,332 - base_trainer - INFO - 評価指標 - 精度: 0.6932, 適合率: 0.6184, 再現率: 0.5953, F1: 0.6066
2025-04-29 05:48:44,333 - base_trainer - INFO - シグナル比率: 0.3974
2025-04-29 05:48:44,333 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:44,333 - base_trainer - INFO -   閾値 0.3: 適合率=0.5328, 発生率=0.6488, シグナル数=351
2025-04-29 05:48:44,333 - base_trainer - INFO -   閾値 0.4: 適合率=0.5709, 発生率=0.5083, シグナル数=275
2025-04-29 05:48:44,333 - base_trainer - INFO -   閾値 0.5: 適合率=0.6184, 発生率=0.3826, シグナル数=207
2025-04-29 05:48:44,333 - base_trainer - INFO -   閾値 0.6: 適合率=0.7661, 発生率=0.2292, シグナル数=124
2025-04-29 05:48:44,333 - base_trainer - INFO -   閾値 0.7: 適合率=0.8571, 発生率=0.1294, シグナル数=70
2025-04-29 05:48:44,333 - base_trainer - INFO -   閾値 0.8: 適合率=0.9000, 発生率=0.0185, シグナル数=10
2025-04-29 05:48:44,333 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:44,334 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_long_1.joblib
2025-04-29 05:48:44,338 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_long_1.joblib に保存しました
2025-04-29 05:48:44,338 - high_threshold_training - INFO - モデル評価: 精度=0.6932, 適合率=0.6184, 再現率=0.5953
2025-04-29 05:48:44,338 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5328, シグナル率=0.6488, シグナル数=351
2025-04-29 05:48:44,338 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5709, シグナル率=0.5083, シグナル数=275
2025-04-29 05:48:44,338 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6184, シグナル率=0.3826, シグナル数=207
2025-04-29 05:48:44,338 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7661, シグナル率=0.2292, シグナル数=124
2025-04-29 05:48:44,338 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8571, シグナル率=0.1294, シグナル数=70
2025-04-29 05:48:44,338 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.9000, シグナル率=0.0185, シグナル数=10
2025-04-29 05:48:44,338 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:44,338 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:44,338 - high_threshold_training - INFO - 閾値:0.2% 方向:long 期間:2のモデルを訓練
2025-04-29 05:48:44,339 - base_trainer - INFO - ==== train: 2期先の高閾値(0.2%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:48:44,339 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_long_2 の準備を開始
2025-04-29 05:48:44,339 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1276, 1: 889}
2025-04-29 05:48:44,339 - base_trainer - INFO - シグナル発生率: 41.06%
2025-04-29 05:48:44,339 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:44,340 - base_trainer - INFO - クラス不均衡比率: 1.4353 (シグナル:非シグナル = 1:1.4)
2025-04-29 05:48:44,340 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.4353
2025-04-29 05:48:44,340 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.4353205849268842), 'verbose': -1}
2025-04-29 05:48:44,340 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:44,476 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 63)
2025-04-29 05:48:44,502 - base_trainer - INFO - 評価指標 - 精度: 0.6470, 適合率: 0.5829, 再現率: 0.5442, F1: 0.5629
2025-04-29 05:48:44,502 - base_trainer - INFO - シグナル比率: 0.4177
2025-04-29 05:48:44,502 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:44,503 - base_trainer - INFO -   閾値 0.3: 適合率=0.5013, 発生率=0.7153, シグナル数=387
2025-04-29 05:48:44,503 - base_trainer - INFO -   閾値 0.4: 適合率=0.5311, 発生率=0.5638, シグナル数=305
2025-04-29 05:48:44,503 - base_trainer - INFO -   閾値 0.5: 適合率=0.5829, 発生率=0.3900, シグナル数=211
2025-04-29 05:48:44,503 - base_trainer - INFO -   閾値 0.6: 適合率=0.6618, 発生率=0.2514, シグナル数=136
2025-04-29 05:48:44,503 - base_trainer - INFO -   閾値 0.7: 適合率=0.7660, 発生率=0.0869, シグナル数=47
2025-04-29 05:48:44,503 - base_trainer - INFO -   閾値 0.8: 適合率=0.3333, 発生率=0.0055, シグナル数=3
2025-04-29 05:48:44,503 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:44,503 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_long_2.joblib
2025-04-29 05:48:44,507 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_long_2.joblib に保存しました
2025-04-29 05:48:44,507 - high_threshold_training - INFO - モデル評価: 精度=0.6470, 適合率=0.5829, 再現率=0.5442
2025-04-29 05:48:44,507 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5013, シグナル率=0.7153, シグナル数=387
2025-04-29 05:48:44,507 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5311, シグナル率=0.5638, シグナル数=305
2025-04-29 05:48:44,508 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5829, シグナル率=0.3900, シグナル数=211
2025-04-29 05:48:44,508 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6618, シグナル率=0.2514, シグナル数=136
2025-04-29 05:48:44,508 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7660, シグナル率=0.0869, シグナル数=47
2025-04-29 05:48:44,508 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.3333, シグナル率=0.0055, シグナル数=3
2025-04-29 05:48:44,508 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:44,508 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:44,508 - high_threshold_training - INFO - 閾値:0.2% 方向:long 期間:3のモデルを訓練
2025-04-29 05:48:44,508 - base_trainer - INFO - ==== train: 3期先の高閾値(0.2%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:48:44,508 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_long_3 の準備を開始
2025-04-29 05:48:44,508 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1276, 1: 889}
2025-04-29 05:48:44,509 - base_trainer - INFO - シグナル発生率: 41.06%
2025-04-29 05:48:44,509 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:44,509 - base_trainer - INFO - クラス不均衡比率: 1.4353 (シグナル:非シグナル = 1:1.4)
2025-04-29 05:48:44,509 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.4353
2025-04-29 05:48:44,509 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.4353205849268842), 'verbose': -1}
2025-04-29 05:48:44,509 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:44,658 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 87)
2025-04-29 05:48:44,684 - base_trainer - INFO - 評価指標 - 精度: 0.6414, 適合率: 0.6104, 再現率: 0.4123, F1: 0.4921
2025-04-29 05:48:44,684 - base_trainer - INFO - シグナル比率: 0.4214
2025-04-29 05:48:44,684 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:44,685 - base_trainer - INFO -   閾値 0.3: 適合率=0.5410, 発生率=0.6765, シグナル数=366
2025-04-29 05:48:44,685 - base_trainer - INFO -   閾値 0.4: 適合率=0.5756, 発生率=0.5009, シグナル数=271
2025-04-29 05:48:44,685 - base_trainer - INFO -   閾値 0.5: 適合率=0.6104, 発生率=0.2847, シグナル数=154
2025-04-29 05:48:44,685 - base_trainer - INFO -   閾値 0.6: 適合率=0.7215, 発生率=0.1460, シグナル数=79
2025-04-29 05:48:44,685 - base_trainer - INFO -   閾値 0.7: 適合率=0.7826, 発生率=0.0850, シグナル数=46
2025-04-29 05:48:44,685 - base_trainer - INFO -   閾値 0.8: 適合率=0.8750, 発生率=0.0296, シグナル数=16
2025-04-29 05:48:44,685 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:44,685 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_long_3.joblib
2025-04-29 05:48:44,690 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_long_3.joblib に保存しました
2025-04-29 05:48:44,690 - high_threshold_training - INFO - モデル評価: 精度=0.6414, 適合率=0.6104, 再現率=0.4123
2025-04-29 05:48:44,690 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5410, シグナル率=0.6765, シグナル数=366
2025-04-29 05:48:44,690 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5756, シグナル率=0.5009, シグナル数=271
2025-04-29 05:48:44,690 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6104, シグナル率=0.2847, シグナル数=154
2025-04-29 05:48:44,690 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7215, シグナル率=0.1460, シグナル数=79
2025-04-29 05:48:44,690 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7826, シグナル率=0.0850, シグナル数=46
2025-04-29 05:48:44,690 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.8750, シグナル率=0.0296, シグナル数=16
2025-04-29 05:48:44,690 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:44,690 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:44,691 - high_threshold_training - INFO - 閾値:0.2% 方向:short 期間:1のモデルを訓練
2025-04-29 05:48:44,691 - base_trainer - INFO - ==== train: 1期先の高閾値(0.2%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:48:44,691 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_short_1 の準備を開始
2025-04-29 05:48:44,691 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1297, 1: 868}
2025-04-29 05:48:44,691 - base_trainer - INFO - シグナル発生率: 40.09%
2025-04-29 05:48:44,691 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:44,692 - base_trainer - INFO - クラス不均衡比率: 1.4942 (シグナル:非シグナル = 1:1.5)
2025-04-29 05:48:44,692 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.4942
2025-04-29 05:48:44,692 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.4942396313364055), 'verbose': -1}
2025-04-29 05:48:44,692 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:44,849 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 87)
2025-04-29 05:48:44,878 - base_trainer - INFO - 評価指標 - 精度: 0.7209, 適合率: 0.6447, 再現率: 0.6774, F1: 0.6607
2025-04-29 05:48:44,879 - base_trainer - INFO - シグナル比率: 0.4011
2025-04-29 05:48:44,879 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:44,879 - base_trainer - INFO -   閾値 0.3: 適合率=0.5142, 発生率=0.7153, シグナル数=387
2025-04-29 05:48:44,879 - base_trainer - INFO -   閾値 0.4: 適合率=0.5724, 発生率=0.5619, シグナル数=304
2025-04-29 05:48:44,879 - base_trainer - INFO -   閾値 0.5: 適合率=0.6447, 発生率=0.4214, シグナル数=228
2025-04-29 05:48:44,879 - base_trainer - INFO -   閾値 0.6: 適合率=0.7105, 発生率=0.2810, シグナル数=152
2025-04-29 05:48:44,879 - base_trainer - INFO -   閾値 0.7: 適合率=0.7379, 発生率=0.1904, シグナル数=103
2025-04-29 05:48:44,879 - base_trainer - INFO -   閾値 0.8: 適合率=0.7778, 発生率=0.0665, シグナル数=36
2025-04-29 05:48:44,879 - base_trainer - INFO -   閾値 0.9: 適合率=1.0000, 発生率=0.0018, シグナル数=1
2025-04-29 05:48:44,879 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_short_1.joblib
2025-04-29 05:48:44,884 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_short_1.joblib に保存しました
2025-04-29 05:48:44,885 - high_threshold_training - INFO - モデル評価: 精度=0.7209, 適合率=0.6447, 再現率=0.6774
2025-04-29 05:48:44,885 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5142, シグナル率=0.7153, シグナル数=387
2025-04-29 05:48:44,885 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5724, シグナル率=0.5619, シグナル数=304
2025-04-29 05:48:44,885 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6447, シグナル率=0.4214, シグナル数=228
2025-04-29 05:48:44,885 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7105, シグナル率=0.2810, シグナル数=152
2025-04-29 05:48:44,885 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7379, シグナル率=0.1904, シグナル数=103
2025-04-29 05:48:44,885 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.7778, シグナル率=0.0665, シグナル数=36
2025-04-29 05:48:44,885 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=1.0000, シグナル率=0.0018, シグナル数=1
2025-04-29 05:48:44,885 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:44,885 - high_threshold_training - INFO - 閾値:0.2% 方向:short 期間:2のモデルを訓練
2025-04-29 05:48:44,885 - base_trainer - INFO - ==== train: 2期先の高閾値(0.2%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:48:44,886 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_short_2 の準備を開始
2025-04-29 05:48:44,886 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1307, 1: 858}
2025-04-29 05:48:44,886 - base_trainer - INFO - シグナル発生率: 39.63%
2025-04-29 05:48:44,886 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:44,887 - base_trainer - INFO - クラス不均衡比率: 1.5233 (シグナル:非シグナル = 1:1.5)
2025-04-29 05:48:44,887 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.5233
2025-04-29 05:48:44,887 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.5233100233100234), 'verbose': -1}
2025-04-29 05:48:44,887 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:45,018 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 50)
2025-04-29 05:48:45,043 - base_trainer - INFO - 評価指標 - 精度: 0.6932, 適合率: 0.6324, 再現率: 0.5442, F1: 0.5850
2025-04-29 05:48:45,043 - base_trainer - INFO - シグナル比率: 0.3974
2025-04-29 05:48:45,043 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:45,043 - base_trainer - INFO -   閾値 0.3: 適合率=0.4653, 発生率=0.7985, シグナル数=432
2025-04-29 05:48:45,043 - base_trainer - INFO -   閾値 0.4: 適合率=0.5363, 発生率=0.5860, シグナル数=317
2025-04-29 05:48:45,044 - base_trainer - INFO -   閾値 0.5: 適合率=0.6324, 発生率=0.3420, シグナル数=185
2025-04-29 05:48:45,044 - base_trainer - INFO -   閾値 0.6: 適合率=0.6639, 発生率=0.2200, シグナル数=119
2025-04-29 05:48:45,044 - base_trainer - INFO -   閾値 0.7: 適合率=0.7258, 発生率=0.1146, シグナル数=62
2025-04-29 05:48:45,044 - base_trainer - INFO -   閾値 0.8: 適合率=1.0000, 発生率=0.0037, シグナル数=2
2025-04-29 05:48:45,044 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:45,044 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_short_2.joblib
2025-04-29 05:48:45,047 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_short_2.joblib に保存しました
2025-04-29 05:48:45,048 - high_threshold_training - INFO - モデル評価: 精度=0.6932, 適合率=0.6324, 再現率=0.5442
2025-04-29 05:48:45,048 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4653, シグナル率=0.7985, シグナル数=432
2025-04-29 05:48:45,048 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5363, シグナル率=0.5860, シグナル数=317
2025-04-29 05:48:45,048 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6324, シグナル率=0.3420, シグナル数=185
2025-04-29 05:48:45,048 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6639, シグナル率=0.2200, シグナル数=119
2025-04-29 05:48:45,048 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7258, シグナル率=0.1146, シグナル数=62
2025-04-29 05:48:45,048 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=1.0000, シグナル率=0.0037, シグナル数=2
2025-04-29 05:48:45,048 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:45,048 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:45,048 - high_threshold_training - INFO - 閾値:0.2% 方向:short 期間:3のモデルを訓練
2025-04-29 05:48:45,048 - base_trainer - INFO - ==== train: 3期先の高閾値(0.2%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:48:45,049 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_short_3 の準備を開始
2025-04-29 05:48:45,049 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1314, 1: 851}
2025-04-29 05:48:45,049 - base_trainer - INFO - シグナル発生率: 39.31%
2025-04-29 05:48:45,049 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:45,050 - base_trainer - INFO - クラス不均衡比率: 1.5441 (シグナル:非シグナル = 1:1.5)
2025-04-29 05:48:45,050 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.5441
2025-04-29 05:48:45,050 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.5440658049353702), 'verbose': -1}
2025-04-29 05:48:45,050 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:45,193 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 68)
2025-04-29 05:48:45,217 - base_trainer - INFO - 評価指標 - 精度: 0.6617, 適合率: 0.5936, 再現率: 0.6478, F1: 0.6195
2025-04-29 05:48:45,217 - base_trainer - INFO - シグナル比率: 0.4251
2025-04-29 05:48:45,217 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:45,217 - base_trainer - INFO -   閾値 0.3: 適合率=0.4708, 発生率=0.8558, シグナル数=463
2025-04-29 05:48:45,217 - base_trainer - INFO -   閾値 0.4: 適合率=0.5287, 発生率=0.6433, シグナル数=348
2025-04-29 05:48:45,217 - base_trainer - INFO -   閾値 0.5: 適合率=0.5936, 発生率=0.4640, シグナル数=251
2025-04-29 05:48:45,218 - base_trainer - INFO -   閾値 0.6: 適合率=0.6913, 発生率=0.2754, シグナル数=149
2025-04-29 05:48:45,218 - base_trainer - INFO -   閾値 0.7: 適合率=0.7778, 発生率=0.1497, シグナル数=81
2025-04-29 05:48:45,218 - base_trainer - INFO -   閾値 0.8: 適合率=0.9167, 発生率=0.0222, シグナル数=12
2025-04-29 05:48:45,218 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:45,218 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_short_3.joblib
2025-04-29 05:48:45,222 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_short_3.joblib に保存しました
2025-04-29 05:48:45,222 - high_threshold_training - INFO - モデル評価: 精度=0.6617, 適合率=0.5936, 再現率=0.6478
2025-04-29 05:48:45,222 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4708, シグナル率=0.8558, シグナル数=463
2025-04-29 05:48:45,222 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5287, シグナル率=0.6433, シグナル数=348
2025-04-29 05:48:45,222 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5936, シグナル率=0.4640, シグナル数=251
2025-04-29 05:48:45,222 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6913, シグナル率=0.2754, シグナル数=149
2025-04-29 05:48:45,223 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7778, シグナル率=0.1497, シグナル数=81
2025-04-29 05:48:45,223 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.9167, シグナル率=0.0222, シグナル数=12
2025-04-29 05:48:45,223 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:45,223 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:45,223 - high_threshold_training - INFO - 閾値:0.3% 方向:long 期間:1のモデルを訓練
2025-04-29 05:48:45,223 - base_trainer - INFO - ==== train: 1期先の高閾値(0.3%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:48:45,223 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_long_1 の準備を開始
2025-04-29 05:48:45,223 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1408, 1: 757}
2025-04-29 05:48:45,224 - base_trainer - INFO - シグナル発生率: 34.97%
2025-04-29 05:48:45,224 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:45,224 - base_trainer - INFO - クラス不均衡比率: 1.8600 (シグナル:非シグナル = 1:1.9)
2025-04-29 05:48:45,224 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.8600
2025-04-29 05:48:45,224 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.8599735799207398), 'verbose': -1}
2025-04-29 05:48:45,225 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:45,369 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 78)
2025-04-29 05:48:45,393 - base_trainer - INFO - 評価指標 - 精度: 0.7431, 適合率: 0.6364, 再現率: 0.6263, F1: 0.6313
2025-04-29 05:48:45,393 - base_trainer - INFO - シグナル比率: 0.3512
2025-04-29 05:48:45,393 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:45,394 - base_trainer - INFO -   閾値 0.3: 適合率=0.4674, 発生率=0.6802, シグナル数=368
2025-04-29 05:48:45,394 - base_trainer - INFO -   閾値 0.4: 適合率=0.5265, 発生率=0.5231, シグナル数=283
2025-04-29 05:48:45,394 - base_trainer - INFO -   閾値 0.5: 適合率=0.6364, 発生率=0.3457, シグナル数=187
2025-04-29 05:48:45,394 - base_trainer - INFO -   閾値 0.6: 適合率=0.7360, 発生率=0.2311, シグナル数=125
2025-04-29 05:48:45,394 - base_trainer - INFO -   閾値 0.7: 適合率=0.8088, 発生率=0.1257, シグナル数=68
2025-04-29 05:48:45,394 - base_trainer - INFO -   閾値 0.8: 適合率=0.8462, 発生率=0.0240, シグナル数=13
2025-04-29 05:48:45,394 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:45,394 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_long_1.joblib
2025-04-29 05:48:45,398 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_long_1.joblib に保存しました
2025-04-29 05:48:45,399 - high_threshold_training - INFO - モデル評価: 精度=0.7431, 適合率=0.6364, 再現率=0.6263
2025-04-29 05:48:45,399 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4674, シグナル率=0.6802, シグナル数=368
2025-04-29 05:48:45,399 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5265, シグナル率=0.5231, シグナル数=283
2025-04-29 05:48:45,399 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6364, シグナル率=0.3457, シグナル数=187
2025-04-29 05:48:45,399 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7360, シグナル率=0.2311, シグナル数=125
2025-04-29 05:48:45,399 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8088, シグナル率=0.1257, シグナル数=68
2025-04-29 05:48:45,399 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.8462, シグナル率=0.0240, シグナル数=13
2025-04-29 05:48:45,399 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:45,399 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:45,399 - high_threshold_training - INFO - 閾値:0.3% 方向:long 期間:2のモデルを訓練
2025-04-29 05:48:45,399 - base_trainer - INFO - ==== train: 2期先の高閾値(0.3%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:48:45,399 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_long_2 の準備を開始
2025-04-29 05:48:45,400 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1395, 1: 770}
2025-04-29 05:48:45,400 - base_trainer - INFO - シグナル発生率: 35.57%
2025-04-29 05:48:45,400 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:45,400 - base_trainer - INFO - クラス不均衡比率: 1.8117 (シグナル:非シグナル = 1:1.8)
2025-04-29 05:48:45,400 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.8117
2025-04-29 05:48:45,401 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.8116883116883118), 'verbose': -1}
2025-04-29 05:48:45,401 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:45,525 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 51)
2025-04-29 05:48:45,547 - base_trainer - INFO - 評価指標 - 精度: 0.6599, 適合率: 0.5389, 再現率: 0.5226, F1: 0.5306
2025-04-29 05:48:45,547 - base_trainer - INFO - シグナル比率: 0.3678
2025-04-29 05:48:45,548 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:45,548 - base_trainer - INFO -   閾値 0.3: 適合率=0.4512, 発生率=0.7006, シグナル数=379
2025-04-29 05:48:45,548 - base_trainer - INFO -   閾値 0.4: 適合率=0.4966, 発生率=0.5508, シグナル数=298
2025-04-29 05:48:45,548 - base_trainer - INFO -   閾値 0.5: 適合率=0.5389, 発生率=0.3567, シグナル数=193
2025-04-29 05:48:45,548 - base_trainer - INFO -   閾値 0.6: 適合率=0.6404, 発生率=0.1645, シグナル数=89
2025-04-29 05:48:45,548 - base_trainer - INFO -   閾値 0.7: 適合率=0.6190, 発生率=0.0388, シグナル数=21
2025-04-29 05:48:45,548 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:45,548 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:45,548 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_long_2.joblib
2025-04-29 05:48:45,551 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_long_2.joblib に保存しました
2025-04-29 05:48:45,552 - high_threshold_training - INFO - モデル評価: 精度=0.6599, 適合率=0.5389, 再現率=0.5226
2025-04-29 05:48:45,552 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4512, シグナル率=0.7006, シグナル数=379
2025-04-29 05:48:45,552 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4966, シグナル率=0.5508, シグナル数=298
2025-04-29 05:48:45,552 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5389, シグナル率=0.3567, シグナル数=193
2025-04-29 05:48:45,552 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6404, シグナル率=0.1645, シグナル数=89
2025-04-29 05:48:45,552 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.6190, シグナル率=0.0388, シグナル数=21
2025-04-29 05:48:45,552 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:45,552 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:45,552 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:45,552 - high_threshold_training - INFO - 閾値:0.3% 方向:long 期間:3のモデルを訓練
2025-04-29 05:48:45,552 - base_trainer - INFO - ==== train: 3期先の高閾値(0.3%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:48:45,553 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_long_3 の準備を開始
2025-04-29 05:48:45,553 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1370, 1: 795}
2025-04-29 05:48:45,553 - base_trainer - INFO - シグナル発生率: 36.72%
2025-04-29 05:48:45,553 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:45,554 - base_trainer - INFO - クラス不均衡比率: 1.7233 (シグナル:非シグナル = 1:1.7)
2025-04-29 05:48:45,554 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.7233
2025-04-29 05:48:45,554 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.7232704402515724), 'verbose': -1}
2025-04-29 05:48:45,554 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:45,697 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 74)
2025-04-29 05:48:45,721 - base_trainer - INFO - 評価指標 - 精度: 0.6747, 適合率: 0.6031, 再現率: 0.3892, F1: 0.4731
2025-04-29 05:48:45,721 - base_trainer - INFO - シグナル比率: 0.3752
2025-04-29 05:48:45,721 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:45,721 - base_trainer - INFO -   閾値 0.3: 適合率=0.4835, 発生率=0.6728, シグナル数=364
2025-04-29 05:48:45,721 - base_trainer - INFO -   閾値 0.4: 適合率=0.5542, 発生率=0.4603, シグナル数=249
2025-04-29 05:48:45,721 - base_trainer - INFO -   閾値 0.5: 適合率=0.6031, 発生率=0.2421, シグナル数=131
2025-04-29 05:48:45,721 - base_trainer - INFO -   閾値 0.6: 適合率=0.7121, 発生率=0.1220, シグナル数=66
2025-04-29 05:48:45,721 - base_trainer - INFO -   閾値 0.7: 適合率=0.8158, 発生率=0.0702, シグナル数=38
2025-04-29 05:48:45,722 - base_trainer - INFO -   閾値 0.8: 適合率=0.8571, 発生率=0.0129, シグナル数=7
2025-04-29 05:48:45,722 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:45,722 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_long_3.joblib
2025-04-29 05:48:45,726 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_long_3.joblib に保存しました
2025-04-29 05:48:45,726 - high_threshold_training - INFO - モデル評価: 精度=0.6747, 適合率=0.6031, 再現率=0.3892
2025-04-29 05:48:45,726 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4835, シグナル率=0.6728, シグナル数=364
2025-04-29 05:48:45,726 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5542, シグナル率=0.4603, シグナル数=249
2025-04-29 05:48:45,727 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6031, シグナル率=0.2421, シグナル数=131
2025-04-29 05:48:45,727 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7121, シグナル率=0.1220, シグナル数=66
2025-04-29 05:48:45,727 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8158, シグナル率=0.0702, シグナル数=38
2025-04-29 05:48:45,727 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.8571, シグナル率=0.0129, シグナル数=7
2025-04-29 05:48:45,727 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:45,727 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:45,727 - high_threshold_training - INFO - 閾値:0.3% 方向:short 期間:1のモデルを訓練
2025-04-29 05:48:45,727 - base_trainer - INFO - ==== train: 1期先の高閾値(0.3%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:48:45,727 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_short_1 の準備を開始
2025-04-29 05:48:45,728 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1442, 1: 723}
2025-04-29 05:48:45,728 - base_trainer - INFO - シグナル発生率: 33.39%
2025-04-29 05:48:45,728 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:45,728 - base_trainer - INFO - クラス不均衡比率: 1.9945 (シグナル:非シグナル = 1:2.0)
2025-04-29 05:48:45,729 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.9945
2025-04-29 05:48:45,729 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.9944674965421854), 'verbose': -1}
2025-04-29 05:48:45,729 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:45,900 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 74)
2025-04-29 05:48:45,923 - base_trainer - INFO - 評価指標 - 精度: 0.7283, 適合率: 0.5939, 再現率: 0.6359, F1: 0.6142
2025-04-29 05:48:45,924 - base_trainer - INFO - シグナル比率: 0.3401
2025-04-29 05:48:45,924 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:45,924 - base_trainer - INFO -   閾値 0.3: 適合率=0.4735, 発生率=0.6636, シグナル数=359
2025-04-29 05:48:45,924 - base_trainer - INFO -   閾値 0.4: 適合率=0.5034, 発生率=0.5397, シグナル数=292
2025-04-29 05:48:45,924 - base_trainer - INFO -   閾値 0.5: 適合率=0.5939, 発生率=0.3641, シグナル数=197
2025-04-29 05:48:45,924 - base_trainer - INFO -   閾値 0.6: 適合率=0.6917, 発生率=0.2458, シグナル数=133
2025-04-29 05:48:45,924 - base_trainer - INFO -   閾値 0.7: 適合率=0.7403, 発生率=0.1423, シグナル数=77
2025-04-29 05:48:45,924 - base_trainer - INFO -   閾値 0.8: 適合率=0.7059, 発生率=0.0314, シグナル数=17
2025-04-29 05:48:45,924 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:45,925 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_short_1.joblib
2025-04-29 05:48:45,929 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_short_1.joblib に保存しました
2025-04-29 05:48:45,929 - high_threshold_training - INFO - モデル評価: 精度=0.7283, 適合率=0.5939, 再現率=0.6359
2025-04-29 05:48:45,929 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4735, シグナル率=0.6636, シグナル数=359
2025-04-29 05:48:45,929 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5034, シグナル率=0.5397, シグナル数=292
2025-04-29 05:48:45,929 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5939, シグナル率=0.3641, シグナル数=197
2025-04-29 05:48:45,929 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6917, シグナル率=0.2458, シグナル数=133
2025-04-29 05:48:45,929 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7403, シグナル率=0.1423, シグナル数=77
2025-04-29 05:48:45,929 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.7059, シグナル率=0.0314, シグナル数=17
2025-04-29 05:48:45,929 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:45,930 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:45,930 - high_threshold_training - INFO - 閾値:0.3% 方向:short 期間:2のモデルを訓練
2025-04-29 05:48:45,930 - base_trainer - INFO - ==== train: 2期先の高閾値(0.3%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:48:45,930 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_short_2 の準備を開始
2025-04-29 05:48:45,930 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1416, 1: 749}
2025-04-29 05:48:45,931 - base_trainer - INFO - シグナル発生率: 34.60%
2025-04-29 05:48:45,931 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:45,931 - base_trainer - INFO - クラス不均衡比率: 1.8905 (シグナル:非シグナル = 1:1.9)
2025-04-29 05:48:45,931 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.8905
2025-04-29 05:48:45,931 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.890520694259012), 'verbose': -1}
2025-04-29 05:48:45,931 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:46,078 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 63)
2025-04-29 05:48:46,102 - base_trainer - INFO - 評価指標 - 精度: 0.6969, 適合率: 0.5631, 再現率: 0.6105, F1: 0.5859
2025-04-29 05:48:46,102 - base_trainer - INFO - シグナル比率: 0.3512
2025-04-29 05:48:46,102 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:46,102 - base_trainer - INFO -   閾値 0.3: 適合率=0.4300, 発生率=0.7264, シグナル数=393
2025-04-29 05:48:46,102 - base_trainer - INFO -   閾値 0.4: 適合率=0.4806, 発生率=0.5730, シグナル数=310
2025-04-29 05:48:46,102 - base_trainer - INFO -   閾値 0.5: 適合率=0.5631, 発生率=0.3808, シグナル数=206
2025-04-29 05:48:46,102 - base_trainer - INFO -   閾値 0.6: 適合率=0.6190, 発生率=0.2329, シグナル数=126
2025-04-29 05:48:46,102 - base_trainer - INFO -   閾値 0.7: 適合率=0.6286, 発生率=0.1294, シグナル数=70
2025-04-29 05:48:46,102 - base_trainer - INFO -   閾値 0.8: 適合率=0.5000, 発生率=0.0074, シグナル数=4
2025-04-29 05:48:46,102 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,103 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_short_2.joblib
2025-04-29 05:48:46,106 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_short_2.joblib に保存しました
2025-04-29 05:48:46,107 - high_threshold_training - INFO - モデル評価: 精度=0.6969, 適合率=0.5631, 再現率=0.6105
2025-04-29 05:48:46,107 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4300, シグナル率=0.7264, シグナル数=393
2025-04-29 05:48:46,107 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4806, シグナル率=0.5730, シグナル数=310
2025-04-29 05:48:46,107 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5631, シグナル率=0.3808, シグナル数=206
2025-04-29 05:48:46,107 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6190, シグナル率=0.2329, シグナル数=126
2025-04-29 05:48:46,107 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.6286, シグナル率=0.1294, シグナル数=70
2025-04-29 05:48:46,107 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.5000, シグナル率=0.0074, シグナル数=4
2025-04-29 05:48:46,107 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,107 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:46,107 - high_threshold_training - INFO - 閾値:0.3% 方向:short 期間:3のモデルを訓練
2025-04-29 05:48:46,108 - base_trainer - INFO - ==== train: 3期先の高閾値(0.3%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:48:46,108 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_short_3 の準備を開始
2025-04-29 05:48:46,108 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1413, 1: 752}
2025-04-29 05:48:46,108 - base_trainer - INFO - シグナル発生率: 34.73%
2025-04-29 05:48:46,108 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:46,109 - base_trainer - INFO - クラス不均衡比率: 1.8790 (シグナル:非シグナル = 1:1.9)
2025-04-29 05:48:46,109 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.8790
2025-04-29 05:48:46,109 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.8789893617021276), 'verbose': -1}
2025-04-29 05:48:46,109 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:46,241 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 57)
2025-04-29 05:48:46,266 - base_trainer - INFO - 評価指標 - 精度: 0.6969, 適合率: 0.6175, 再現率: 0.5459, F1: 0.5795
2025-04-29 05:48:46,266 - base_trainer - INFO - シグナル比率: 0.3826
2025-04-29 05:48:46,266 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:46,266 - base_trainer - INFO -   閾値 0.3: 適合率=0.4439, 発生率=0.8078, シグナル数=437
2025-04-29 05:48:46,266 - base_trainer - INFO -   閾値 0.4: 適合率=0.5099, 発生率=0.5619, シグナル数=304
2025-04-29 05:48:46,266 - base_trainer - INFO -   閾値 0.5: 適合率=0.6175, 発生率=0.3383, シグナル数=183
2025-04-29 05:48:46,266 - base_trainer - INFO -   閾値 0.6: 適合率=0.7094, 発生率=0.2163, シグナル数=117
2025-04-29 05:48:46,266 - base_trainer - INFO -   閾値 0.7: 適合率=0.7292, 発生率=0.0887, シグナル数=48
2025-04-29 05:48:46,266 - base_trainer - INFO -   閾値 0.8: 適合率=0.0000, 発生率=0.0018, シグナル数=1
2025-04-29 05:48:46,266 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,267 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_short_3.joblib
2025-04-29 05:48:46,270 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_short_3.joblib に保存しました
2025-04-29 05:48:46,270 - high_threshold_training - INFO - モデル評価: 精度=0.6969, 適合率=0.6175, 再現率=0.5459
2025-04-29 05:48:46,271 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4439, シグナル率=0.8078, シグナル数=437
2025-04-29 05:48:46,271 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5099, シグナル率=0.5619, シグナル数=304
2025-04-29 05:48:46,271 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6175, シグナル率=0.3383, シグナル数=183
2025-04-29 05:48:46,271 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7094, シグナル率=0.2163, シグナル数=117
2025-04-29 05:48:46,271 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7292, シグナル率=0.0887, シグナル数=48
2025-04-29 05:48:46,271 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.0000, シグナル率=0.0018, シグナル数=1
2025-04-29 05:48:46,271 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,271 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:46,271 - high_threshold_training - INFO - 閾値:0.5% 方向:long 期間:1のモデルを訓練
2025-04-29 05:48:46,271 - base_trainer - INFO - ==== train: 1期先の高閾値(0.5%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:48:46,271 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_long_1 の準備を開始
2025-04-29 05:48:46,272 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1614, 1: 551}
2025-04-29 05:48:46,272 - base_trainer - INFO - シグナル発生率: 25.45%
2025-04-29 05:48:46,272 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:46,273 - base_trainer - INFO - クラス不均衡比率: 2.9292 (シグナル:非シグナル = 1:2.9)
2025-04-29 05:48:46,273 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.9292
2025-04-29 05:48:46,273 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.9292196007259528), 'verbose': -1}
2025-04-29 05:48:46,273 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:46,387 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 37)
2025-04-29 05:48:46,404 - base_trainer - INFO - 評価指標 - 精度: 0.7800, 適合率: 0.5600, 再現率: 0.5224, F1: 0.5405
2025-04-29 05:48:46,404 - base_trainer - INFO - シグナル比率: 0.2477
2025-04-29 05:48:46,405 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:46,405 - base_trainer - INFO -   閾値 0.3: 適合率=0.3750, 発生率=0.5619, シグナル数=304
2025-04-29 05:48:46,405 - base_trainer - INFO -   閾値 0.4: 適合率=0.4519, 発生率=0.3845, シグナル数=208
2025-04-29 05:48:46,405 - base_trainer - INFO -   閾値 0.5: 適合率=0.5600, 発生率=0.2311, シグナル数=125
2025-04-29 05:48:46,405 - base_trainer - INFO -   閾値 0.6: 適合率=0.6667, 発生率=0.0721, シグナル数=39
2025-04-29 05:48:46,405 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,405 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,405 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,405 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_long_1.joblib
2025-04-29 05:48:46,408 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_long_1.joblib に保存しました
2025-04-29 05:48:46,408 - high_threshold_training - INFO - モデル評価: 精度=0.7800, 適合率=0.5600, 再現率=0.5224
2025-04-29 05:48:46,409 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3750, シグナル率=0.5619, シグナル数=304
2025-04-29 05:48:46,409 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4519, シグナル率=0.3845, シグナル数=208
2025-04-29 05:48:46,409 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5600, シグナル率=0.2311, シグナル数=125
2025-04-29 05:48:46,409 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6667, シグナル率=0.0721, シグナル数=39
2025-04-29 05:48:46,409 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,409 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,409 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,409 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:46,409 - high_threshold_training - INFO - 閾値:0.5% 方向:long 期間:2のモデルを訓練
2025-04-29 05:48:46,409 - base_trainer - INFO - ==== train: 2期先の高閾値(0.5%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:48:46,409 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_long_2 の準備を開始
2025-04-29 05:48:46,410 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1608, 1: 557}
2025-04-29 05:48:46,410 - base_trainer - INFO - シグナル発生率: 25.73%
2025-04-29 05:48:46,410 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:46,411 - base_trainer - INFO - クラス不均衡比率: 2.8869 (シグナル:非シグナル = 1:2.9)
2025-04-29 05:48:46,411 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.8869
2025-04-29 05:48:46,411 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.8868940754039496), 'verbose': -1}
2025-04-29 05:48:46,411 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:46,518 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 26)
2025-04-29 05:48:46,531 - base_trainer - INFO - 評価指標 - 精度: 0.7264, 適合率: 0.4706, 再現率: 0.2222, F1: 0.3019
2025-04-29 05:48:46,531 - base_trainer - INFO - シグナル比率: 0.2662
2025-04-29 05:48:46,531 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:46,531 - base_trainer - INFO -   閾値 0.3: 適合率=0.3476, 発生率=0.6063, シグナル数=328
2025-04-29 05:48:46,531 - base_trainer - INFO -   閾値 0.4: 適合率=0.4385, 発生率=0.3457, シグナル数=187
2025-04-29 05:48:46,532 - base_trainer - INFO -   閾値 0.5: 適合率=0.4706, 発生率=0.1257, シグナル数=68
2025-04-29 05:48:46,532 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,532 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,532 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,532 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,532 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_long_2.joblib
2025-04-29 05:48:46,535 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_long_2.joblib に保存しました
2025-04-29 05:48:46,535 - high_threshold_training - INFO - モデル評価: 精度=0.7264, 適合率=0.4706, 再現率=0.2222
2025-04-29 05:48:46,535 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3476, シグナル率=0.6063, シグナル数=328
2025-04-29 05:48:46,535 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4385, シグナル率=0.3457, シグナル数=187
2025-04-29 05:48:46,535 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.4706, シグナル率=0.1257, シグナル数=68
2025-04-29 05:48:46,535 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,535 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,535 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,535 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,536 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:46,536 - high_threshold_training - INFO - 閾値:0.5% 方向:long 期間:3のモデルを訓練
2025-04-29 05:48:46,536 - base_trainer - INFO - ==== train: 3期先の高閾値(0.5%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:48:46,536 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_long_3 の準備を開始
2025-04-29 05:48:46,536 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1573, 1: 592}
2025-04-29 05:48:46,536 - base_trainer - INFO - シグナル発生率: 27.34%
2025-04-29 05:48:46,537 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:46,537 - base_trainer - INFO - クラス不均衡比率: 2.6571 (シグナル:非シグナル = 1:2.7)
2025-04-29 05:48:46,537 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.6571
2025-04-29 05:48:46,537 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.6570945945945947), 'verbose': -1}
2025-04-29 05:48:46,537 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:46,676 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 46)
2025-04-29 05:48:46,697 - base_trainer - INFO - 評価指標 - 精度: 0.7357, 適合率: 0.5364, 再現率: 0.3907, F1: 0.4521
2025-04-29 05:48:46,697 - base_trainer - INFO - シグナル比率: 0.2791
2025-04-29 05:48:46,697 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:46,697 - base_trainer - INFO -   閾値 0.3: 適合率=0.3735, 発生率=0.6137, シグナル数=332
2025-04-29 05:48:46,697 - base_trainer - INFO -   閾値 0.4: 適合率=0.4524, 発生率=0.3882, シグナル数=210
2025-04-29 05:48:46,697 - base_trainer - INFO -   閾値 0.5: 適合率=0.5364, 発生率=0.2033, シグナル数=110
2025-04-29 05:48:46,697 - base_trainer - INFO -   閾値 0.6: 適合率=0.5000, 発生率=0.0628, シグナル数=34
2025-04-29 05:48:46,697 - base_trainer - INFO -   閾値 0.7: 適合率=0.6000, 発生率=0.0092, シグナル数=5
2025-04-29 05:48:46,697 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,697 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,698 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_long_3.joblib
2025-04-29 05:48:46,701 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_long_3.joblib に保存しました
2025-04-29 05:48:46,701 - high_threshold_training - INFO - モデル評価: 精度=0.7357, 適合率=0.5364, 再現率=0.3907
2025-04-29 05:48:46,701 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3735, シグナル率=0.6137, シグナル数=332
2025-04-29 05:48:46,701 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4524, シグナル率=0.3882, シグナル数=210
2025-04-29 05:48:46,701 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5364, シグナル率=0.2033, シグナル数=110
2025-04-29 05:48:46,701 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.5000, シグナル率=0.0628, シグナル数=34
2025-04-29 05:48:46,701 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.6000, シグナル率=0.0092, シグナル数=5
2025-04-29 05:48:46,701 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,701 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,702 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:46,702 - high_threshold_training - INFO - 閾値:0.5% 方向:short 期間:1のモデルを訓練
2025-04-29 05:48:46,702 - base_trainer - INFO - ==== train: 1期先の高閾値(0.5%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:48:46,702 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_short_1 の準備を開始
2025-04-29 05:48:46,702 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1642, 1: 523}
2025-04-29 05:48:46,703 - base_trainer - INFO - シグナル発生率: 24.16%
2025-04-29 05:48:46,703 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:46,703 - base_trainer - INFO - クラス不均衡比率: 3.1396 (シグナル:非シグナル = 1:3.1)
2025-04-29 05:48:46,703 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 3.1396
2025-04-29 05:48:46,703 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(3.139579349904398), 'verbose': -1}
2025-04-29 05:48:46,703 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:46,802 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 27)
2025-04-29 05:48:46,819 - base_trainer - INFO - 評価指標 - 精度: 0.7837, 適合率: 0.5750, 再現率: 0.3566, F1: 0.4402
2025-04-29 05:48:46,819 - base_trainer - INFO - シグナル比率: 0.2384
2025-04-29 05:48:46,819 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:46,819 - base_trainer - INFO -   閾値 0.3: 適合率=0.3742, 発生率=0.5582, シグナル数=302
2025-04-29 05:48:46,819 - base_trainer - INFO -   閾値 0.4: 適合率=0.5185, 発生率=0.2994, シグナル数=162
2025-04-29 05:48:46,819 - base_trainer - INFO -   閾値 0.5: 適合率=0.5750, 発生率=0.1479, シグナル数=80
2025-04-29 05:48:46,819 - base_trainer - INFO -   閾値 0.6: 適合率=1.0000, 発生率=0.0074, シグナル数=4
2025-04-29 05:48:46,819 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,819 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,819 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,820 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_short_1.joblib
2025-04-29 05:48:46,822 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_short_1.joblib に保存しました
2025-04-29 05:48:46,822 - high_threshold_training - INFO - モデル評価: 精度=0.7837, 適合率=0.5750, 再現率=0.3566
2025-04-29 05:48:46,823 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3742, シグナル率=0.5582, シグナル数=302
2025-04-29 05:48:46,823 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5185, シグナル率=0.2994, シグナル数=162
2025-04-29 05:48:46,823 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5750, シグナル率=0.1479, シグナル数=80
2025-04-29 05:48:46,823 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=1.0000, シグナル率=0.0074, シグナル数=4
2025-04-29 05:48:46,823 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,823 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,823 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,823 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:46,823 - high_threshold_training - INFO - 閾値:0.5% 方向:short 期間:2のモデルを訓練
2025-04-29 05:48:46,823 - base_trainer - INFO - ==== train: 2期先の高閾値(0.5%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:48:46,823 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_short_2 の準備を開始
2025-04-29 05:48:46,824 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1614, 1: 551}
2025-04-29 05:48:46,824 - base_trainer - INFO - シグナル発生率: 25.45%
2025-04-29 05:48:46,824 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:46,824 - base_trainer - INFO - クラス不均衡比率: 2.9292 (シグナル:非シグナル = 1:2.9)
2025-04-29 05:48:46,824 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.9292
2025-04-29 05:48:46,825 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.9292196007259528), 'verbose': -1}
2025-04-29 05:48:46,825 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:46,937 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 39)
2025-04-29 05:48:46,953 - base_trainer - INFO - 評価指標 - 精度: 0.7652, 適合率: 0.5405, 再現率: 0.4412, F1: 0.4858
2025-04-29 05:48:46,954 - base_trainer - INFO - シグナル比率: 0.2514
2025-04-29 05:48:46,954 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:46,954 - base_trainer - INFO -   閾値 0.3: 適合率=0.3861, 発生率=0.5601, シグナル数=303
2025-04-29 05:48:46,954 - base_trainer - INFO -   閾値 0.4: 適合率=0.4656, 発生率=0.3494, シグナル数=189
2025-04-29 05:48:46,954 - base_trainer - INFO -   閾値 0.5: 適合率=0.5405, 発生率=0.2052, シグナル数=111
2025-04-29 05:48:46,954 - base_trainer - INFO -   閾値 0.6: 適合率=0.5106, 発生率=0.0869, シグナル数=47
2025-04-29 05:48:46,954 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,954 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,954 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:46,955 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_short_2.joblib
2025-04-29 05:48:46,958 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_short_2.joblib に保存しました
2025-04-29 05:48:46,958 - high_threshold_training - INFO - モデル評価: 精度=0.7652, 適合率=0.5405, 再現率=0.4412
2025-04-29 05:48:46,958 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3861, シグナル率=0.5601, シグナル数=303
2025-04-29 05:48:46,958 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4656, シグナル率=0.3494, シグナル数=189
2025-04-29 05:48:46,958 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5405, シグナル率=0.2052, シグナル数=111
2025-04-29 05:48:46,958 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.5106, シグナル率=0.0869, シグナル数=47
2025-04-29 05:48:46,958 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,958 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,958 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:46,958 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:46,958 - high_threshold_training - INFO - 閾値:0.5% 方向:short 期間:3のモデルを訓練
2025-04-29 05:48:46,959 - base_trainer - INFO - ==== train: 3期先の高閾値(0.5%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:48:46,959 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_short_3 の準備を開始
2025-04-29 05:48:46,959 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1601, 1: 564}
2025-04-29 05:48:46,959 - base_trainer - INFO - シグナル発生率: 26.05%
2025-04-29 05:48:46,959 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:48:46,960 - base_trainer - INFO - クラス不均衡比率: 2.8387 (シグナル:非シグナル = 1:2.8)
2025-04-29 05:48:46,960 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.8387
2025-04-29 05:48:46,960 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.8386524822695036), 'verbose': -1}
2025-04-29 05:48:46,960 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:48:47,062 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 24)
2025-04-29 05:48:47,075 - base_trainer - INFO - 評価指標 - 精度: 0.7394, 適合率: 0.5970, 再現率: 0.2597, F1: 0.3620
2025-04-29 05:48:47,075 - base_trainer - INFO - シグナル比率: 0.2847
2025-04-29 05:48:47,075 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:48:47,075 - base_trainer - INFO -   閾値 0.3: 適合率=0.3559, 発生率=0.6543, シグナル数=354
2025-04-29 05:48:47,075 - base_trainer - INFO -   閾値 0.4: 適合率=0.5098, 発生率=0.2828, シグナル数=153
2025-04-29 05:48:47,075 - base_trainer - INFO -   閾値 0.5: 適合率=0.5970, 発生率=0.1238, シグナル数=67
2025-04-29 05:48:47,076 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:47,076 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:47,076 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:47,076 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:48:47,076 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_short_3.joblib
2025-04-29 05:48:47,079 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_short_3.joblib に保存しました
2025-04-29 05:48:47,079 - high_threshold_training - INFO - モデル評価: 精度=0.7394, 適合率=0.5970, 再現率=0.2597
2025-04-29 05:48:47,079 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3559, シグナル率=0.6543, シグナル数=354
2025-04-29 05:48:47,079 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5098, シグナル率=0.2828, シグナル数=153
2025-04-29 05:48:47,079 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5970, シグナル率=0.1238, シグナル数=67
2025-04-29 05:48:47,079 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:47,079 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:47,080 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:47,080 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:48:47,080 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:48:47,080 - high_threshold_training - INFO - ===== トレーニング結果サマリー =====
2025-04-29 05:48:47,080 - high_threshold_training - INFO - 閾値: threshold_1p
2025-04-29 05:48:47,080 - high_threshold_training - INFO -   方向: long
2025-04-29 05:48:47,080 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:48:47,080 - high_threshold_training - INFO -       精度: 0.7098
2025-04-29 05:48:47,080 - high_threshold_training - INFO -       適合率: 0.6822
2025-04-29 05:48:47,081 - high_threshold_training - INFO -       シグナル率: 0.4492
2025-04-29 05:48:47,081 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:48:47,081 - high_threshold_training - INFO -       精度: 0.6451
2025-04-29 05:48:47,081 - high_threshold_training - INFO -       適合率: 0.6235
2025-04-29 05:48:47,081 - high_threshold_training - INFO -       シグナル率: 0.4677
2025-04-29 05:48:47,081 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:48:47,081 - high_threshold_training - INFO -       精度: 0.6562
2025-04-29 05:48:47,081 - high_threshold_training - INFO -       適合率: 0.6603
2025-04-29 05:48:47,081 - high_threshold_training - INFO -       シグナル率: 0.4677
2025-04-29 05:48:47,081 - high_threshold_training - INFO -   方向: short
2025-04-29 05:48:47,082 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:48:47,082 - high_threshold_training - INFO -       精度: 0.6987
2025-04-29 05:48:47,082 - high_threshold_training - INFO -       適合率: 0.6599
2025-04-29 05:48:47,082 - high_threshold_training - INFO -       シグナル率: 0.4473
2025-04-29 05:48:47,082 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:48:47,082 - high_threshold_training - INFO -       精度: 0.6599
2025-04-29 05:48:47,082 - high_threshold_training - INFO -       適合率: 0.6351
2025-04-29 05:48:47,082 - high_threshold_training - INFO -       シグナル率: 0.4455
2025-04-29 05:48:47,082 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:48:47,082 - high_threshold_training - INFO -       精度: 0.6470
2025-04-29 05:48:47,082 - high_threshold_training - INFO -       適合率: 0.6148
2025-04-29 05:48:47,083 - high_threshold_training - INFO -       シグナル率: 0.4621
2025-04-29 05:48:47,083 - high_threshold_training - INFO - 閾値: threshold_2p
2025-04-29 05:48:47,083 - high_threshold_training - INFO -   方向: long
2025-04-29 05:48:47,083 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:48:47,083 - high_threshold_training - INFO -       精度: 0.6932
2025-04-29 05:48:47,083 - high_threshold_training - INFO -       適合率: 0.6184
2025-04-29 05:48:47,083 - high_threshold_training - INFO -       シグナル率: 0.3974
2025-04-29 05:48:47,083 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:48:47,083 - high_threshold_training - INFO -       精度: 0.6470
2025-04-29 05:48:47,083 - high_threshold_training - INFO -       適合率: 0.5829
2025-04-29 05:48:47,083 - high_threshold_training - INFO -       シグナル率: 0.4177
2025-04-29 05:48:47,083 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:48:47,083 - high_threshold_training - INFO -       精度: 0.6414
2025-04-29 05:48:47,083 - high_threshold_training - INFO -       適合率: 0.6104
2025-04-29 05:48:47,083 - high_threshold_training - INFO -       シグナル率: 0.4214
2025-04-29 05:48:47,083 - high_threshold_training - INFO -   方向: short
2025-04-29 05:48:47,084 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:48:47,084 - high_threshold_training - INFO -       精度: 0.7209
2025-04-29 05:48:47,084 - high_threshold_training - INFO -       適合率: 0.6447
2025-04-29 05:48:47,084 - high_threshold_training - INFO -       シグナル率: 0.4011
2025-04-29 05:48:47,084 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:48:47,084 - high_threshold_training - INFO -       精度: 0.6932
2025-04-29 05:48:47,084 - high_threshold_training - INFO -       適合率: 0.6324
2025-04-29 05:48:47,084 - high_threshold_training - INFO -       シグナル率: 0.3974
2025-04-29 05:48:47,084 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:48:47,084 - high_threshold_training - INFO -       精度: 0.6617
2025-04-29 05:48:47,084 - high_threshold_training - INFO -       適合率: 0.5936
2025-04-29 05:48:47,084 - high_threshold_training - INFO -       シグナル率: 0.4251
2025-04-29 05:48:47,084 - high_threshold_training - INFO - 閾値: threshold_3p
2025-04-29 05:48:47,084 - high_threshold_training - INFO -   方向: long
2025-04-29 05:48:47,084 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:48:47,084 - high_threshold_training - INFO -       精度: 0.7431
2025-04-29 05:48:47,084 - high_threshold_training - INFO -       適合率: 0.6364
2025-04-29 05:48:47,085 - high_threshold_training - INFO -       シグナル率: 0.3512
2025-04-29 05:48:47,085 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:48:47,085 - high_threshold_training - INFO -       精度: 0.6599
2025-04-29 05:48:47,085 - high_threshold_training - INFO -       適合率: 0.5389
2025-04-29 05:48:47,085 - high_threshold_training - INFO -       シグナル率: 0.3678
2025-04-29 05:48:47,085 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:48:47,085 - high_threshold_training - INFO -       精度: 0.6747
2025-04-29 05:48:47,085 - high_threshold_training - INFO -       適合率: 0.6031
2025-04-29 05:48:47,085 - high_threshold_training - INFO -       シグナル率: 0.3752
2025-04-29 05:48:47,085 - high_threshold_training - INFO -   方向: short
2025-04-29 05:48:47,085 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:48:47,085 - high_threshold_training - INFO -       精度: 0.7283
2025-04-29 05:48:47,085 - high_threshold_training - INFO -       適合率: 0.5939
2025-04-29 05:48:47,085 - high_threshold_training - INFO -       シグナル率: 0.3401
2025-04-29 05:48:47,085 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:48:47,086 - high_threshold_training - INFO -       精度: 0.6969
2025-04-29 05:48:47,086 - high_threshold_training - INFO -       適合率: 0.5631
2025-04-29 05:48:47,086 - high_threshold_training - INFO -       シグナル率: 0.3512
2025-04-29 05:48:47,086 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:48:47,086 - high_threshold_training - INFO -       精度: 0.6969
2025-04-29 05:48:47,086 - high_threshold_training - INFO -       適合率: 0.6175
2025-04-29 05:48:47,086 - high_threshold_training - INFO -       シグナル率: 0.3826
2025-04-29 05:48:47,086 - high_threshold_training - INFO - 閾値: threshold_5p
2025-04-29 05:48:47,086 - high_threshold_training - INFO -   方向: long
2025-04-29 05:48:47,086 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:48:47,086 - high_threshold_training - INFO -       精度: 0.7800
2025-04-29 05:48:47,086 - high_threshold_training - INFO -       適合率: 0.5600
2025-04-29 05:48:47,086 - high_threshold_training - INFO -       シグナル率: 0.2477
2025-04-29 05:48:47,086 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:48:47,086 - high_threshold_training - INFO -       精度: 0.7264
2025-04-29 05:48:47,086 - high_threshold_training - INFO -       適合率: 0.4706
2025-04-29 05:48:47,087 - high_threshold_training - INFO -       シグナル率: 0.2662
2025-04-29 05:48:47,087 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:48:47,087 - high_threshold_training - INFO -       精度: 0.7357
2025-04-29 05:48:47,087 - high_threshold_training - INFO -       適合率: 0.5364
2025-04-29 05:48:47,087 - high_threshold_training - INFO -       シグナル率: 0.2791
2025-04-29 05:48:47,087 - high_threshold_training - INFO -   方向: short
2025-04-29 05:48:47,087 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:48:47,087 - high_threshold_training - INFO -       精度: 0.7837
2025-04-29 05:48:47,087 - high_threshold_training - INFO -       適合率: 0.5750
2025-04-29 05:48:47,087 - high_threshold_training - INFO -       シグナル率: 0.2384
2025-04-29 05:48:47,087 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:48:47,087 - high_threshold_training - INFO -       精度: 0.7652
2025-04-29 05:48:47,087 - high_threshold_training - INFO -       適合率: 0.5405
2025-04-29 05:48:47,087 - high_threshold_training - INFO -       シグナル率: 0.2514
2025-04-29 05:48:47,087 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:48:47,087 - high_threshold_training - INFO -       精度: 0.7394
2025-04-29 05:48:47,088 - high_threshold_training - INFO -       適合率: 0.5970
2025-04-29 05:48:47,088 - high_threshold_training - INFO -       シグナル率: 0.2847
2025-04-29 05:48:47,092 - high_threshold_training - INFO - 訓練結果を models\high_threshold\high_threshold_results_20250429_054847.json に保存しました
2025-04-29 05:48:47,092 - high_threshold_training - INFO - 高閾値シグナルモデルの訓練が完了しました
2025-04-29 05:51:43,253 - high_threshold_training - INFO - 高閾値シグナルモデルの訓練を開始します
2025-04-29 05:51:43,253 - high_threshold_training - INFO - 期間: [1, 2, 3], 方向: ['long', 'short'], 閾値: [0.001, 0.002, 0.003, 0.005]
2025-04-29 05:51:43,253 - high_threshold_training - INFO - データの読み込み: data/processed/btcusd_5m_features.csv
2025-04-29 05:51:43,253 - data_loader - INFO - load_data: データを data\processed\btcusd_5m_features.csv から読み込みます
2025-04-29 05:51:43,257 - data_loader - INFO - ファイルのカラム: ['timestamp', 'close', 'volume', 'turnover', 'candle_size']... (全91列)
2025-04-29 05:51:43,257 - data_loader - INFO - timestampカラムをインデックスとして読み込みます
2025-04-29 05:51:43,287 - data_loader - INFO - load_data: 2706 行のデータを読み込みました
2025-04-29 05:51:43,287 - high_threshold_training - INFO - データ情報: 行数=2706, 列数=90
2025-04-29 05:51:43,287 - high_threshold_training - INFO - 高閾値ターゲット変数が24個見つかりました
2025-04-29 05:51:43,287 - high_threshold_training - INFO -   1. target_high_threshold_1p_long_1
2025-04-29 05:51:43,287 - high_threshold_training - INFO -   2. target_high_threshold_1p_short_1
2025-04-29 05:51:43,288 - high_threshold_training - INFO -   3. target_high_threshold_2p_long_1
2025-04-29 05:51:43,288 - high_threshold_training - INFO -   4. target_high_threshold_2p_short_1
2025-04-29 05:51:43,288 - high_threshold_training - INFO -   5. target_high_threshold_3p_long_1
2025-04-29 05:51:43,288 - high_threshold_training - INFO -   6. target_high_threshold_3p_short_1
2025-04-29 05:51:43,288 - high_threshold_training - INFO -   7. target_high_threshold_5p_long_1
2025-04-29 05:51:43,288 - high_threshold_training - INFO -   8. target_high_threshold_5p_short_1
2025-04-29 05:51:43,288 - high_threshold_training - INFO -   9. target_high_threshold_1p_long_2
2025-04-29 05:51:43,288 - high_threshold_training - INFO -   10. target_high_threshold_1p_short_2
2025-04-29 05:51:43,288 - high_threshold_training - INFO -   ...その他 14 個
2025-04-29 05:51:43,289 - high_threshold_training - INFO - target_high_threshold_1p_long_1 のクラス分布: {0: 1468, 1: 1238}
2025-04-29 05:51:43,289 - high_threshold_training - INFO - target_high_threshold_1p_short_1 のクラス分布: {0: 1484, 1: 1222}
2025-04-29 05:51:43,289 - high_threshold_training - INFO - target_high_threshold_2p_long_1 のクラス分布: {0: 1639, 1: 1067}
2025-04-29 05:51:43,289 - high_threshold_training - INFO - 特徴量と目標変数の準備
2025-04-29 05:51:43,289 - feature_selector - INFO - prepare_features: 特徴量と目標変数の準備を開始します
2025-04-29 05:51:43,289 - feature_selector - INFO - 選択された特徴量: 42個
2025-04-29 05:51:43,290 - feature_selector - WARNING - prepare_features: 目標変数 target_smoothed_change_1 がカラムに見つかりません
2025-04-29 05:51:43,290 - feature_selector - WARNING - prepare_features: 目標変数 target_binary_1 がカラムに見つかりません
2025-04-29 05:51:43,291 - feature_selector - INFO - prepare_features: threshold_binary_classification_1 用の特徴量セット X_threshold_binary_1 を作成 (2706 行)
2025-04-29 05:51:43,291 - feature_selector - WARNING - prepare_features: 目標変数 target_smoothed_change_2 がカラムに見つかりません
2025-04-29 05:51:43,291 - feature_selector - WARNING - prepare_features: 目標変数 target_binary_2 がカラムに見つかりません
2025-04-29 05:51:43,292 - feature_selector - INFO - prepare_features: threshold_binary_classification_2 用の特徴量セット X_threshold_binary_2 を作成 (2706 行)
2025-04-29 05:51:43,292 - feature_selector - WARNING - prepare_features: 目標変数 target_smoothed_change_3 がカラムに見つかりません
2025-04-29 05:51:43,292 - feature_selector - WARNING - prepare_features: 目標変数 target_binary_3 がカラムに見つかりません
2025-04-29 05:51:43,292 - feature_selector - INFO - prepare_features: threshold_binary_classification_3 用の特徴量セット X_threshold_binary_3 を作成 (2706 行)
2025-04-29 05:51:43,293 - feature_selector - INFO - prepare_features: 高閾値シグナル変数 24個を目標変数に追加します
2025-04-29 05:51:43,293 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_1 を追加
2025-04-29 05:51:43,293 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_1 を追加
2025-04-29 05:51:43,293 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_1 を追加
2025-04-29 05:51:43,293 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_1 を追加
2025-04-29 05:51:43,293 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_1 を追加
2025-04-29 05:51:43,293 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_1 を追加
2025-04-29 05:51:43,293 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_1 を追加
2025-04-29 05:51:43,293 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_1 を追加
2025-04-29 05:51:43,293 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_2 を追加
2025-04-29 05:51:43,293 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_2 を追加
2025-04-29 05:51:43,294 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_2 を追加
2025-04-29 05:51:43,294 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_2 を追加
2025-04-29 05:51:43,294 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_2 を追加
2025-04-29 05:51:43,294 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_2 を追加
2025-04-29 05:51:43,294 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_2 を追加
2025-04-29 05:51:43,294 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_2 を追加
2025-04-29 05:51:43,294 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_3 を追加
2025-04-29 05:51:43,294 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_3 を追加
2025-04-29 05:51:43,294 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_3 を追加
2025-04-29 05:51:43,294 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_3 を追加
2025-04-29 05:51:43,295 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_3 を追加
2025-04-29 05:51:43,295 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_3 を追加
2025-04-29 05:51:43,295 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_3 を追加
2025-04-29 05:51:43,295 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_3 を追加
2025-04-29 05:51:43,295 - feature_selector - INFO - prepare_features: 特徴量: 42個, 目標変数: 36個
2025-04-29 05:51:43,295 - feature_selector - INFO - prepare_features: 特徴量セット: ['X', 'X_threshold_binary_1', 'X_threshold_binary_2', 'X_threshold_binary_3']
2025-04-29 05:51:43,295 - feature_selector - INFO - prepare_features: 目標変数名: ['regression_1', 'classification_1', 'threshold_ternary_classification_1', 'threshold_binary_classification_1', 'regression_2', 'classification_2', 'threshold_ternary_classification_2', 'threshold_binary_classification_2', 'regression_3', 'classification_3', 'threshold_ternary_classification_3', 'threshold_binary_classification_3', 'target_high_threshold_1p_long_1', 'target_high_threshold_1p_short_1', 'target_high_threshold_2p_long_1', 'target_high_threshold_2p_short_1', 'target_high_threshold_3p_long_1', 'target_high_threshold_3p_short_1', 'target_high_threshold_5p_long_1', 'target_high_threshold_5p_short_1', 'target_high_threshold_1p_long_2', 'target_high_threshold_1p_short_2', 'target_high_threshold_2p_long_2', 'target_high_threshold_2p_short_2', 'target_high_threshold_3p_long_2', 'target_high_threshold_3p_short_2', 'target_high_threshold_5p_long_2', 'target_high_threshold_5p_short_2', 'target_high_threshold_1p_long_3', 'target_high_threshold_1p_short_3', 'target_high_threshold_2p_long_3', 'target_high_threshold_2p_short_3', 'target_high_threshold_3p_long_3', 'target_high_threshold_3p_short_3', 'target_high_threshold_5p_long_3', 'target_high_threshold_5p_short_3']
2025-04-29 05:51:43,295 - feature_selector - INFO - prepare_features: classification_1 のクラスバランス: {1: 1361, -1: 1345}
2025-04-29 05:51:43,296 - feature_selector - INFO - prepare_features: threshold_ternary_classification_1 のクラスバランス: {1: 1361, 0: 1345}
2025-04-29 05:51:43,296 - feature_selector - INFO - prepare_features: threshold_binary_classification_1 のクラスバランス: {1.0: 1361, 0.0: 1345}
2025-04-29 05:51:43,296 - feature_selector - INFO - prepare_features: classification_2 のクラスバランス: {1: 1383, -1: 1323}
2025-04-29 05:51:43,296 - feature_selector - INFO - prepare_features: threshold_ternary_classification_2 のクラスバランス: {1: 1383, 0: 1323}
2025-04-29 05:51:43,297 - feature_selector - INFO - prepare_features: threshold_binary_classification_2 のクラスバランス: {1.0: 1383, 0.0: 1323}
2025-04-29 05:51:43,297 - feature_selector - INFO - prepare_features: classification_3 のクラスバランス: {1: 1378, -1: 1328}
2025-04-29 05:51:43,297 - feature_selector - INFO - prepare_features: threshold_ternary_classification_3 のクラスバランス: {1: 1378, 0: 1328}
2025-04-29 05:51:43,297 - feature_selector - INFO - prepare_features: threshold_binary_classification_3 のクラスバランス: {1.0: 1378, 0.0: 1328}
2025-04-29 05:51:43,297 - feature_selector - INFO - prepare_features: 特徴量と目標変数の準備を終了します
2025-04-29 05:51:43,297 - high_threshold_training - INFO - トレーニングデータとテストデータの分割
2025-04-29 05:51:43,297 - data_splitter - INFO - train_test_split: トレーニングデータとテストデータへの分割を開始します
2025-04-29 05:51:43,300 - data_splitter - INFO - train_test_split: トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:43,300 - data_splitter - INFO - train_test_split: トレーニングデータとテストデータへの分割を終了します
2025-04-29 05:51:43,300 - high_threshold_training - INFO - 利用可能な目標変数の確認:
2025-04-29 05:51:43,300 - high_threshold_training - INFO - - target_high_threshold_1p_long_1
2025-04-29 05:51:43,300 - high_threshold_training - INFO - - target_high_threshold_1p_short_1
2025-04-29 05:51:43,300 - high_threshold_training - INFO - - target_high_threshold_2p_long_1
2025-04-29 05:51:43,300 - high_threshold_training - INFO - - target_high_threshold_2p_short_1
2025-04-29 05:51:43,300 - high_threshold_training - INFO - - target_high_threshold_3p_long_1
2025-04-29 05:51:43,300 - high_threshold_training - INFO - - target_high_threshold_3p_short_1
2025-04-29 05:51:43,300 - high_threshold_training - INFO - - target_high_threshold_5p_long_1
2025-04-29 05:51:43,300 - high_threshold_training - INFO - - target_high_threshold_5p_short_1
2025-04-29 05:51:43,301 - high_threshold_training - INFO - - target_high_threshold_1p_long_2
2025-04-29 05:51:43,301 - high_threshold_training - INFO - - target_high_threshold_1p_short_2
2025-04-29 05:51:43,301 - high_threshold_training - INFO - - target_high_threshold_2p_long_2
2025-04-29 05:51:43,301 - high_threshold_training - INFO - - target_high_threshold_2p_short_2
2025-04-29 05:51:43,301 - high_threshold_training - INFO - - target_high_threshold_3p_long_2
2025-04-29 05:51:43,301 - high_threshold_training - INFO - - target_high_threshold_3p_short_2
2025-04-29 05:51:43,301 - high_threshold_training - INFO - - target_high_threshold_5p_long_2
2025-04-29 05:51:43,301 - high_threshold_training - INFO - - target_high_threshold_5p_short_2
2025-04-29 05:51:43,301 - high_threshold_training - INFO - - target_high_threshold_1p_long_3
2025-04-29 05:51:43,301 - high_threshold_training - INFO - - target_high_threshold_1p_short_3
2025-04-29 05:51:43,301 - high_threshold_training - INFO - - target_high_threshold_2p_long_3
2025-04-29 05:51:43,301 - high_threshold_training - INFO - - target_high_threshold_2p_short_3
2025-04-29 05:51:43,302 - high_threshold_training - INFO - - target_high_threshold_3p_long_3
2025-04-29 05:51:43,302 - high_threshold_training - INFO - - target_high_threshold_3p_short_3
2025-04-29 05:51:43,302 - high_threshold_training - INFO - - target_high_threshold_5p_long_3
2025-04-29 05:51:43,302 - high_threshold_training - INFO - - target_high_threshold_5p_short_3
2025-04-29 05:51:43,302 - high_threshold_training - INFO - 閾値:0.1% 方向:long 期間:1のモデルを訓練
2025-04-29 05:51:43,302 - base_trainer - INFO - ==== train: 1期先の高閾値(0.1%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:51:43,302 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_long_1 の準備を開始
2025-04-29 05:51:43,302 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1170, 1: 995}
2025-04-29 05:51:43,303 - base_trainer - INFO - シグナル発生率: 45.96%
2025-04-29 05:51:43,303 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:43,303 - base_trainer - INFO - クラス不均衡比率: 1.1759 (シグナル:非シグナル = 1:1.2)
2025-04-29 05:51:43,303 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.1759
2025-04-29 05:51:43,303 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.1758793969849246), 'verbose': -1}
2025-04-29 05:51:43,303 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:43,455 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 70)
2025-04-29 05:51:43,480 - base_trainer - INFO - 評価指標 - 精度: 0.7006, 適合率: 0.6695, 再現率: 0.6584, F1: 0.6639
2025-04-29 05:51:43,480 - base_trainer - INFO - シグナル比率: 0.4492
2025-04-29 05:51:43,480 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:43,480 - base_trainer - INFO -   閾値 0.3: 適合率=0.5590, 発生率=0.7209, シグナル数=390
2025-04-29 05:51:43,480 - base_trainer - INFO -   閾値 0.4: 適合率=0.6161, 発生率=0.5730, シグナル数=310
2025-04-29 05:51:43,480 - base_trainer - INFO -   閾値 0.5: 適合率=0.6695, 発生率=0.4418, シグナル数=239
2025-04-29 05:51:43,480 - base_trainer - INFO -   閾値 0.6: 適合率=0.7329, 発生率=0.2976, シグナル数=161
2025-04-29 05:51:43,480 - base_trainer - INFO -   閾値 0.7: 適合率=0.8367, 発生率=0.1811, シグナル数=98
2025-04-29 05:51:43,481 - base_trainer - INFO -   閾値 0.8: 適合率=1.0000, 発生率=0.0425, シグナル数=23
2025-04-29 05:51:43,481 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:43,481 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_long_1.joblib
2025-04-29 05:51:43,485 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_long_1.joblib に保存しました
2025-04-29 05:51:43,485 - high_threshold_training - INFO - モデル評価: 精度=0.7006, 適合率=0.6695, 再現率=0.6584
2025-04-29 05:51:43,485 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5590, シグナル率=0.7209, シグナル数=390
2025-04-29 05:51:43,485 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.6161, シグナル率=0.5730, シグナル数=310
2025-04-29 05:51:43,485 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6695, シグナル率=0.4418, シグナル数=239
2025-04-29 05:51:43,485 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7329, シグナル率=0.2976, シグナル数=161
2025-04-29 05:51:43,485 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8367, シグナル率=0.1811, シグナル数=98
2025-04-29 05:51:43,485 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=1.0000, シグナル率=0.0425, シグナル数=23
2025-04-29 05:51:43,486 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:43,486 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:43,486 - high_threshold_training - INFO - 閾値:0.1% 方向:long 期間:2のモデルを訓練
2025-04-29 05:51:43,486 - base_trainer - INFO - ==== train: 2期先の高閾値(0.1%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:51:43,486 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_long_2 の準備を開始
2025-04-29 05:51:43,486 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1172, 1: 993}
2025-04-29 05:51:43,487 - base_trainer - INFO - シグナル発生率: 45.87%
2025-04-29 05:51:43,487 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:43,487 - base_trainer - INFO - クラス不均衡比率: 1.1803 (シグナル:非シグナル = 1:1.2)
2025-04-29 05:51:43,487 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.1803
2025-04-29 05:51:43,487 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.1802618328298087), 'verbose': -1}
2025-04-29 05:51:43,487 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:43,623 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 61)
2025-04-29 05:51:43,646 - base_trainer - INFO - 評価指標 - 精度: 0.6488, 適合率: 0.6307, 再現率: 0.6008, F1: 0.6154
2025-04-29 05:51:43,646 - base_trainer - INFO - シグナル比率: 0.4677
2025-04-29 05:51:43,646 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:43,647 - base_trainer - INFO -   閾値 0.3: 適合率=0.5472, 発生率=0.7634, シグナル数=413
2025-04-29 05:51:43,647 - base_trainer - INFO -   閾値 0.4: 適合率=0.5795, 発生率=0.6506, シグナル数=352
2025-04-29 05:51:43,647 - base_trainer - INFO -   閾値 0.5: 適合率=0.6307, 発生率=0.4455, シグナル数=241
2025-04-29 05:51:43,647 - base_trainer - INFO -   閾値 0.6: 適合率=0.7361, 発生率=0.2662, シグナル数=144
2025-04-29 05:51:43,647 - base_trainer - INFO -   閾値 0.7: 適合率=0.8235, 発生率=0.1257, シグナル数=68
2025-04-29 05:51:43,647 - base_trainer - INFO -   閾値 0.8: 適合率=0.5000, 発生率=0.0148, シグナル数=8
2025-04-29 05:51:43,647 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:43,647 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_long_2.joblib
2025-04-29 05:51:43,651 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_long_2.joblib に保存しました
2025-04-29 05:51:43,651 - high_threshold_training - INFO - モデル評価: 精度=0.6488, 適合率=0.6307, 再現率=0.6008
2025-04-29 05:51:43,652 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5472, シグナル率=0.7634, シグナル数=413
2025-04-29 05:51:43,652 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5795, シグナル率=0.6506, シグナル数=352
2025-04-29 05:51:43,652 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6307, シグナル率=0.4455, シグナル数=241
2025-04-29 05:51:43,652 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7361, シグナル率=0.2662, シグナル数=144
2025-04-29 05:51:43,652 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8235, シグナル率=0.1257, シグナル数=68
2025-04-29 05:51:43,652 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.5000, シグナル率=0.0148, シグナル数=8
2025-04-29 05:51:43,652 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:43,652 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:43,652 - high_threshold_training - INFO - 閾値:0.1% 方向:long 期間:3のモデルを訓練
2025-04-29 05:51:43,652 - base_trainer - INFO - ==== train: 3期先の高閾値(0.1%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:51:43,652 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_long_3 の準備を開始
2025-04-29 05:51:43,653 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1169, 1: 996}
2025-04-29 05:51:43,653 - base_trainer - INFO - シグナル発生率: 46.00%
2025-04-29 05:51:43,653 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:43,654 - base_trainer - INFO - クラス不均衡比率: 1.1737 (シグナル:非シグナル = 1:1.2)
2025-04-29 05:51:43,654 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.1737
2025-04-29 05:51:43,654 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.1736947791164658), 'verbose': -1}
2025-04-29 05:51:43,654 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:43,780 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 54)
2025-04-29 05:51:43,804 - base_trainer - INFO - 評価指標 - 精度: 0.6710, 適合率: 0.6777, 再現率: 0.5652, F1: 0.6164
2025-04-29 05:51:43,804 - base_trainer - INFO - シグナル比率: 0.4677
2025-04-29 05:51:43,804 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:43,804 - base_trainer - INFO -   閾値 0.3: 適合率=0.5404, 発生率=0.8004, シグナル数=433
2025-04-29 05:51:43,804 - base_trainer - INFO -   閾値 0.4: 適合率=0.5821, 発生率=0.6192, シグナル数=335
2025-04-29 05:51:43,804 - base_trainer - INFO -   閾値 0.5: 適合率=0.6777, 発生率=0.3900, シグナル数=211
2025-04-29 05:51:43,804 - base_trainer - INFO -   閾値 0.6: 適合率=0.7451, 発生率=0.1885, シグナル数=102
2025-04-29 05:51:43,804 - base_trainer - INFO -   閾値 0.7: 適合率=0.8333, 発生率=0.0887, シグナル数=48
2025-04-29 05:51:43,804 - base_trainer - INFO -   閾値 0.8: 適合率=0.7778, 発生率=0.0166, シグナル数=9
2025-04-29 05:51:43,805 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:43,805 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_long_3.joblib
2025-04-29 05:51:43,808 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_long_3.joblib に保存しました
2025-04-29 05:51:43,808 - high_threshold_training - INFO - モデル評価: 精度=0.6710, 適合率=0.6777, 再現率=0.5652
2025-04-29 05:51:43,808 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5404, シグナル率=0.8004, シグナル数=433
2025-04-29 05:51:43,808 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5821, シグナル率=0.6192, シグナル数=335
2025-04-29 05:51:43,808 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6777, シグナル率=0.3900, シグナル数=211
2025-04-29 05:51:43,808 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7451, シグナル率=0.1885, シグナル数=102
2025-04-29 05:51:43,809 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8333, シグナル率=0.0887, シグナル数=48
2025-04-29 05:51:43,809 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.7778, シグナル率=0.0166, シグナル数=9
2025-04-29 05:51:43,809 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:43,809 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:43,809 - high_threshold_training - INFO - 閾値:0.1% 方向:short 期間:1のモデルを訓練
2025-04-29 05:51:43,809 - base_trainer - INFO - ==== train: 1期先の高閾値(0.1%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:51:43,809 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_short_1 の準備を開始
2025-04-29 05:51:43,809 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1185, 1: 980}
2025-04-29 05:51:43,810 - base_trainer - INFO - シグナル発生率: 45.27%
2025-04-29 05:51:43,810 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:43,810 - base_trainer - INFO - クラス不均衡比率: 1.2092 (シグナル:非シグナル = 1:1.2)
2025-04-29 05:51:43,810 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.2092
2025-04-29 05:51:43,810 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.2091836734693877), 'verbose': -1}
2025-04-29 05:51:43,810 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:43,961 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 93)
2025-04-29 05:51:43,989 - base_trainer - INFO - 評価指標 - 精度: 0.7006, 適合率: 0.6653, 再現率: 0.6653, F1: 0.6653
2025-04-29 05:51:43,989 - base_trainer - INFO - シグナル比率: 0.4473
2025-04-29 05:51:43,989 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:43,989 - base_trainer - INFO -   閾値 0.3: 適合率=0.5578, 発生率=0.7357, シグナル数=398
2025-04-29 05:51:43,989 - base_trainer - INFO -   閾値 0.4: 適合率=0.6235, 発生率=0.5989, シグナル数=324
2025-04-29 05:51:43,989 - base_trainer - INFO -   閾値 0.5: 適合率=0.6653, 発生率=0.4473, シグナル数=242
2025-04-29 05:51:43,989 - base_trainer - INFO -   閾値 0.6: 適合率=0.7345, 発生率=0.3272, シグナル数=177
2025-04-29 05:51:43,989 - base_trainer - INFO -   閾値 0.7: 適合率=0.7692, 発生率=0.2163, シグナル数=117
2025-04-29 05:51:43,989 - base_trainer - INFO -   閾値 0.8: 適合率=0.7746, 発生率=0.1312, シグナル数=71
2025-04-29 05:51:43,989 - base_trainer - INFO -   閾値 0.9: 適合率=0.5000, 発生率=0.0111, シグナル数=6
2025-04-29 05:51:43,990 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_short_1.joblib
2025-04-29 05:51:43,994 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_short_1.joblib に保存しました
2025-04-29 05:51:43,994 - high_threshold_training - INFO - モデル評価: 精度=0.7006, 適合率=0.6653, 再現率=0.6653
2025-04-29 05:51:43,994 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5578, シグナル率=0.7357, シグナル数=398
2025-04-29 05:51:43,995 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.6235, シグナル率=0.5989, シグナル数=324
2025-04-29 05:51:43,995 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6653, シグナル率=0.4473, シグナル数=242
2025-04-29 05:51:43,995 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7345, シグナル率=0.3272, シグナル数=177
2025-04-29 05:51:43,995 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7692, シグナル率=0.2163, シグナル数=117
2025-04-29 05:51:43,995 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.7746, シグナル率=0.1312, シグナル数=71
2025-04-29 05:51:43,995 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=0.5000, シグナル率=0.0111, シグナル数=6
2025-04-29 05:51:43,995 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:43,995 - high_threshold_training - INFO - 閾値:0.1% 方向:short 期間:2のモデルを訓練
2025-04-29 05:51:43,995 - base_trainer - INFO - ==== train: 2期先の高閾値(0.1%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:51:43,995 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_short_2 の準備を開始
2025-04-29 05:51:43,996 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1191, 1: 974}
2025-04-29 05:51:43,996 - base_trainer - INFO - シグナル発生率: 44.99%
2025-04-29 05:51:43,996 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:43,996 - base_trainer - INFO - クラス不均衡比率: 1.2228 (シグナル:非シグナル = 1:1.2)
2025-04-29 05:51:43,997 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.2228
2025-04-29 05:51:43,997 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.2227926078028748), 'verbose': -1}
2025-04-29 05:51:43,997 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:44,137 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 78)
2025-04-29 05:51:44,162 - base_trainer - INFO - 評価指標 - 精度: 0.6654, 適合率: 0.6293, 再現率: 0.6058, F1: 0.6173
2025-04-29 05:51:44,163 - base_trainer - INFO - シグナル比率: 0.4455
2025-04-29 05:51:44,163 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:44,163 - base_trainer - INFO -   閾値 0.3: 適合率=0.5116, 発生率=0.7985, シグナル数=432
2025-04-29 05:51:44,163 - base_trainer - INFO -   閾値 0.4: 適合率=0.5575, 発生率=0.6433, シグナル数=348
2025-04-29 05:51:44,163 - base_trainer - INFO -   閾値 0.5: 適合率=0.6293, 発生率=0.4288, シグナル数=232
2025-04-29 05:51:44,163 - base_trainer - INFO -   閾値 0.6: 適合率=0.7020, 発生率=0.2791, シグナル数=151
2025-04-29 05:51:44,163 - base_trainer - INFO -   閾値 0.7: 適合率=0.7653, 発生率=0.1811, シグナル数=98
2025-04-29 05:51:44,163 - base_trainer - INFO -   閾値 0.8: 適合率=0.8400, 発生率=0.0924, シグナル数=50
2025-04-29 05:51:44,163 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:44,163 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_short_2.joblib
2025-04-29 05:51:44,167 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_short_2.joblib に保存しました
2025-04-29 05:51:44,168 - high_threshold_training - INFO - モデル評価: 精度=0.6654, 適合率=0.6293, 再現率=0.6058
2025-04-29 05:51:44,168 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5116, シグナル率=0.7985, シグナル数=432
2025-04-29 05:51:44,168 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5575, シグナル率=0.6433, シグナル数=348
2025-04-29 05:51:44,168 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6293, シグナル率=0.4288, シグナル数=232
2025-04-29 05:51:44,168 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7020, シグナル率=0.2791, シグナル数=151
2025-04-29 05:51:44,168 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7653, シグナル率=0.1811, シグナル数=98
2025-04-29 05:51:44,168 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.8400, シグナル率=0.0924, シグナル数=50
2025-04-29 05:51:44,168 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:44,168 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:44,168 - high_threshold_training - INFO - 閾値:0.1% 方向:short 期間:3のモデルを訓練
2025-04-29 05:51:44,168 - base_trainer - INFO - ==== train: 3期先の高閾値(0.1%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:51:44,169 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_short_3 の準備を開始
2025-04-29 05:51:44,169 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1200, 1: 965}
2025-04-29 05:51:44,169 - base_trainer - INFO - シグナル発生率: 44.57%
2025-04-29 05:51:44,169 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:44,170 - base_trainer - INFO - クラス不均衡比率: 1.2435 (シグナル:非シグナル = 1:1.2)
2025-04-29 05:51:44,170 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.2435
2025-04-29 05:51:44,170 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.2435233160621761), 'verbose': -1}
2025-04-29 05:51:44,170 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:44,292 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 54)
2025-04-29 05:51:44,317 - base_trainer - INFO - 評価指標 - 精度: 0.6506, 適合率: 0.6178, 再現率: 0.6400, F1: 0.6287
2025-04-29 05:51:44,317 - base_trainer - INFO - シグナル比率: 0.4621
2025-04-29 05:51:44,317 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:44,317 - base_trainer - INFO -   閾値 0.3: 適合率=0.4959, 発生率=0.8909, シグナル数=482
2025-04-29 05:51:44,317 - base_trainer - INFO -   閾値 0.4: 適合率=0.5418, 発生率=0.7301, シグナル数=395
2025-04-29 05:51:44,318 - base_trainer - INFO -   閾値 0.5: 適合率=0.6178, 発生率=0.4787, シグナル数=259
2025-04-29 05:51:44,318 - base_trainer - INFO -   閾値 0.6: 適合率=0.7432, 発生率=0.2736, シグナル数=148
2025-04-29 05:51:44,319 - base_trainer - INFO -   閾値 0.7: 適合率=0.8358, 発生率=0.1238, シグナル数=67
2025-04-29 05:51:44,319 - base_trainer - INFO -   閾値 0.8: 適合率=1.0000, 発生率=0.0111, シグナル数=6
2025-04-29 05:51:44,319 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:44,319 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_short_3.joblib
2025-04-29 05:51:44,322 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_short_3.joblib に保存しました
2025-04-29 05:51:44,323 - high_threshold_training - INFO - モデル評価: 精度=0.6506, 適合率=0.6178, 再現率=0.6400
2025-04-29 05:51:44,323 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4959, シグナル率=0.8909, シグナル数=482
2025-04-29 05:51:44,323 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5418, シグナル率=0.7301, シグナル数=395
2025-04-29 05:51:44,323 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6178, シグナル率=0.4787, シグナル数=259
2025-04-29 05:51:44,323 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7432, シグナル率=0.2736, シグナル数=148
2025-04-29 05:51:44,323 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8358, シグナル率=0.1238, シグナル数=67
2025-04-29 05:51:44,323 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=1.0000, シグナル率=0.0111, シグナル数=6
2025-04-29 05:51:44,324 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:44,324 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:44,324 - high_threshold_training - INFO - 閾値:0.2% 方向:long 期間:1のモデルを訓練
2025-04-29 05:51:44,324 - base_trainer - INFO - ==== train: 1期先の高閾値(0.2%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:51:44,324 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_long_1 の準備を開始
2025-04-29 05:51:44,324 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1313, 1: 852}
2025-04-29 05:51:44,324 - base_trainer - INFO - シグナル発生率: 39.35%
2025-04-29 05:51:44,325 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:44,325 - base_trainer - INFO - クラス不均衡比率: 1.5411 (シグナル:非シグナル = 1:1.5)
2025-04-29 05:51:44,325 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.5411
2025-04-29 05:51:44,325 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.5410798122065728), 'verbose': -1}
2025-04-29 05:51:44,325 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:44,472 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 83)
2025-04-29 05:51:44,496 - base_trainer - INFO - 評価指標 - 精度: 0.6913, 適合率: 0.6132, 再現率: 0.6047, F1: 0.6089
2025-04-29 05:51:44,496 - base_trainer - INFO - シグナル比率: 0.3974
2025-04-29 05:51:44,496 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:44,496 - base_trainer - INFO -   閾値 0.3: 適合率=0.5268, 発生率=0.6562, シグナル数=355
2025-04-29 05:51:44,496 - base_trainer - INFO -   閾値 0.4: 適合率=0.5654, 発生率=0.5231, シグナル数=283
2025-04-29 05:51:44,496 - base_trainer - INFO -   閾値 0.5: 適合率=0.6132, 発生率=0.3919, シグナル数=212
2025-04-29 05:51:44,496 - base_trainer - INFO -   閾値 0.6: 適合率=0.7273, 発生率=0.2440, シグナル数=132
2025-04-29 05:51:44,497 - base_trainer - INFO -   閾値 0.7: 適合率=0.8214, 発生率=0.1553, シグナル数=84
2025-04-29 05:51:44,497 - base_trainer - INFO -   閾値 0.8: 適合率=0.8621, 発生率=0.0536, シグナル数=29
2025-04-29 05:51:44,497 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:44,497 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_long_1.joblib
2025-04-29 05:51:44,501 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_long_1.joblib に保存しました
2025-04-29 05:51:44,502 - high_threshold_training - INFO - モデル評価: 精度=0.6913, 適合率=0.6132, 再現率=0.6047
2025-04-29 05:51:44,502 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5268, シグナル率=0.6562, シグナル数=355
2025-04-29 05:51:44,502 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5654, シグナル率=0.5231, シグナル数=283
2025-04-29 05:51:44,502 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6132, シグナル率=0.3919, シグナル数=212
2025-04-29 05:51:44,502 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7273, シグナル率=0.2440, シグナル数=132
2025-04-29 05:51:44,502 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8214, シグナル率=0.1553, シグナル数=84
2025-04-29 05:51:44,502 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.8621, シグナル率=0.0536, シグナル数=29
2025-04-29 05:51:44,502 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:44,502 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:44,503 - high_threshold_training - INFO - 閾値:0.2% 方向:long 期間:2のモデルを訓練
2025-04-29 05:51:44,503 - base_trainer - INFO - ==== train: 2期先の高閾値(0.2%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:51:44,503 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_long_2 の準備を開始
2025-04-29 05:51:44,503 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1276, 1: 889}
2025-04-29 05:51:44,503 - base_trainer - INFO - シグナル発生率: 41.06%
2025-04-29 05:51:44,503 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:44,504 - base_trainer - INFO - クラス不均衡比率: 1.4353 (シグナル:非シグナル = 1:1.4)
2025-04-29 05:51:44,504 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.4353
2025-04-29 05:51:44,504 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.4353205849268842), 'verbose': -1}
2025-04-29 05:51:44,504 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:44,628 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 52)
2025-04-29 05:51:44,648 - base_trainer - INFO - 評価指標 - 精度: 0.6488, 適合率: 0.5874, 再現率: 0.5354, F1: 0.5602
2025-04-29 05:51:44,649 - base_trainer - INFO - シグナル比率: 0.4177
2025-04-29 05:51:44,649 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:44,649 - base_trainer - INFO -   閾値 0.3: 適合率=0.4987, 発生率=0.7338, シグナル数=397
2025-04-29 05:51:44,649 - base_trainer - INFO -   閾値 0.4: 適合率=0.5327, 発生率=0.5933, シグナル数=321
2025-04-29 05:51:44,649 - base_trainer - INFO -   閾値 0.5: 適合率=0.5874, 発生率=0.3808, シグナル数=206
2025-04-29 05:51:44,649 - base_trainer - INFO -   閾値 0.6: 適合率=0.6748, 発生率=0.2274, シグナル数=123
2025-04-29 05:51:44,650 - base_trainer - INFO -   閾値 0.7: 適合率=0.7143, 発生率=0.0776, シグナル数=42
2025-04-29 05:51:44,650 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:44,650 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:44,650 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_long_2.joblib
2025-04-29 05:51:44,653 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_long_2.joblib に保存しました
2025-04-29 05:51:44,653 - high_threshold_training - INFO - モデル評価: 精度=0.6488, 適合率=0.5874, 再現率=0.5354
2025-04-29 05:51:44,654 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4987, シグナル率=0.7338, シグナル数=397
2025-04-29 05:51:44,654 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5327, シグナル率=0.5933, シグナル数=321
2025-04-29 05:51:44,654 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5874, シグナル率=0.3808, シグナル数=206
2025-04-29 05:51:44,654 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6748, シグナル率=0.2274, シグナル数=123
2025-04-29 05:51:44,654 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7143, シグナル率=0.0776, シグナル数=42
2025-04-29 05:51:44,654 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:44,654 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:44,654 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:44,654 - high_threshold_training - INFO - 閾値:0.2% 方向:long 期間:3のモデルを訓練
2025-04-29 05:51:44,654 - base_trainer - INFO - ==== train: 3期先の高閾値(0.2%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:51:44,655 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_long_3 の準備を開始
2025-04-29 05:51:44,655 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1276, 1: 889}
2025-04-29 05:51:44,655 - base_trainer - INFO - シグナル発生率: 41.06%
2025-04-29 05:51:44,655 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:44,656 - base_trainer - INFO - クラス不均衡比率: 1.4353 (シグナル:非シグナル = 1:1.4)
2025-04-29 05:51:44,656 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.4353
2025-04-29 05:51:44,656 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.4353205849268842), 'verbose': -1}
2025-04-29 05:51:44,656 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:44,808 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 98)
2025-04-29 05:51:44,832 - base_trainer - INFO - 評価指標 - 精度: 0.6525, 適合率: 0.6087, 再現率: 0.4912, F1: 0.5437
2025-04-29 05:51:44,832 - base_trainer - INFO - シグナル比率: 0.4214
2025-04-29 05:51:44,832 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:44,832 - base_trainer - INFO -   閾値 0.3: 適合率=0.5323, 発生率=0.6876, シグナル数=372
2025-04-29 05:51:44,832 - base_trainer - INFO -   閾値 0.4: 適合率=0.5664, 発生率=0.5287, シグナル数=286
2025-04-29 05:51:44,832 - base_trainer - INFO -   閾値 0.5: 適合率=0.6087, 発生率=0.3401, シグナル数=184
2025-04-29 05:51:44,832 - base_trainer - INFO -   閾値 0.6: 適合率=0.6702, 発生率=0.1738, シグナル数=94
2025-04-29 05:51:44,832 - base_trainer - INFO -   閾値 0.7: 適合率=0.7885, 発生率=0.0961, シグナル数=52
2025-04-29 05:51:44,832 - base_trainer - INFO -   閾値 0.8: 適合率=0.8824, 発生率=0.0314, シグナル数=17
2025-04-29 05:51:44,832 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:44,833 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_long_3.joblib
2025-04-29 05:51:44,838 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_long_3.joblib に保存しました
2025-04-29 05:51:44,838 - high_threshold_training - INFO - モデル評価: 精度=0.6525, 適合率=0.6087, 再現率=0.4912
2025-04-29 05:51:44,838 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5323, シグナル率=0.6876, シグナル数=372
2025-04-29 05:51:44,838 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5664, シグナル率=0.5287, シグナル数=286
2025-04-29 05:51:44,838 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6087, シグナル率=0.3401, シグナル数=184
2025-04-29 05:51:44,838 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6702, シグナル率=0.1738, シグナル数=94
2025-04-29 05:51:44,838 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7885, シグナル率=0.0961, シグナル数=52
2025-04-29 05:51:44,838 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.8824, シグナル率=0.0314, シグナル数=17
2025-04-29 05:51:44,838 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:44,839 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:44,839 - high_threshold_training - INFO - 閾値:0.2% 方向:short 期間:1のモデルを訓練
2025-04-29 05:51:44,839 - base_trainer - INFO - ==== train: 1期先の高閾値(0.2%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:51:44,839 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_short_1 の準備を開始
2025-04-29 05:51:44,839 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1297, 1: 868}
2025-04-29 05:51:44,839 - base_trainer - INFO - シグナル発生率: 40.09%
2025-04-29 05:51:44,840 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:44,840 - base_trainer - INFO - クラス不均衡比率: 1.4942 (シグナル:非シグナル = 1:1.5)
2025-04-29 05:51:44,840 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.4942
2025-04-29 05:51:44,840 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.4942396313364055), 'verbose': -1}
2025-04-29 05:51:44,840 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:44,991 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 98)
2025-04-29 05:51:45,015 - base_trainer - INFO - 評価指標 - 精度: 0.7116, 適合率: 0.6332, 再現率: 0.6682, F1: 0.6502
2025-04-29 05:51:45,015 - base_trainer - INFO - シグナル比率: 0.4011
2025-04-29 05:51:45,015 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:45,015 - base_trainer - INFO -   閾値 0.3: 適合率=0.5239, 発生率=0.6950, シグナル数=376
2025-04-29 05:51:45,015 - base_trainer - INFO -   閾値 0.4: 適合率=0.5609, 発生率=0.5767, シグナル数=312
2025-04-29 05:51:45,015 - base_trainer - INFO -   閾値 0.5: 適合率=0.6332, 発生率=0.4233, シグナル数=229
2025-04-29 05:51:45,015 - base_trainer - INFO -   閾値 0.6: 適合率=0.6835, 発生率=0.2921, シグナル数=158
2025-04-29 05:51:45,015 - base_trainer - INFO -   閾値 0.7: 適合率=0.7523, 発生率=0.2015, シグナル数=109
2025-04-29 05:51:45,015 - base_trainer - INFO -   閾値 0.8: 適合率=0.7619, 発生率=0.0776, シグナル数=42
2025-04-29 05:51:45,016 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:45,016 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_short_1.joblib
2025-04-29 05:51:45,021 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_short_1.joblib に保存しました
2025-04-29 05:51:45,021 - high_threshold_training - INFO - モデル評価: 精度=0.7116, 適合率=0.6332, 再現率=0.6682
2025-04-29 05:51:45,021 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5239, シグナル率=0.6950, シグナル数=376
2025-04-29 05:51:45,021 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5609, シグナル率=0.5767, シグナル数=312
2025-04-29 05:51:45,021 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6332, シグナル率=0.4233, シグナル数=229
2025-04-29 05:51:45,021 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6835, シグナル率=0.2921, シグナル数=158
2025-04-29 05:51:45,021 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7523, シグナル率=0.2015, シグナル数=109
2025-04-29 05:51:45,022 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.7619, シグナル率=0.0776, シグナル数=42
2025-04-29 05:51:45,022 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:45,022 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:45,022 - high_threshold_training - INFO - 閾値:0.2% 方向:short 期間:2のモデルを訓練
2025-04-29 05:51:45,022 - base_trainer - INFO - ==== train: 2期先の高閾値(0.2%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:51:45,022 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_short_2 の準備を開始
2025-04-29 05:51:45,022 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1307, 1: 858}
2025-04-29 05:51:45,023 - base_trainer - INFO - シグナル発生率: 39.63%
2025-04-29 05:51:45,023 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:45,023 - base_trainer - INFO - クラス不均衡比率: 1.5233 (シグナル:非シグナル = 1:1.5)
2025-04-29 05:51:45,023 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.5233
2025-04-29 05:51:45,023 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.5233100233100234), 'verbose': -1}
2025-04-29 05:51:45,023 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:45,141 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 43)
2025-04-29 05:51:45,166 - base_trainer - INFO - 評価指標 - 精度: 0.6913, 適合率: 0.6212, 再現率: 0.5721, F1: 0.5956
2025-04-29 05:51:45,166 - base_trainer - INFO - シグナル比率: 0.3974
2025-04-29 05:51:45,166 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:45,166 - base_trainer - INFO -   閾値 0.3: 適合率=0.4726, 発生率=0.7745, シグナル数=419
2025-04-29 05:51:45,166 - base_trainer - INFO -   閾値 0.4: 適合率=0.5392, 発生率=0.5656, シグナル数=306
2025-04-29 05:51:45,166 - base_trainer - INFO -   閾値 0.5: 適合率=0.6212, 発生率=0.3660, シグナル数=198
2025-04-29 05:51:45,166 - base_trainer - INFO -   閾値 0.6: 適合率=0.6696, 発生率=0.2070, シグナル数=112
2025-04-29 05:51:45,167 - base_trainer - INFO -   閾値 0.7: 適合率=0.7674, 発生率=0.0795, シグナル数=43
2025-04-29 05:51:45,167 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:45,167 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:45,167 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_short_2.joblib
2025-04-29 05:51:45,170 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_short_2.joblib に保存しました
2025-04-29 05:51:45,170 - high_threshold_training - INFO - モデル評価: 精度=0.6913, 適合率=0.6212, 再現率=0.5721
2025-04-29 05:51:45,170 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4726, シグナル率=0.7745, シグナル数=419
2025-04-29 05:51:45,170 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5392, シグナル率=0.5656, シグナル数=306
2025-04-29 05:51:45,171 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6212, シグナル率=0.3660, シグナル数=198
2025-04-29 05:51:45,171 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6696, シグナル率=0.2070, シグナル数=112
2025-04-29 05:51:45,171 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7674, シグナル率=0.0795, シグナル数=43
2025-04-29 05:51:45,171 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:45,171 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:45,171 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:45,171 - high_threshold_training - INFO - 閾値:0.2% 方向:short 期間:3のモデルを訓練
2025-04-29 05:51:45,171 - base_trainer - INFO - ==== train: 3期先の高閾値(0.2%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:51:45,171 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_short_3 の準備を開始
2025-04-29 05:51:45,172 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1314, 1: 851}
2025-04-29 05:51:45,172 - base_trainer - INFO - シグナル発生率: 39.31%
2025-04-29 05:51:45,172 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:45,172 - base_trainer - INFO - クラス不均衡比率: 1.5441 (シグナル:非シグナル = 1:1.5)
2025-04-29 05:51:45,173 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.5441
2025-04-29 05:51:45,173 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.5440658049353702), 'verbose': -1}
2025-04-29 05:51:45,173 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:45,307 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 67)
2025-04-29 05:51:45,332 - base_trainer - INFO - 評価指標 - 精度: 0.6636, 適合率: 0.5992, 再現率: 0.6304, F1: 0.6144
2025-04-29 05:51:45,332 - base_trainer - INFO - シグナル比率: 0.4251
2025-04-29 05:51:45,332 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:45,332 - base_trainer - INFO -   閾値 0.3: 適合率=0.4767, 発生率=0.8336, シグナル数=451
2025-04-29 05:51:45,332 - base_trainer - INFO -   閾値 0.4: 適合率=0.5304, 発生率=0.6377, シグナル数=345
2025-04-29 05:51:45,332 - base_trainer - INFO -   閾値 0.5: 適合率=0.5992, 発生率=0.4473, シグナル数=242
2025-04-29 05:51:45,332 - base_trainer - INFO -   閾値 0.6: 適合率=0.7075, 発生率=0.2717, シグナル数=147
2025-04-29 05:51:45,332 - base_trainer - INFO -   閾値 0.7: 適合率=0.7975, 発生率=0.1460, シグナル数=79
2025-04-29 05:51:45,332 - base_trainer - INFO -   閾値 0.8: 適合率=1.0000, 発生率=0.0111, シグナル数=6
2025-04-29 05:51:45,333 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:45,333 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_short_3.joblib
2025-04-29 05:51:45,336 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_short_3.joblib に保存しました
2025-04-29 05:51:45,336 - high_threshold_training - INFO - モデル評価: 精度=0.6636, 適合率=0.5992, 再現率=0.6304
2025-04-29 05:51:45,337 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4767, シグナル率=0.8336, シグナル数=451
2025-04-29 05:51:45,337 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5304, シグナル率=0.6377, シグナル数=345
2025-04-29 05:51:45,337 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5992, シグナル率=0.4473, シグナル数=242
2025-04-29 05:51:45,337 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7075, シグナル率=0.2717, シグナル数=147
2025-04-29 05:51:45,337 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7975, シグナル率=0.1460, シグナル数=79
2025-04-29 05:51:45,337 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=1.0000, シグナル率=0.0111, シグナル数=6
2025-04-29 05:51:45,337 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:45,337 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:45,337 - high_threshold_training - INFO - 閾値:0.3% 方向:long 期間:1のモデルを訓練
2025-04-29 05:51:45,338 - base_trainer - INFO - ==== train: 1期先の高閾値(0.3%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:51:45,338 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_long_1 の準備を開始
2025-04-29 05:51:45,338 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1408, 1: 757}
2025-04-29 05:51:45,338 - base_trainer - INFO - シグナル発生率: 34.97%
2025-04-29 05:51:45,338 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:45,339 - base_trainer - INFO - クラス不均衡比率: 1.8600 (シグナル:非シグナル = 1:1.9)
2025-04-29 05:51:45,339 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.8600
2025-04-29 05:51:45,339 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.8599735799207398), 'verbose': -1}
2025-04-29 05:51:45,339 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:45,486 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 84)
2025-04-29 05:51:45,510 - base_trainer - INFO - 評価指標 - 精度: 0.7375, 適合率: 0.6333, 再現率: 0.6000, F1: 0.6162
2025-04-29 05:51:45,510 - base_trainer - INFO - シグナル比率: 0.3512
2025-04-29 05:51:45,510 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:45,511 - base_trainer - INFO -   閾値 0.3: 適合率=0.4746, 発生率=0.6543, シグナル数=354
2025-04-29 05:51:45,511 - base_trainer - INFO -   閾値 0.4: 適合率=0.5437, 発生率=0.4861, シグナル数=263
2025-04-29 05:51:45,511 - base_trainer - INFO -   閾値 0.5: 適合率=0.6333, 発生率=0.3327, シグナル数=180
2025-04-29 05:51:45,511 - base_trainer - INFO -   閾値 0.6: 適合率=0.6953, 発生率=0.2366, シグナル数=128
2025-04-29 05:51:45,511 - base_trainer - INFO -   閾値 0.7: 適合率=0.8116, 発生率=0.1275, シグナル数=69
2025-04-29 05:51:45,511 - base_trainer - INFO -   閾値 0.8: 適合率=0.8889, 発生率=0.0333, シグナル数=18
2025-04-29 05:51:45,511 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:45,511 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_long_1.joblib
2025-04-29 05:51:45,515 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_long_1.joblib に保存しました
2025-04-29 05:51:45,516 - high_threshold_training - INFO - モデル評価: 精度=0.7375, 適合率=0.6333, 再現率=0.6000
2025-04-29 05:51:45,516 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4746, シグナル率=0.6543, シグナル数=354
2025-04-29 05:51:45,516 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5437, シグナル率=0.4861, シグナル数=263
2025-04-29 05:51:45,516 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6333, シグナル率=0.3327, シグナル数=180
2025-04-29 05:51:45,516 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6953, シグナル率=0.2366, シグナル数=128
2025-04-29 05:51:45,516 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8116, シグナル率=0.1275, シグナル数=69
2025-04-29 05:51:45,516 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.8889, シグナル率=0.0333, シグナル数=18
2025-04-29 05:51:45,516 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:45,516 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:45,517 - high_threshold_training - INFO - 閾値:0.3% 方向:long 期間:2のモデルを訓練
2025-04-29 05:51:45,517 - base_trainer - INFO - ==== train: 2期先の高閾値(0.3%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:51:45,517 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_long_2 の準備を開始
2025-04-29 05:51:45,517 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1395, 1: 770}
2025-04-29 05:51:45,518 - base_trainer - INFO - シグナル発生率: 35.57%
2025-04-29 05:51:45,518 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:45,518 - base_trainer - INFO - クラス不均衡比率: 1.8117 (シグナル:非シグナル = 1:1.8)
2025-04-29 05:51:45,518 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.8117
2025-04-29 05:51:45,518 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.8116883116883118), 'verbose': -1}
2025-04-29 05:51:45,518 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:45,638 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 45)
2025-04-29 05:51:45,659 - base_trainer - INFO - 評価指標 - 精度: 0.6562, 適合率: 0.5359, 再現率: 0.4874, F1: 0.5105
2025-04-29 05:51:45,659 - base_trainer - INFO - シグナル比率: 0.3678
2025-04-29 05:51:45,659 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:45,659 - base_trainer - INFO -   閾値 0.3: 適合率=0.4386, 発生率=0.7375, シグナル数=399
2025-04-29 05:51:45,659 - base_trainer - INFO -   閾値 0.4: 適合率=0.4843, 発生率=0.5305, シグナル数=287
2025-04-29 05:51:45,659 - base_trainer - INFO -   閾値 0.5: 適合率=0.5359, 発生率=0.3346, シグナル数=181
2025-04-29 05:51:45,659 - base_trainer - INFO -   閾値 0.6: 適合率=0.6875, 発生率=0.1479, シグナル数=80
2025-04-29 05:51:45,659 - base_trainer - INFO -   閾値 0.7: 適合率=0.6667, 発生率=0.0277, シグナル数=15
2025-04-29 05:51:45,659 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:45,660 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:45,660 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_long_2.joblib
2025-04-29 05:51:45,663 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_long_2.joblib に保存しました
2025-04-29 05:51:45,663 - high_threshold_training - INFO - モデル評価: 精度=0.6562, 適合率=0.5359, 再現率=0.4874
2025-04-29 05:51:45,663 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4386, シグナル率=0.7375, シグナル数=399
2025-04-29 05:51:45,663 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4843, シグナル率=0.5305, シグナル数=287
2025-04-29 05:51:45,663 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5359, シグナル率=0.3346, シグナル数=181
2025-04-29 05:51:45,664 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6875, シグナル率=0.1479, シグナル数=80
2025-04-29 05:51:45,664 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.6667, シグナル率=0.0277, シグナル数=15
2025-04-29 05:51:45,664 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:45,664 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:45,664 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:45,664 - high_threshold_training - INFO - 閾値:0.3% 方向:long 期間:3のモデルを訓練
2025-04-29 05:51:45,664 - base_trainer - INFO - ==== train: 3期先の高閾値(0.3%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:51:45,664 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_long_3 の準備を開始
2025-04-29 05:51:45,665 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1370, 1: 795}
2025-04-29 05:51:45,665 - base_trainer - INFO - シグナル発生率: 36.72%
2025-04-29 05:51:45,665 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:45,665 - base_trainer - INFO - クラス不均衡比率: 1.7233 (シグナル:非シグナル = 1:1.7)
2025-04-29 05:51:45,665 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.7233
2025-04-29 05:51:45,666 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.7232704402515724), 'verbose': -1}
2025-04-29 05:51:45,666 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:45,813 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 75)
2025-04-29 05:51:45,838 - base_trainer - INFO - 評価指標 - 精度: 0.6765, 適合率: 0.6094, 再現率: 0.3842, F1: 0.4713
2025-04-29 05:51:45,838 - base_trainer - INFO - シグナル比率: 0.3752
2025-04-29 05:51:45,838 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:45,838 - base_trainer - INFO -   閾値 0.3: 適合率=0.4903, 発生率=0.6636, シグナル数=359
2025-04-29 05:51:45,838 - base_trainer - INFO -   閾値 0.4: 適合率=0.5574, 発生率=0.4510, シグナル数=244
2025-04-29 05:51:45,839 - base_trainer - INFO -   閾値 0.5: 適合率=0.6094, 発生率=0.2366, シグナル数=128
2025-04-29 05:51:45,839 - base_trainer - INFO -   閾値 0.6: 適合率=0.7794, 発生率=0.1257, シグナル数=68
2025-04-29 05:51:45,839 - base_trainer - INFO -   閾値 0.7: 適合率=0.7429, 発生率=0.0647, シグナル数=35
2025-04-29 05:51:45,839 - base_trainer - INFO -   閾値 0.8: 適合率=0.8750, 発生率=0.0148, シグナル数=8
2025-04-29 05:51:45,839 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:45,839 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_long_3.joblib
2025-04-29 05:51:45,843 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_long_3.joblib に保存しました
2025-04-29 05:51:45,843 - high_threshold_training - INFO - モデル評価: 精度=0.6765, 適合率=0.6094, 再現率=0.3842
2025-04-29 05:51:45,843 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4903, シグナル率=0.6636, シグナル数=359
2025-04-29 05:51:45,843 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5574, シグナル率=0.4510, シグナル数=244
2025-04-29 05:51:45,843 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6094, シグナル率=0.2366, シグナル数=128
2025-04-29 05:51:45,844 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7794, シグナル率=0.1257, シグナル数=68
2025-04-29 05:51:45,844 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7429, シグナル率=0.0647, シグナル数=35
2025-04-29 05:51:45,844 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.8750, シグナル率=0.0148, シグナル数=8
2025-04-29 05:51:45,844 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:45,844 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:45,844 - high_threshold_training - INFO - 閾値:0.3% 方向:short 期間:1のモデルを訓練
2025-04-29 05:51:45,844 - base_trainer - INFO - ==== train: 1期先の高閾値(0.3%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:51:45,844 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_short_1 の準備を開始
2025-04-29 05:51:45,845 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1442, 1: 723}
2025-04-29 05:51:45,845 - base_trainer - INFO - シグナル発生率: 33.39%
2025-04-29 05:51:45,845 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:45,845 - base_trainer - INFO - クラス不均衡比率: 1.9945 (シグナル:非シグナル = 1:2.0)
2025-04-29 05:51:45,846 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.9945
2025-04-29 05:51:45,846 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.9944674965421854), 'verbose': -1}
2025-04-29 05:51:45,846 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:46,023 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 73)
2025-04-29 05:51:46,048 - base_trainer - INFO - 評価指標 - 精度: 0.7190, 適合率: 0.5792, 再現率: 0.6359, F1: 0.6062
2025-04-29 05:51:46,048 - base_trainer - INFO - シグナル比率: 0.3401
2025-04-29 05:51:46,048 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:46,048 - base_trainer - INFO -   閾値 0.3: 適合率=0.4749, 発生率=0.6617, シグナル数=358
2025-04-29 05:51:46,048 - base_trainer - INFO -   閾値 0.4: 適合率=0.5000, 発生率=0.5619, シグナル数=304
2025-04-29 05:51:46,048 - base_trainer - INFO -   閾値 0.5: 適合率=0.5792, 発生率=0.3734, シグナル数=202
2025-04-29 05:51:46,049 - base_trainer - INFO -   閾値 0.6: 適合率=0.6642, 発生率=0.2477, シグナル数=134
2025-04-29 05:51:46,049 - base_trainer - INFO -   閾値 0.7: 適合率=0.7237, 発生率=0.1405, シグナル数=76
2025-04-29 05:51:46,049 - base_trainer - INFO -   閾値 0.8: 適合率=0.7500, 発生率=0.0222, シグナル数=12
2025-04-29 05:51:46,049 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,049 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_short_1.joblib
2025-04-29 05:51:46,053 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_short_1.joblib に保存しました
2025-04-29 05:51:46,053 - high_threshold_training - INFO - モデル評価: 精度=0.7190, 適合率=0.5792, 再現率=0.6359
2025-04-29 05:51:46,053 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4749, シグナル率=0.6617, シグナル数=358
2025-04-29 05:51:46,054 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5000, シグナル率=0.5619, シグナル数=304
2025-04-29 05:51:46,054 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5792, シグナル率=0.3734, シグナル数=202
2025-04-29 05:51:46,054 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6642, シグナル率=0.2477, シグナル数=134
2025-04-29 05:51:46,054 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7237, シグナル率=0.1405, シグナル数=76
2025-04-29 05:51:46,054 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.7500, シグナル率=0.0222, シグナル数=12
2025-04-29 05:51:46,054 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,054 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:46,054 - high_threshold_training - INFO - 閾値:0.3% 方向:short 期間:2のモデルを訓練
2025-04-29 05:51:46,054 - base_trainer - INFO - ==== train: 2期先の高閾値(0.3%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:51:46,055 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_short_2 の準備を開始
2025-04-29 05:51:46,055 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1416, 1: 749}
2025-04-29 05:51:46,055 - base_trainer - INFO - シグナル発生率: 34.60%
2025-04-29 05:51:46,055 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:46,056 - base_trainer - INFO - クラス不均衡比率: 1.8905 (シグナル:非シグナル = 1:1.9)
2025-04-29 05:51:46,056 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.8905
2025-04-29 05:51:46,056 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.890520694259012), 'verbose': -1}
2025-04-29 05:51:46,056 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:46,176 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 42)
2025-04-29 05:51:46,197 - base_trainer - INFO - 評価指標 - 精度: 0.7135, 適合率: 0.6012, 再現率: 0.5474, F1: 0.5730
2025-04-29 05:51:46,197 - base_trainer - INFO - シグナル比率: 0.3512
2025-04-29 05:51:46,197 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:46,197 - base_trainer - INFO -   閾値 0.3: 適合率=0.4275, 発生率=0.7394, シグナル数=400
2025-04-29 05:51:46,197 - base_trainer - INFO -   閾値 0.4: 適合率=0.4863, 発生率=0.5397, シグナル数=292
2025-04-29 05:51:46,197 - base_trainer - INFO -   閾値 0.5: 適合率=0.6012, 発生率=0.3198, シグナル数=173
2025-04-29 05:51:46,197 - base_trainer - INFO -   閾値 0.6: 適合率=0.6263, 発生率=0.1830, シグナル数=99
2025-04-29 05:51:46,197 - base_trainer - INFO -   閾値 0.7: 適合率=0.6190, 発生率=0.0388, シグナル数=21
2025-04-29 05:51:46,198 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,198 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,198 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_short_2.joblib
2025-04-29 05:51:46,201 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_short_2.joblib に保存しました
2025-04-29 05:51:46,201 - high_threshold_training - INFO - モデル評価: 精度=0.7135, 適合率=0.6012, 再現率=0.5474
2025-04-29 05:51:46,202 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4275, シグナル率=0.7394, シグナル数=400
2025-04-29 05:51:46,202 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4863, シグナル率=0.5397, シグナル数=292
2025-04-29 05:51:46,202 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6012, シグナル率=0.3198, シグナル数=173
2025-04-29 05:51:46,202 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6263, シグナル率=0.1830, シグナル数=99
2025-04-29 05:51:46,202 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.6190, シグナル率=0.0388, シグナル数=21
2025-04-29 05:51:46,202 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,202 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,202 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:46,202 - high_threshold_training - INFO - 閾値:0.3% 方向:short 期間:3のモデルを訓練
2025-04-29 05:51:46,203 - base_trainer - INFO - ==== train: 3期先の高閾値(0.3%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:51:46,203 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_short_3 の準備を開始
2025-04-29 05:51:46,203 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1413, 1: 752}
2025-04-29 05:51:46,203 - base_trainer - INFO - シグナル発生率: 34.73%
2025-04-29 05:51:46,203 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:46,204 - base_trainer - INFO - クラス不均衡比率: 1.8790 (シグナル:非シグナル = 1:1.9)
2025-04-29 05:51:46,204 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.8790
2025-04-29 05:51:46,204 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.8789893617021276), 'verbose': -1}
2025-04-29 05:51:46,204 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:46,368 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 56)
2025-04-29 05:51:46,394 - base_trainer - INFO - 評価指標 - 精度: 0.6876, 適合率: 0.5969, 再現率: 0.5652, F1: 0.5806
2025-04-29 05:51:46,394 - base_trainer - INFO - シグナル比率: 0.3826
2025-04-29 05:51:46,395 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:46,395 - base_trainer - INFO -   閾値 0.3: 適合率=0.4476, 発生率=0.7930, シグナル数=429
2025-04-29 05:51:46,395 - base_trainer - INFO -   閾値 0.4: 適合率=0.5048, 発生率=0.5749, シグナル数=311
2025-04-29 05:51:46,395 - base_trainer - INFO -   閾値 0.5: 適合率=0.5969, 発生率=0.3623, シグナル数=196
2025-04-29 05:51:46,395 - base_trainer - INFO -   閾値 0.6: 適合率=0.7265, 発生率=0.2163, シグナル数=117
2025-04-29 05:51:46,395 - base_trainer - INFO -   閾値 0.7: 適合率=0.7551, 発生率=0.0906, シグナル数=49
2025-04-29 05:51:46,395 - base_trainer - INFO -   閾値 0.8: 適合率=0.0000, 発生率=0.0018, シグナル数=1
2025-04-29 05:51:46,395 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,395 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_short_3.joblib
2025-04-29 05:51:46,399 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_short_3.joblib に保存しました
2025-04-29 05:51:46,399 - high_threshold_training - INFO - モデル評価: 精度=0.6876, 適合率=0.5969, 再現率=0.5652
2025-04-29 05:51:46,399 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4476, シグナル率=0.7930, シグナル数=429
2025-04-29 05:51:46,399 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5048, シグナル率=0.5749, シグナル数=311
2025-04-29 05:51:46,399 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5969, シグナル率=0.3623, シグナル数=196
2025-04-29 05:51:46,399 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7265, シグナル率=0.2163, シグナル数=117
2025-04-29 05:51:46,399 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7551, シグナル率=0.0906, シグナル数=49
2025-04-29 05:51:46,399 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.0000, シグナル率=0.0018, シグナル数=1
2025-04-29 05:51:46,399 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,399 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:46,400 - high_threshold_training - INFO - 閾値:0.5% 方向:long 期間:1のモデルを訓練
2025-04-29 05:51:46,400 - base_trainer - INFO - ==== train: 1期先の高閾値(0.5%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:51:46,400 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_long_1 の準備を開始
2025-04-29 05:51:46,400 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1614, 1: 551}
2025-04-29 05:51:46,400 - base_trainer - INFO - シグナル発生率: 25.45%
2025-04-29 05:51:46,401 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:46,401 - base_trainer - INFO - クラス不均衡比率: 2.9292 (シグナル:非シグナル = 1:2.9)
2025-04-29 05:51:46,401 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.9292
2025-04-29 05:51:46,401 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.9292196007259528), 'verbose': -1}
2025-04-29 05:51:46,401 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:46,509 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 42)
2025-04-29 05:51:46,528 - base_trainer - INFO - 評価指標 - 精度: 0.7523, 適合率: 0.5000, 再現率: 0.4925, F1: 0.4962
2025-04-29 05:51:46,529 - base_trainer - INFO - シグナル比率: 0.2477
2025-04-29 05:51:46,529 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:46,529 - base_trainer - INFO -   閾値 0.3: 適合率=0.3718, 発生率=0.5767, シグナル数=312
2025-04-29 05:51:46,529 - base_trainer - INFO -   閾値 0.4: 適合率=0.4319, 発生率=0.3937, シグナル数=213
2025-04-29 05:51:46,529 - base_trainer - INFO -   閾値 0.5: 適合率=0.5000, 発生率=0.2440, シグナル数=132
2025-04-29 05:51:46,529 - base_trainer - INFO -   閾値 0.6: 適合率=0.6250, 発生率=0.1035, シグナル数=56
2025-04-29 05:51:46,529 - base_trainer - INFO -   閾値 0.7: 適合率=1.0000, 発生率=0.0018, シグナル数=1
2025-04-29 05:51:46,529 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,529 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,530 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_long_1.joblib
2025-04-29 05:51:46,532 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_long_1.joblib に保存しました
2025-04-29 05:51:46,532 - high_threshold_training - INFO - モデル評価: 精度=0.7523, 適合率=0.5000, 再現率=0.4925
2025-04-29 05:51:46,532 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3718, シグナル率=0.5767, シグナル数=312
2025-04-29 05:51:46,533 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4319, シグナル率=0.3937, シグナル数=213
2025-04-29 05:51:46,533 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5000, シグナル率=0.2440, シグナル数=132
2025-04-29 05:51:46,533 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6250, シグナル率=0.1035, シグナル数=56
2025-04-29 05:51:46,533 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=1.0000, シグナル率=0.0018, シグナル数=1
2025-04-29 05:51:46,533 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,533 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,533 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:46,533 - high_threshold_training - INFO - 閾値:0.5% 方向:long 期間:2のモデルを訓練
2025-04-29 05:51:46,533 - base_trainer - INFO - ==== train: 2期先の高閾値(0.5%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:51:46,533 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_long_2 の準備を開始
2025-04-29 05:51:46,534 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1608, 1: 557}
2025-04-29 05:51:46,534 - base_trainer - INFO - シグナル発生率: 25.73%
2025-04-29 05:51:46,534 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:46,535 - base_trainer - INFO - クラス不均衡比率: 2.8869 (シグナル:非シグナル = 1:2.9)
2025-04-29 05:51:46,535 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.8869
2025-04-29 05:51:46,535 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.8868940754039496), 'verbose': -1}
2025-04-29 05:51:46,535 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:46,638 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 26)
2025-04-29 05:51:46,652 - base_trainer - INFO - 評価指標 - 精度: 0.7486, 適合率: 0.5606, 再現率: 0.2569, F1: 0.3524
2025-04-29 05:51:46,652 - base_trainer - INFO - シグナル比率: 0.2662
2025-04-29 05:51:46,652 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:46,652 - base_trainer - INFO -   閾値 0.3: 適合率=0.3650, 発生率=0.6026, シグナル数=326
2025-04-29 05:51:46,652 - base_trainer - INFO -   閾値 0.4: 適合率=0.4333, 発生率=0.3327, シグナル数=180
2025-04-29 05:51:46,652 - base_trainer - INFO -   閾値 0.5: 適合率=0.5606, 発生率=0.1220, シグナル数=66
2025-04-29 05:51:46,652 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,652 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,653 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,653 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,653 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_long_2.joblib
2025-04-29 05:51:46,655 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_long_2.joblib に保存しました
2025-04-29 05:51:46,655 - high_threshold_training - INFO - モデル評価: 精度=0.7486, 適合率=0.5606, 再現率=0.2569
2025-04-29 05:51:46,656 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3650, シグナル率=0.6026, シグナル数=326
2025-04-29 05:51:46,656 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4333, シグナル率=0.3327, シグナル数=180
2025-04-29 05:51:46,656 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5606, シグナル率=0.1220, シグナル数=66
2025-04-29 05:51:46,656 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,656 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,656 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,656 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,656 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:46,656 - high_threshold_training - INFO - 閾値:0.5% 方向:long 期間:3のモデルを訓練
2025-04-29 05:51:46,656 - base_trainer - INFO - ==== train: 3期先の高閾値(0.5%)シグナルモデル（long）のトレーニングを開始 ====
2025-04-29 05:51:46,656 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_long_3 の準備を開始
2025-04-29 05:51:46,657 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1573, 1: 592}
2025-04-29 05:51:46,657 - base_trainer - INFO - シグナル発生率: 27.34%
2025-04-29 05:51:46,657 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:46,657 - base_trainer - INFO - クラス不均衡比率: 2.6571 (シグナル:非シグナル = 1:2.7)
2025-04-29 05:51:46,658 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.6571
2025-04-29 05:51:46,658 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.6570945945945947), 'verbose': -1}
2025-04-29 05:51:46,658 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:46,763 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 27)
2025-04-29 05:51:46,779 - base_trainer - INFO - 評価指標 - 精度: 0.7283, 適合率: 0.5294, 再現率: 0.2384, F1: 0.3288
2025-04-29 05:51:46,779 - base_trainer - INFO - シグナル比率: 0.2791
2025-04-29 05:51:46,779 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:46,779 - base_trainer - INFO -   閾値 0.3: 適合率=0.3750, 発生率=0.6063, シグナル数=328
2025-04-29 05:51:46,779 - base_trainer - INFO -   閾値 0.4: 適合率=0.4837, 発生率=0.3401, シグナル数=184
2025-04-29 05:51:46,779 - base_trainer - INFO -   閾値 0.5: 適合率=0.5294, 発生率=0.1257, シグナル数=68
2025-04-29 05:51:46,779 - base_trainer - INFO -   閾値 0.6: 適合率=0.7500, 発生率=0.0074, シグナル数=4
2025-04-29 05:51:46,779 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,780 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,780 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,780 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_long_3.joblib
2025-04-29 05:51:46,782 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_long_3.joblib に保存しました
2025-04-29 05:51:46,782 - high_threshold_training - INFO - モデル評価: 精度=0.7283, 適合率=0.5294, 再現率=0.2384
2025-04-29 05:51:46,782 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3750, シグナル率=0.6063, シグナル数=328
2025-04-29 05:51:46,783 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4837, シグナル率=0.3401, シグナル数=184
2025-04-29 05:51:46,783 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5294, シグナル率=0.1257, シグナル数=68
2025-04-29 05:51:46,783 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7500, シグナル率=0.0074, シグナル数=4
2025-04-29 05:51:46,783 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,783 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,783 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,783 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:46,783 - high_threshold_training - INFO - 閾値:0.5% 方向:short 期間:1のモデルを訓練
2025-04-29 05:51:46,783 - base_trainer - INFO - ==== train: 1期先の高閾値(0.5%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:51:46,783 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_short_1 の準備を開始
2025-04-29 05:51:46,784 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1642, 1: 523}
2025-04-29 05:51:46,784 - base_trainer - INFO - シグナル発生率: 24.16%
2025-04-29 05:51:46,784 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:46,785 - base_trainer - INFO - クラス不均衡比率: 3.1396 (シグナル:非シグナル = 1:3.1)
2025-04-29 05:51:46,785 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 3.1396
2025-04-29 05:51:46,785 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(3.139579349904398), 'verbose': -1}
2025-04-29 05:51:46,785 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:46,882 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 27)
2025-04-29 05:51:46,900 - base_trainer - INFO - 評価指標 - 精度: 0.7948, 適合率: 0.6071, 再現率: 0.3953, F1: 0.4789
2025-04-29 05:51:46,900 - base_trainer - INFO - シグナル比率: 0.2384
2025-04-29 05:51:46,900 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:46,900 - base_trainer - INFO -   閾値 0.3: 適合率=0.3734, 発生率=0.5693, シグナル数=308
2025-04-29 05:51:46,900 - base_trainer - INFO -   閾値 0.4: 適合率=0.4848, 発生率=0.3050, シグナル数=165
2025-04-29 05:51:46,900 - base_trainer - INFO -   閾値 0.5: 適合率=0.6071, 発生率=0.1553, シグナル数=84
2025-04-29 05:51:46,900 - base_trainer - INFO -   閾値 0.6: 適合率=1.0000, 発生率=0.0055, シグナル数=3
2025-04-29 05:51:46,900 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,900 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,900 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:46,901 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_short_1.joblib
2025-04-29 05:51:46,903 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_short_1.joblib に保存しました
2025-04-29 05:51:46,903 - high_threshold_training - INFO - モデル評価: 精度=0.7948, 適合率=0.6071, 再現率=0.3953
2025-04-29 05:51:46,903 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3734, シグナル率=0.5693, シグナル数=308
2025-04-29 05:51:46,903 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4848, シグナル率=0.3050, シグナル数=165
2025-04-29 05:51:46,903 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6071, シグナル率=0.1553, シグナル数=84
2025-04-29 05:51:46,903 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=1.0000, シグナル率=0.0055, シグナル数=3
2025-04-29 05:51:46,903 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,904 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,904 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:46,904 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:46,904 - high_threshold_training - INFO - 閾値:0.5% 方向:short 期間:2のモデルを訓練
2025-04-29 05:51:46,904 - base_trainer - INFO - ==== train: 2期先の高閾値(0.5%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:51:46,904 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_short_2 の準備を開始
2025-04-29 05:51:46,904 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1614, 1: 551}
2025-04-29 05:51:46,905 - base_trainer - INFO - シグナル発生率: 25.45%
2025-04-29 05:51:46,905 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:46,905 - base_trainer - INFO - クラス不均衡比率: 2.9292 (シグナル:非シグナル = 1:2.9)
2025-04-29 05:51:46,905 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.9292
2025-04-29 05:51:46,905 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.9292196007259528), 'verbose': -1}
2025-04-29 05:51:46,905 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:47,014 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 36)
2025-04-29 05:51:47,030 - base_trainer - INFO - 評価指標 - 精度: 0.7431, 適合率: 0.4860, 再現率: 0.3824, F1: 0.4280
2025-04-29 05:51:47,030 - base_trainer - INFO - シグナル比率: 0.2514
2025-04-29 05:51:47,031 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:47,031 - base_trainer - INFO -   閾値 0.3: 適合率=0.3791, 発生率=0.5656, シグナル数=306
2025-04-29 05:51:47,031 - base_trainer - INFO -   閾値 0.4: 適合率=0.4725, 発生率=0.3364, シグナル数=182
2025-04-29 05:51:47,031 - base_trainer - INFO -   閾値 0.5: 適合率=0.4860, 発生率=0.1978, シグナル数=107
2025-04-29 05:51:47,031 - base_trainer - INFO -   閾値 0.6: 適合率=0.5750, 発生率=0.0739, シグナル数=40
2025-04-29 05:51:47,031 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:47,031 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:47,031 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:47,032 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_short_2.joblib
2025-04-29 05:51:47,034 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_short_2.joblib に保存しました
2025-04-29 05:51:47,034 - high_threshold_training - INFO - モデル評価: 精度=0.7431, 適合率=0.4860, 再現率=0.3824
2025-04-29 05:51:47,035 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3791, シグナル率=0.5656, シグナル数=306
2025-04-29 05:51:47,035 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4725, シグナル率=0.3364, シグナル数=182
2025-04-29 05:51:47,035 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.4860, シグナル率=0.1978, シグナル数=107
2025-04-29 05:51:47,035 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.5750, シグナル率=0.0739, シグナル数=40
2025-04-29 05:51:47,035 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:47,035 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:47,035 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:47,035 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:47,035 - high_threshold_training - INFO - 閾値:0.5% 方向:short 期間:3のモデルを訓練
2025-04-29 05:51:47,036 - base_trainer - INFO - ==== train: 3期先の高閾値(0.5%)シグナルモデル（short）のトレーニングを開始 ====
2025-04-29 05:51:47,036 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_short_3 の準備を開始
2025-04-29 05:51:47,036 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1601, 1: 564}
2025-04-29 05:51:47,036 - base_trainer - INFO - シグナル発生率: 26.05%
2025-04-29 05:51:47,036 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-04-29 05:51:47,037 - base_trainer - INFO - クラス不均衡比率: 2.8387 (シグナル:非シグナル = 1:2.8)
2025-04-29 05:51:47,037 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.8387
2025-04-29 05:51:47,037 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.8386524822695036), 'verbose': -1}
2025-04-29 05:51:47,037 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-04-29 05:51:47,143 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 27)
2025-04-29 05:51:47,160 - base_trainer - INFO - 評価指標 - 精度: 0.7431, 適合率: 0.6000, 再現率: 0.2922, F1: 0.3930
2025-04-29 05:51:47,160 - base_trainer - INFO - シグナル比率: 0.2847
2025-04-29 05:51:47,160 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-04-29 05:51:47,161 - base_trainer - INFO -   閾値 0.3: 適合率=0.3937, 発生率=0.6433, シグナル数=348
2025-04-29 05:51:47,161 - base_trainer - INFO -   閾値 0.4: 適合率=0.4824, 発生率=0.3142, シグナル数=170
2025-04-29 05:51:47,161 - base_trainer - INFO -   閾値 0.5: 適合率=0.6000, 発生率=0.1386, シグナル数=75
2025-04-29 05:51:47,161 - base_trainer - INFO -   閾値 0.6: 適合率=0.5000, 発生率=0.0037, シグナル数=2
2025-04-29 05:51:47,161 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:47,161 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:47,161 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-04-29 05:51:47,161 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_short_3.joblib
2025-04-29 05:51:47,164 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_short_3.joblib に保存しました
2025-04-29 05:51:47,164 - high_threshold_training - INFO - モデル評価: 精度=0.7431, 適合率=0.6000, 再現率=0.2922
2025-04-29 05:51:47,164 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3937, シグナル率=0.6433, シグナル数=348
2025-04-29 05:51:47,164 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4824, シグナル率=0.3142, シグナル数=170
2025-04-29 05:51:47,164 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6000, シグナル率=0.1386, シグナル数=75
2025-04-29 05:51:47,164 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.5000, シグナル率=0.0037, シグナル数=2
2025-04-29 05:51:47,164 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:47,164 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:47,165 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-04-29 05:51:47,165 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-04-29 05:51:47,165 - high_threshold_training - INFO - ===== トレーニング結果サマリー =====
2025-04-29 05:51:47,165 - high_threshold_training - INFO - 閾値: threshold_1p
2025-04-29 05:51:47,165 - high_threshold_training - INFO -   方向: long
2025-04-29 05:51:47,165 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:51:47,165 - high_threshold_training - INFO -       精度: 0.7006
2025-04-29 05:51:47,165 - high_threshold_training - INFO -       適合率: 0.6695
2025-04-29 05:51:47,165 - high_threshold_training - INFO -       シグナル率: 0.4492
2025-04-29 05:51:47,165 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:51:47,165 - high_threshold_training - INFO -       精度: 0.6488
2025-04-29 05:51:47,166 - high_threshold_training - INFO -       適合率: 0.6307
2025-04-29 05:51:47,166 - high_threshold_training - INFO -       シグナル率: 0.4677
2025-04-29 05:51:47,166 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:51:47,166 - high_threshold_training - INFO -       精度: 0.6710
2025-04-29 05:51:47,166 - high_threshold_training - INFO -       適合率: 0.6777
2025-04-29 05:51:47,166 - high_threshold_training - INFO -       シグナル率: 0.4677
2025-04-29 05:51:47,166 - high_threshold_training - INFO -   方向: short
2025-04-29 05:51:47,166 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:51:47,166 - high_threshold_training - INFO -       精度: 0.7006
2025-04-29 05:51:47,166 - high_threshold_training - INFO -       適合率: 0.6653
2025-04-29 05:51:47,166 - high_threshold_training - INFO -       シグナル率: 0.4473
2025-04-29 05:51:47,166 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:51:47,166 - high_threshold_training - INFO -       精度: 0.6654
2025-04-29 05:51:47,167 - high_threshold_training - INFO -       適合率: 0.6293
2025-04-29 05:51:47,167 - high_threshold_training - INFO -       シグナル率: 0.4455
2025-04-29 05:51:47,167 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:51:47,167 - high_threshold_training - INFO -       精度: 0.6506
2025-04-29 05:51:47,167 - high_threshold_training - INFO -       適合率: 0.6178
2025-04-29 05:51:47,167 - high_threshold_training - INFO -       シグナル率: 0.4621
2025-04-29 05:51:47,167 - high_threshold_training - INFO - 閾値: threshold_2p
2025-04-29 05:51:47,167 - high_threshold_training - INFO -   方向: long
2025-04-29 05:51:47,167 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:51:47,167 - high_threshold_training - INFO -       精度: 0.6913
2025-04-29 05:51:47,167 - high_threshold_training - INFO -       適合率: 0.6132
2025-04-29 05:51:47,167 - high_threshold_training - INFO -       シグナル率: 0.3974
2025-04-29 05:51:47,168 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:51:47,168 - high_threshold_training - INFO -       精度: 0.6488
2025-04-29 05:51:47,168 - high_threshold_training - INFO -       適合率: 0.5874
2025-04-29 05:51:47,168 - high_threshold_training - INFO -       シグナル率: 0.4177
2025-04-29 05:51:47,168 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:51:47,168 - high_threshold_training - INFO -       精度: 0.6525
2025-04-29 05:51:47,168 - high_threshold_training - INFO -       適合率: 0.6087
2025-04-29 05:51:47,168 - high_threshold_training - INFO -       シグナル率: 0.4214
2025-04-29 05:51:47,168 - high_threshold_training - INFO -   方向: short
2025-04-29 05:51:47,168 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:51:47,168 - high_threshold_training - INFO -       精度: 0.7116
2025-04-29 05:51:47,169 - high_threshold_training - INFO -       適合率: 0.6332
2025-04-29 05:51:47,169 - high_threshold_training - INFO -       シグナル率: 0.4011
2025-04-29 05:51:47,169 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:51:47,169 - high_threshold_training - INFO -       精度: 0.6913
2025-04-29 05:51:47,169 - high_threshold_training - INFO -       適合率: 0.6212
2025-04-29 05:51:47,169 - high_threshold_training - INFO -       シグナル率: 0.3974
2025-04-29 05:51:47,169 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:51:47,169 - high_threshold_training - INFO -       精度: 0.6636
2025-04-29 05:51:47,169 - high_threshold_training - INFO -       適合率: 0.5992
2025-04-29 05:51:47,169 - high_threshold_training - INFO -       シグナル率: 0.4251
2025-04-29 05:51:47,169 - high_threshold_training - INFO - 閾値: threshold_3p
2025-04-29 05:51:47,169 - high_threshold_training - INFO -   方向: long
2025-04-29 05:51:47,169 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:51:47,169 - high_threshold_training - INFO -       精度: 0.7375
2025-04-29 05:51:47,170 - high_threshold_training - INFO -       適合率: 0.6333
2025-04-29 05:51:47,170 - high_threshold_training - INFO -       シグナル率: 0.3512
2025-04-29 05:51:47,170 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:51:47,170 - high_threshold_training - INFO -       精度: 0.6562
2025-04-29 05:51:47,170 - high_threshold_training - INFO -       適合率: 0.5359
2025-04-29 05:51:47,170 - high_threshold_training - INFO -       シグナル率: 0.3678
2025-04-29 05:51:47,170 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:51:47,170 - high_threshold_training - INFO -       精度: 0.6765
2025-04-29 05:51:47,170 - high_threshold_training - INFO -       適合率: 0.6094
2025-04-29 05:51:47,170 - high_threshold_training - INFO -       シグナル率: 0.3752
2025-04-29 05:51:47,170 - high_threshold_training - INFO -   方向: short
2025-04-29 05:51:47,170 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:51:47,170 - high_threshold_training - INFO -       精度: 0.7190
2025-04-29 05:51:47,171 - high_threshold_training - INFO -       適合率: 0.5792
2025-04-29 05:51:47,171 - high_threshold_training - INFO -       シグナル率: 0.3401
2025-04-29 05:51:47,171 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:51:47,171 - high_threshold_training - INFO -       精度: 0.7135
2025-04-29 05:51:47,171 - high_threshold_training - INFO -       適合率: 0.6012
2025-04-29 05:51:47,171 - high_threshold_training - INFO -       シグナル率: 0.3512
2025-04-29 05:51:47,171 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:51:47,171 - high_threshold_training - INFO -       精度: 0.6876
2025-04-29 05:51:47,171 - high_threshold_training - INFO -       適合率: 0.5969
2025-04-29 05:51:47,171 - high_threshold_training - INFO -       シグナル率: 0.3826
2025-04-29 05:51:47,171 - high_threshold_training - INFO - 閾値: threshold_5p
2025-04-29 05:51:47,171 - high_threshold_training - INFO -   方向: long
2025-04-29 05:51:47,171 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:51:47,171 - high_threshold_training - INFO -       精度: 0.7523
2025-04-29 05:51:47,172 - high_threshold_training - INFO -       適合率: 0.5000
2025-04-29 05:51:47,172 - high_threshold_training - INFO -       シグナル率: 0.2477
2025-04-29 05:51:47,172 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:51:47,172 - high_threshold_training - INFO -       精度: 0.7486
2025-04-29 05:51:47,172 - high_threshold_training - INFO -       適合率: 0.5606
2025-04-29 05:51:47,172 - high_threshold_training - INFO -       シグナル率: 0.2662
2025-04-29 05:51:47,172 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:51:47,172 - high_threshold_training - INFO -       精度: 0.7283
2025-04-29 05:51:47,172 - high_threshold_training - INFO -       適合率: 0.5294
2025-04-29 05:51:47,172 - high_threshold_training - INFO -       シグナル率: 0.2791
2025-04-29 05:51:47,172 - high_threshold_training - INFO -   方向: short
2025-04-29 05:51:47,172 - high_threshold_training - INFO -     期間: period_1
2025-04-29 05:51:47,173 - high_threshold_training - INFO -       精度: 0.7948
2025-04-29 05:51:47,173 - high_threshold_training - INFO -       適合率: 0.6071
2025-04-29 05:51:47,173 - high_threshold_training - INFO -       シグナル率: 0.2384
2025-04-29 05:51:47,173 - high_threshold_training - INFO -     期間: period_2
2025-04-29 05:51:47,173 - high_threshold_training - INFO -       精度: 0.7431
2025-04-29 05:51:47,173 - high_threshold_training - INFO -       適合率: 0.4860
2025-04-29 05:51:47,173 - high_threshold_training - INFO -       シグナル率: 0.2514
2025-04-29 05:51:47,173 - high_threshold_training - INFO -     期間: period_3
2025-04-29 05:51:47,173 - high_threshold_training - INFO -       精度: 0.7431
2025-04-29 05:51:47,173 - high_threshold_training - INFO -       適合率: 0.6000
2025-04-29 05:51:47,173 - high_threshold_training - INFO -       シグナル率: 0.2847
2025-04-29 05:51:47,178 - high_threshold_training - INFO - 訓練結果を models\high_threshold\high_threshold_results_20250429_055147.json に保存しました
2025-04-29 05:51:47,178 - high_threshold_training - INFO - 高閾値シグナルモデルの訓練が完了しました
2025-05-03 06:50:01,209 - high_threshold_training - INFO - 高閾値シグナルモデルの訓練を開始します
2025-05-03 06:50:01,210 - high_threshold_training - INFO - 期間: [1, 2, 3], 方向: ['long', 'short'], 閾値: [0.001, 0.002, 0.003, 0.005]
2025-05-03 06:50:01,210 - high_threshold_training - INFO - データの読み込み: data/processed/btcusd_5m_features.csv
2025-05-03 06:50:01,210 - data_loader - INFO - load_data: データを data\processed\btcusd_5m_features.csv から読み込みます
2025-05-03 06:50:01,222 - data_loader - INFO - ファイルのカラム: ['timestamp', 'close', 'volume', 'turnover', 'candle_size']... (全91列)
2025-05-03 06:50:01,223 - data_loader - INFO - timestampカラムをインデックスとして読み込みます
2025-05-03 06:50:01,253 - data_loader - INFO - load_data: 2706 行のデータを読み込みました
2025-05-03 06:50:01,253 - high_threshold_training - INFO - データ情報: 行数=2706, 列数=90
2025-05-03 06:50:01,253 - high_threshold_training - INFO - 高閾値ターゲット変数が24個見つかりました
2025-05-03 06:50:01,253 - high_threshold_training - INFO -   1. target_high_threshold_1p_long_1
2025-05-03 06:50:01,253 - high_threshold_training - INFO -   2. target_high_threshold_1p_short_1
2025-05-03 06:50:01,254 - high_threshold_training - INFO -   3. target_high_threshold_2p_long_1
2025-05-03 06:50:01,254 - high_threshold_training - INFO -   4. target_high_threshold_2p_short_1
2025-05-03 06:50:01,254 - high_threshold_training - INFO -   5. target_high_threshold_3p_long_1
2025-05-03 06:50:01,254 - high_threshold_training - INFO -   6. target_high_threshold_3p_short_1
2025-05-03 06:50:01,254 - high_threshold_training - INFO -   7. target_high_threshold_5p_long_1
2025-05-03 06:50:01,254 - high_threshold_training - INFO -   8. target_high_threshold_5p_short_1
2025-05-03 06:50:01,254 - high_threshold_training - INFO -   9. target_high_threshold_1p_long_2
2025-05-03 06:50:01,254 - high_threshold_training - INFO -   10. target_high_threshold_1p_short_2
2025-05-03 06:50:01,254 - high_threshold_training - INFO -   ...その他 14 個
2025-05-03 06:50:01,256 - high_threshold_training - INFO - target_high_threshold_1p_long_1 のクラス分布: {0: 1468, 1: 1238}
2025-05-03 06:50:01,256 - high_threshold_training - INFO - target_high_threshold_1p_short_1 のクラス分布: {0: 1484, 1: 1222}
2025-05-03 06:50:01,257 - high_threshold_training - INFO - target_high_threshold_2p_long_1 のクラス分布: {0: 1639, 1: 1067}
2025-05-03 06:50:01,257 - high_threshold_training - INFO - 特徴量と目標変数の準備
2025-05-03 06:50:01,257 - feature_selector - INFO - prepare_features: 特徴量と目標変数の準備を開始します
2025-05-03 06:50:01,257 - feature_selector - INFO - 選択された特徴量: 42個
2025-05-03 06:50:01,259 - feature_selector - WARNING - prepare_features: 目標変数 target_smoothed_change_1 がカラムに見つかりません
2025-05-03 06:50:01,259 - feature_selector - WARNING - prepare_features: 目標変数 target_binary_1 がカラムに見つかりません
2025-05-03 06:50:01,260 - feature_selector - INFO - prepare_features: threshold_binary_classification_1 用の特徴量セット X_threshold_binary_1 を作成 (2706 行)
2025-05-03 06:50:01,260 - feature_selector - WARNING - prepare_features: 目標変数 target_smoothed_change_2 がカラムに見つかりません
2025-05-03 06:50:01,260 - feature_selector - WARNING - prepare_features: 目標変数 target_binary_2 がカラムに見つかりません
2025-05-03 06:50:01,261 - feature_selector - INFO - prepare_features: threshold_binary_classification_2 用の特徴量セット X_threshold_binary_2 を作成 (2706 行)
2025-05-03 06:50:01,261 - feature_selector - WARNING - prepare_features: 目標変数 target_smoothed_change_3 がカラムに見つかりません
2025-05-03 06:50:01,261 - feature_selector - WARNING - prepare_features: 目標変数 target_binary_3 がカラムに見つかりません
2025-05-03 06:50:01,262 - feature_selector - INFO - prepare_features: threshold_binary_classification_3 用の特徴量セット X_threshold_binary_3 を作成 (2706 行)
2025-05-03 06:50:01,262 - feature_selector - INFO - prepare_features: 高閾値シグナル変数 24個を目標変数に追加します
2025-05-03 06:50:01,262 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_1 を追加
2025-05-03 06:50:01,262 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_1 を追加
2025-05-03 06:50:01,262 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_1 を追加
2025-05-03 06:50:01,262 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_1 を追加
2025-05-03 06:50:01,263 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_1 を追加
2025-05-03 06:50:01,263 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_1 を追加
2025-05-03 06:50:01,263 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_1 を追加
2025-05-03 06:50:01,263 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_1 を追加
2025-05-03 06:50:01,263 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_2 を追加
2025-05-03 06:50:01,263 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_2 を追加
2025-05-03 06:50:01,263 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_2 を追加
2025-05-03 06:50:01,264 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_2 を追加
2025-05-03 06:50:01,264 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_2 を追加
2025-05-03 06:50:01,264 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_2 を追加
2025-05-03 06:50:01,264 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_2 を追加
2025-05-03 06:50:01,264 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_2 を追加
2025-05-03 06:50:01,264 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_3 を追加
2025-05-03 06:50:01,264 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_3 を追加
2025-05-03 06:50:01,264 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_3 を追加
2025-05-03 06:50:01,265 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_3 を追加
2025-05-03 06:50:01,265 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_3 を追加
2025-05-03 06:50:01,265 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_3 を追加
2025-05-03 06:50:01,265 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_3 を追加
2025-05-03 06:50:01,265 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_3 を追加
2025-05-03 06:50:01,265 - feature_selector - INFO - prepare_features: 特徴量: 42個, 目標変数: 36個
2025-05-03 06:50:01,265 - feature_selector - INFO - prepare_features: 特徴量セット: ['X', 'X_threshold_binary_1', 'X_threshold_binary_2', 'X_threshold_binary_3']
2025-05-03 06:50:01,265 - feature_selector - INFO - prepare_features: 目標変数名: ['regression_1', 'classification_1', 'threshold_ternary_classification_1', 'threshold_binary_classification_1', 'regression_2', 'classification_2', 'threshold_ternary_classification_2', 'threshold_binary_classification_2', 'regression_3', 'classification_3', 'threshold_ternary_classification_3', 'threshold_binary_classification_3', 'target_high_threshold_1p_long_1', 'target_high_threshold_1p_short_1', 'target_high_threshold_2p_long_1', 'target_high_threshold_2p_short_1', 'target_high_threshold_3p_long_1', 'target_high_threshold_3p_short_1', 'target_high_threshold_5p_long_1', 'target_high_threshold_5p_short_1', 'target_high_threshold_1p_long_2', 'target_high_threshold_1p_short_2', 'target_high_threshold_2p_long_2', 'target_high_threshold_2p_short_2', 'target_high_threshold_3p_long_2', 'target_high_threshold_3p_short_2', 'target_high_threshold_5p_long_2', 'target_high_threshold_5p_short_2', 'target_high_threshold_1p_long_3', 'target_high_threshold_1p_short_3', 'target_high_threshold_2p_long_3', 'target_high_threshold_2p_short_3', 'target_high_threshold_3p_long_3', 'target_high_threshold_3p_short_3', 'target_high_threshold_5p_long_3', 'target_high_threshold_5p_short_3']
2025-05-03 06:50:01,266 - feature_selector - INFO - prepare_features: classification_1 のクラスバランス: {1: 1361, -1: 1345}
2025-05-03 06:50:01,266 - feature_selector - INFO - prepare_features: threshold_ternary_classification_1 のクラスバランス: {1: 1361, 0: 1345}
2025-05-03 06:50:01,266 - feature_selector - INFO - prepare_features: threshold_binary_classification_1 のクラスバランス: {1.0: 1361, 0.0: 1345}
2025-05-03 06:50:01,267 - feature_selector - INFO - prepare_features: classification_2 のクラスバランス: {1: 1383, -1: 1323}
2025-05-03 06:50:01,267 - feature_selector - INFO - prepare_features: threshold_ternary_classification_2 のクラスバランス: {1: 1383, 0: 1323}
2025-05-03 06:50:01,267 - feature_selector - INFO - prepare_features: threshold_binary_classification_2 のクラスバランス: {1.0: 1383, 0.0: 1323}
2025-05-03 06:50:01,267 - feature_selector - INFO - prepare_features: classification_3 のクラスバランス: {1: 1378, -1: 1328}
2025-05-03 06:50:01,267 - feature_selector - INFO - prepare_features: threshold_ternary_classification_3 のクラスバランス: {1: 1378, 0: 1328}
2025-05-03 06:50:01,267 - feature_selector - INFO - prepare_features: threshold_binary_classification_3 のクラスバランス: {1.0: 1378, 0.0: 1328}
2025-05-03 06:50:01,268 - feature_selector - INFO - prepare_features: 特徴量と目標変数の準備を終了します
2025-05-03 06:50:01,268 - high_threshold_training - INFO - トレーニングデータとテストデータの分割
2025-05-03 06:50:01,268 - data_splitter - INFO - train_test_split: トレーニングデータとテストデータへの分割を開始します
2025-05-03 06:50:01,270 - data_splitter - INFO - train_test_split: トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:01,270 - data_splitter - INFO - train_test_split: トレーニングデータとテストデータへの分割を終了します
2025-05-03 06:50:01,270 - high_threshold_training - INFO - 利用可能な目標変数の確認:
2025-05-03 06:50:01,270 - high_threshold_training - INFO - - target_high_threshold_1p_long_1
2025-05-03 06:50:01,270 - high_threshold_training - INFO - - target_high_threshold_1p_short_1
2025-05-03 06:50:01,270 - high_threshold_training - INFO - - target_high_threshold_2p_long_1
2025-05-03 06:50:01,270 - high_threshold_training - INFO - - target_high_threshold_2p_short_1
2025-05-03 06:50:01,270 - high_threshold_training - INFO - - target_high_threshold_3p_long_1
2025-05-03 06:50:01,270 - high_threshold_training - INFO - - target_high_threshold_3p_short_1
2025-05-03 06:50:01,271 - high_threshold_training - INFO - - target_high_threshold_5p_long_1
2025-05-03 06:50:01,271 - high_threshold_training - INFO - - target_high_threshold_5p_short_1
2025-05-03 06:50:01,271 - high_threshold_training - INFO - - target_high_threshold_1p_long_2
2025-05-03 06:50:01,271 - high_threshold_training - INFO - - target_high_threshold_1p_short_2
2025-05-03 06:50:01,271 - high_threshold_training - INFO - - target_high_threshold_2p_long_2
2025-05-03 06:50:01,271 - high_threshold_training - INFO - - target_high_threshold_2p_short_2
2025-05-03 06:50:01,271 - high_threshold_training - INFO - - target_high_threshold_3p_long_2
2025-05-03 06:50:01,271 - high_threshold_training - INFO - - target_high_threshold_3p_short_2
2025-05-03 06:50:01,271 - high_threshold_training - INFO - - target_high_threshold_5p_long_2
2025-05-03 06:50:01,272 - high_threshold_training - INFO - - target_high_threshold_5p_short_2
2025-05-03 06:50:01,272 - high_threshold_training - INFO - - target_high_threshold_1p_long_3
2025-05-03 06:50:01,272 - high_threshold_training - INFO - - target_high_threshold_1p_short_3
2025-05-03 06:50:01,272 - high_threshold_training - INFO - - target_high_threshold_2p_long_3
2025-05-03 06:50:01,272 - high_threshold_training - INFO - - target_high_threshold_2p_short_3
2025-05-03 06:50:01,272 - high_threshold_training - INFO - - target_high_threshold_3p_long_3
2025-05-03 06:50:01,272 - high_threshold_training - INFO - - target_high_threshold_3p_short_3
2025-05-03 06:50:01,272 - high_threshold_training - INFO - - target_high_threshold_5p_long_3
2025-05-03 06:50:01,272 - high_threshold_training - INFO - - target_high_threshold_5p_short_3
2025-05-03 06:50:01,272 - high_threshold_training - INFO - 閾値:0.1% 方向:long 期間:1のモデルを訓練
2025-05-03 06:50:01,272 - base_trainer - INFO - ==== train: 1期先の高閾値(0.1%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 06:50:01,272 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_long_1 の準備を開始
2025-05-03 06:50:01,273 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1170, 1: 995}
2025-05-03 06:50:01,273 - base_trainer - INFO - シグナル発生率: 45.96%
2025-05-03 06:50:01,273 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:01,274 - base_trainer - INFO - クラス不均衡比率: 1.1759 (シグナル:非シグナル = 1:1.2)
2025-05-03 06:50:01,274 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.1759
2025-05-03 06:50:01,274 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.1758793969849246), 'verbose': -1}
2025-05-03 06:50:01,274 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:01,419 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 76)
2025-05-03 06:50:01,444 - base_trainer - INFO - 評価指標 - 精度: 0.7172, 適合率: 0.6860, 再現率: 0.6831, F1: 0.6845
2025-05-03 06:50:01,444 - base_trainer - INFO - シグナル比率: 0.4492
2025-05-03 06:50:01,444 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:01,444 - base_trainer - INFO -   閾値 0.3: 適合率=0.5681, 発生率=0.7061, シグナル数=382
2025-05-03 06:50:01,444 - base_trainer - INFO -   閾値 0.4: 適合率=0.6141, 発生率=0.5749, シグナル数=311
2025-05-03 06:50:01,444 - base_trainer - INFO -   閾値 0.5: 適合率=0.6860, 発生率=0.4473, シグナル数=242
2025-05-03 06:50:01,444 - base_trainer - INFO -   閾値 0.6: 適合率=0.7546, 発生率=0.3013, シグナル数=163
2025-05-03 06:50:01,444 - base_trainer - INFO -   閾値 0.7: 適合率=0.8588, 発生率=0.1571, シグナル数=85
2025-05-03 06:50:01,444 - base_trainer - INFO -   閾値 0.8: 適合率=0.9565, 発生率=0.0425, シグナル数=23
2025-05-03 06:50:01,445 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:01,445 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_long_1.joblib
2025-05-03 06:50:01,449 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_long_1.joblib に保存しました
2025-05-03 06:50:01,449 - high_threshold_training - INFO - モデル評価: 精度=0.7172, 適合率=0.6860, 再現率=0.6831
2025-05-03 06:50:01,449 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5681, シグナル率=0.7061, シグナル数=382
2025-05-03 06:50:01,449 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.6141, シグナル率=0.5749, シグナル数=311
2025-05-03 06:50:01,449 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6860, シグナル率=0.4473, シグナル数=242
2025-05-03 06:50:01,449 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7546, シグナル率=0.3013, シグナル数=163
2025-05-03 06:50:01,449 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8588, シグナル率=0.1571, シグナル数=85
2025-05-03 06:50:01,449 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.9565, シグナル率=0.0425, シグナル数=23
2025-05-03 06:50:01,449 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:01,449 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:01,449 - high_threshold_training - INFO - 閾値:0.1% 方向:long 期間:2のモデルを訓練
2025-05-03 06:50:01,449 - base_trainer - INFO - ==== train: 2期先の高閾値(0.1%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 06:50:01,449 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_long_2 の準備を開始
2025-05-03 06:50:01,450 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1172, 1: 993}
2025-05-03 06:50:01,450 - base_trainer - INFO - シグナル発生率: 45.87%
2025-05-03 06:50:01,450 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:01,450 - base_trainer - INFO - クラス不均衡比率: 1.1803 (シグナル:非シグナル = 1:1.2)
2025-05-03 06:50:01,451 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.1803
2025-05-03 06:50:01,451 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.1802618328298087), 'verbose': -1}
2025-05-03 06:50:01,451 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:01,560 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 62)
2025-05-03 06:50:01,583 - base_trainer - INFO - 評価指標 - 精度: 0.6470, 適合率: 0.6174, 再現率: 0.6443, F1: 0.6306
2025-05-03 06:50:01,583 - base_trainer - INFO - シグナル比率: 0.4677
2025-05-03 06:50:01,583 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:01,583 - base_trainer - INFO -   閾値 0.3: 適合率=0.5461, 発生率=0.7616, シグナル数=412
2025-05-03 06:50:01,583 - base_trainer - INFO -   閾値 0.4: 適合率=0.5787, 発生率=0.6580, シグナル数=356
2025-05-03 06:50:01,583 - base_trainer - INFO -   閾値 0.5: 適合率=0.6174, 発生率=0.4880, シグナル数=264
2025-05-03 06:50:01,583 - base_trainer - INFO -   閾値 0.6: 適合率=0.7279, 発生率=0.2717, シグナル数=147
2025-05-03 06:50:01,583 - base_trainer - INFO -   閾値 0.7: 適合率=0.8310, 発生率=0.1312, シグナル数=71
2025-05-03 06:50:01,583 - base_trainer - INFO -   閾値 0.8: 適合率=0.5556, 発生率=0.0166, シグナル数=9
2025-05-03 06:50:01,583 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:01,584 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_long_2.joblib
2025-05-03 06:50:01,587 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_long_2.joblib に保存しました
2025-05-03 06:50:01,587 - high_threshold_training - INFO - モデル評価: 精度=0.6470, 適合率=0.6174, 再現率=0.6443
2025-05-03 06:50:01,587 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5461, シグナル率=0.7616, シグナル数=412
2025-05-03 06:50:01,587 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5787, シグナル率=0.6580, シグナル数=356
2025-05-03 06:50:01,587 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6174, シグナル率=0.4880, シグナル数=264
2025-05-03 06:50:01,587 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7279, シグナル率=0.2717, シグナル数=147
2025-05-03 06:50:01,587 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8310, シグナル率=0.1312, シグナル数=71
2025-05-03 06:50:01,587 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.5556, シグナル率=0.0166, シグナル数=9
2025-05-03 06:50:01,588 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:01,588 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:01,588 - high_threshold_training - INFO - 閾値:0.1% 方向:long 期間:3のモデルを訓練
2025-05-03 06:50:01,588 - base_trainer - INFO - ==== train: 3期先の高閾値(0.1%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 06:50:01,588 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_long_3 の準備を開始
2025-05-03 06:50:01,588 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1169, 1: 996}
2025-05-03 06:50:01,588 - base_trainer - INFO - シグナル発生率: 46.00%
2025-05-03 06:50:01,588 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:01,589 - base_trainer - INFO - クラス不均衡比率: 1.1737 (シグナル:非シグナル = 1:1.2)
2025-05-03 06:50:01,589 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.1737
2025-05-03 06:50:01,589 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.1736947791164658), 'verbose': -1}
2025-05-03 06:50:01,589 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:01,698 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 77)
2025-05-03 06:50:01,722 - base_trainer - INFO - 評価指標 - 精度: 0.6322, 適合率: 0.6216, 再現率: 0.5455, F1: 0.5811
2025-05-03 06:50:01,722 - base_trainer - INFO - シグナル比率: 0.4677
2025-05-03 06:50:01,722 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:01,722 - base_trainer - INFO -   閾値 0.3: 適合率=0.5564, 発生率=0.7542, シグナル数=408
2025-05-03 06:50:01,722 - base_trainer - INFO -   閾値 0.4: 適合率=0.5994, 発生率=0.5860, シグナル数=317
2025-05-03 06:50:01,722 - base_trainer - INFO -   閾値 0.5: 適合率=0.6216, 発生率=0.4104, シグナル数=222
2025-05-03 06:50:01,722 - base_trainer - INFO -   閾値 0.6: 適合率=0.7476, 発生率=0.1904, シグナル数=103
2025-05-03 06:50:01,722 - base_trainer - INFO -   閾値 0.7: 適合率=0.8600, 発生率=0.0924, シグナル数=50
2025-05-03 06:50:01,722 - base_trainer - INFO -   閾値 0.8: 適合率=0.8750, 発生率=0.0444, シグナル数=24
2025-05-03 06:50:01,722 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:01,723 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_long_3.joblib
2025-05-03 06:50:01,726 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_long_3.joblib に保存しました
2025-05-03 06:50:01,726 - high_threshold_training - INFO - モデル評価: 精度=0.6322, 適合率=0.6216, 再現率=0.5455
2025-05-03 06:50:01,727 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5564, シグナル率=0.7542, シグナル数=408
2025-05-03 06:50:01,727 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5994, シグナル率=0.5860, シグナル数=317
2025-05-03 06:50:01,727 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6216, シグナル率=0.4104, シグナル数=222
2025-05-03 06:50:01,727 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7476, シグナル率=0.1904, シグナル数=103
2025-05-03 06:50:01,727 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8600, シグナル率=0.0924, シグナル数=50
2025-05-03 06:50:01,727 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.8750, シグナル率=0.0444, シグナル数=24
2025-05-03 06:50:01,727 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:01,727 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:01,727 - high_threshold_training - INFO - 閾値:0.1% 方向:short 期間:1のモデルを訓練
2025-05-03 06:50:01,727 - base_trainer - INFO - ==== train: 1期先の高閾値(0.1%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 06:50:01,727 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_short_1 の準備を開始
2025-05-03 06:50:01,728 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1185, 1: 980}
2025-05-03 06:50:01,728 - base_trainer - INFO - シグナル発生率: 45.27%
2025-05-03 06:50:01,728 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:01,728 - base_trainer - INFO - クラス不均衡比率: 1.2092 (シグナル:非シグナル = 1:1.2)
2025-05-03 06:50:01,728 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.2092
2025-05-03 06:50:01,729 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.2091836734693877), 'verbose': -1}
2025-05-03 06:50:01,729 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:01,850 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 86)
2025-05-03 06:50:01,877 - base_trainer - INFO - 評価指標 - 精度: 0.7172, 適合率: 0.6846, 再現率: 0.6818, F1: 0.6832
2025-05-03 06:50:01,877 - base_trainer - INFO - シグナル比率: 0.4473
2025-05-03 06:50:01,877 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:01,877 - base_trainer - INFO -   閾値 0.3: 適合率=0.5635, 発生率=0.7283, シグナル数=394
2025-05-03 06:50:01,877 - base_trainer - INFO -   閾値 0.4: 適合率=0.6116, 発生率=0.6044, シグナル数=327
2025-05-03 06:50:01,877 - base_trainer - INFO -   閾値 0.5: 適合率=0.6846, 発生率=0.4455, シグナル数=241
2025-05-03 06:50:01,877 - base_trainer - INFO -   閾値 0.6: 適合率=0.7738, 発生率=0.3105, シグナル数=168
2025-05-03 06:50:01,877 - base_trainer - INFO -   閾値 0.7: 適合率=0.7750, 発生率=0.2218, シグナル数=120
2025-05-03 06:50:01,877 - base_trainer - INFO -   閾値 0.8: 適合率=0.7857, 発生率=0.1294, シグナル数=70
2025-05-03 06:50:01,877 - base_trainer - INFO -   閾値 0.9: 適合率=0.6667, 発生率=0.0055, シグナル数=3
2025-05-03 06:50:01,878 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_short_1.joblib
2025-05-03 06:50:01,882 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_short_1.joblib に保存しました
2025-05-03 06:50:01,882 - high_threshold_training - INFO - モデル評価: 精度=0.7172, 適合率=0.6846, 再現率=0.6818
2025-05-03 06:50:01,882 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5635, シグナル率=0.7283, シグナル数=394
2025-05-03 06:50:01,883 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.6116, シグナル率=0.6044, シグナル数=327
2025-05-03 06:50:01,883 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6846, シグナル率=0.4455, シグナル数=241
2025-05-03 06:50:01,883 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7738, シグナル率=0.3105, シグナル数=168
2025-05-03 06:50:01,883 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7750, シグナル率=0.2218, シグナル数=120
2025-05-03 06:50:01,883 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.7857, シグナル率=0.1294, シグナル数=70
2025-05-03 06:50:01,883 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=0.6667, シグナル率=0.0055, シグナル数=3
2025-05-03 06:50:01,883 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:01,883 - high_threshold_training - INFO - 閾値:0.1% 方向:short 期間:2のモデルを訓練
2025-05-03 06:50:01,883 - base_trainer - INFO - ==== train: 2期先の高閾値(0.1%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 06:50:01,883 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_short_2 の準備を開始
2025-05-03 06:50:01,884 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1191, 1: 974}
2025-05-03 06:50:01,884 - base_trainer - INFO - シグナル発生率: 44.99%
2025-05-03 06:50:01,884 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:01,884 - base_trainer - INFO - クラス不均衡比率: 1.2228 (シグナル:非シグナル = 1:1.2)
2025-05-03 06:50:01,884 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.2228
2025-05-03 06:50:01,884 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.2227926078028748), 'verbose': -1}
2025-05-03 06:50:01,884 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:01,997 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 74)
2025-05-03 06:50:02,021 - base_trainer - INFO - 評価指標 - 精度: 0.6543, 適合率: 0.6116, 再現率: 0.6141, F1: 0.6128
2025-05-03 06:50:02,021 - base_trainer - INFO - シグナル比率: 0.4455
2025-05-03 06:50:02,021 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:02,021 - base_trainer - INFO -   閾値 0.3: 適合率=0.5283, 発生率=0.7837, シグナル数=424
2025-05-03 06:50:02,021 - base_trainer - INFO -   閾値 0.4: 適合率=0.5575, 発生率=0.6433, シグナル数=348
2025-05-03 06:50:02,021 - base_trainer - INFO -   閾値 0.5: 適合率=0.6116, 発生率=0.4473, シグナル数=242
2025-05-03 06:50:02,021 - base_trainer - INFO -   閾値 0.6: 適合率=0.7161, 発生率=0.2865, シグナル数=155
2025-05-03 06:50:02,021 - base_trainer - INFO -   閾値 0.7: 適合率=0.7292, 発生率=0.1774, シグナル数=96
2025-05-03 06:50:02,021 - base_trainer - INFO -   閾値 0.8: 適合率=0.8333, 発生率=0.0887, シグナル数=48
2025-05-03 06:50:02,021 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:02,022 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_short_2.joblib
2025-05-03 06:50:02,026 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_short_2.joblib に保存しました
2025-05-03 06:50:02,027 - high_threshold_training - INFO - モデル評価: 精度=0.6543, 適合率=0.6116, 再現率=0.6141
2025-05-03 06:50:02,027 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5283, シグナル率=0.7837, シグナル数=424
2025-05-03 06:50:02,027 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5575, シグナル率=0.6433, シグナル数=348
2025-05-03 06:50:02,027 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6116, シグナル率=0.4473, シグナル数=242
2025-05-03 06:50:02,027 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7161, シグナル率=0.2865, シグナル数=155
2025-05-03 06:50:02,027 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7292, シグナル率=0.1774, シグナル数=96
2025-05-03 06:50:02,027 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.8333, シグナル率=0.0887, シグナル数=48
2025-05-03 06:50:02,027 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:02,027 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:02,028 - high_threshold_training - INFO - 閾値:0.1% 方向:short 期間:3のモデルを訓練
2025-05-03 06:50:02,028 - base_trainer - INFO - ==== train: 3期先の高閾値(0.1%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 06:50:02,028 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_short_3 の準備を開始
2025-05-03 06:50:02,028 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1200, 1: 965}
2025-05-03 06:50:02,028 - base_trainer - INFO - シグナル発生率: 44.57%
2025-05-03 06:50:02,028 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:02,029 - base_trainer - INFO - クラス不均衡比率: 1.2435 (シグナル:非シグナル = 1:1.2)
2025-05-03 06:50:02,029 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.2435
2025-05-03 06:50:02,029 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.2435233160621761), 'verbose': -1}
2025-05-03 06:50:02,029 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:02,125 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 55)
2025-05-03 06:50:02,148 - base_trainer - INFO - 評価指標 - 精度: 0.6784, 適合率: 0.6570, 再現率: 0.6360, F1: 0.6463
2025-05-03 06:50:02,148 - base_trainer - INFO - シグナル比率: 0.4621
2025-05-03 06:50:02,148 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:02,148 - base_trainer - INFO -   閾値 0.3: 適合率=0.4979, 発生率=0.8909, シグナル数=482
2025-05-03 06:50:02,148 - base_trainer - INFO -   閾値 0.4: 適合率=0.5632, 発生率=0.7024, シグナル数=380
2025-05-03 06:50:02,148 - base_trainer - INFO -   閾値 0.5: 適合率=0.6570, 発生率=0.4473, シグナル数=242
2025-05-03 06:50:02,149 - base_trainer - INFO -   閾値 0.6: 適合率=0.7285, 発生率=0.2791, シグナル数=151
2025-05-03 06:50:02,149 - base_trainer - INFO -   閾値 0.7: 適合率=0.8451, 発生率=0.1312, シグナル数=71
2025-05-03 06:50:02,149 - base_trainer - INFO -   閾値 0.8: 適合率=1.0000, 発生率=0.0203, シグナル数=11
2025-05-03 06:50:02,149 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:02,149 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_1p_short_3.joblib
2025-05-03 06:50:02,152 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_1p_short_3.joblib に保存しました
2025-05-03 06:50:02,153 - high_threshold_training - INFO - モデル評価: 精度=0.6784, 適合率=0.6570, 再現率=0.6360
2025-05-03 06:50:02,153 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4979, シグナル率=0.8909, シグナル数=482
2025-05-03 06:50:02,153 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5632, シグナル率=0.7024, シグナル数=380
2025-05-03 06:50:02,153 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6570, シグナル率=0.4473, シグナル数=242
2025-05-03 06:50:02,153 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7285, シグナル率=0.2791, シグナル数=151
2025-05-03 06:50:02,153 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8451, シグナル率=0.1312, シグナル数=71
2025-05-03 06:50:02,153 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=1.0000, シグナル率=0.0203, シグナル数=11
2025-05-03 06:50:02,153 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:02,153 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:02,153 - high_threshold_training - INFO - 閾値:0.2% 方向:long 期間:1のモデルを訓練
2025-05-03 06:50:02,153 - base_trainer - INFO - ==== train: 1期先の高閾値(0.2%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 06:50:02,153 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_long_1 の準備を開始
2025-05-03 06:50:02,154 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1313, 1: 852}
2025-05-03 06:50:02,154 - base_trainer - INFO - シグナル発生率: 39.35%
2025-05-03 06:50:02,154 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:02,154 - base_trainer - INFO - クラス不均衡比率: 1.5411 (シグナル:非シグナル = 1:1.5)
2025-05-03 06:50:02,154 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.5411
2025-05-03 06:50:02,154 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.5410798122065728), 'verbose': -1}
2025-05-03 06:50:02,154 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:02,259 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 69)
2025-05-03 06:50:02,282 - base_trainer - INFO - 評価指標 - 精度: 0.7190, 適合率: 0.6649, 再現率: 0.5907, F1: 0.6256
2025-05-03 06:50:02,282 - base_trainer - INFO - シグナル比率: 0.3974
2025-05-03 06:50:02,282 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:02,282 - base_trainer - INFO -   閾値 0.3: 適合率=0.5209, 発生率=0.6636, シグナル数=359
2025-05-03 06:50:02,282 - base_trainer - INFO -   閾値 0.4: 適合率=0.5663, 発生率=0.5157, シグナル数=279
2025-05-03 06:50:02,283 - base_trainer - INFO -   閾値 0.5: 適合率=0.6649, 発生率=0.3530, シグナル数=191
2025-05-03 06:50:02,283 - base_trainer - INFO -   閾値 0.6: 適合率=0.7540, 発生率=0.2329, シグナル数=126
2025-05-03 06:50:02,283 - base_trainer - INFO -   閾値 0.7: 適合率=0.8406, 発生率=0.1275, シグナル数=69
2025-05-03 06:50:02,283 - base_trainer - INFO -   閾値 0.8: 適合率=0.8000, 発生率=0.0370, シグナル数=20
2025-05-03 06:50:02,283 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:02,283 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_long_1.joblib
2025-05-03 06:50:02,286 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_long_1.joblib に保存しました
2025-05-03 06:50:02,287 - high_threshold_training - INFO - モデル評価: 精度=0.7190, 適合率=0.6649, 再現率=0.5907
2025-05-03 06:50:02,287 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5209, シグナル率=0.6636, シグナル数=359
2025-05-03 06:50:02,287 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5663, シグナル率=0.5157, シグナル数=279
2025-05-03 06:50:02,287 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6649, シグナル率=0.3530, シグナル数=191
2025-05-03 06:50:02,287 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7540, シグナル率=0.2329, シグナル数=126
2025-05-03 06:50:02,287 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8406, シグナル率=0.1275, シグナル数=69
2025-05-03 06:50:02,287 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.8000, シグナル率=0.0370, シグナル数=20
2025-05-03 06:50:02,287 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:02,287 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:02,287 - high_threshold_training - INFO - 閾値:0.2% 方向:long 期間:2のモデルを訓練
2025-05-03 06:50:02,287 - base_trainer - INFO - ==== train: 2期先の高閾値(0.2%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 06:50:02,287 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_long_2 の準備を開始
2025-05-03 06:50:02,288 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1276, 1: 889}
2025-05-03 06:50:02,288 - base_trainer - INFO - シグナル発生率: 41.06%
2025-05-03 06:50:02,288 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:02,288 - base_trainer - INFO - クラス不均衡比率: 1.4353 (シグナル:非シグナル = 1:1.4)
2025-05-03 06:50:02,288 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.4353
2025-05-03 06:50:02,288 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.4353205849268842), 'verbose': -1}
2025-05-03 06:50:02,288 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:02,386 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 54)
2025-05-03 06:50:02,408 - base_trainer - INFO - 評価指標 - 精度: 0.6340, 適合率: 0.5642, 再現率: 0.5442, F1: 0.5541
2025-05-03 06:50:02,408 - base_trainer - INFO - シグナル比率: 0.4177
2025-05-03 06:50:02,408 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:02,408 - base_trainer - INFO -   閾値 0.3: 適合率=0.5000, 発生率=0.7394, シグナル数=400
2025-05-03 06:50:02,408 - base_trainer - INFO -   閾値 0.4: 適合率=0.5344, 発生率=0.5915, シグナル数=320
2025-05-03 06:50:02,408 - base_trainer - INFO -   閾値 0.5: 適合率=0.5642, 発生率=0.4030, シグナル数=218
2025-05-03 06:50:02,408 - base_trainer - INFO -   閾値 0.6: 適合率=0.6992, 発生率=0.2274, シグナル数=123
2025-05-03 06:50:02,408 - base_trainer - INFO -   閾値 0.7: 適合率=0.7500, 発生率=0.0813, シグナル数=44
2025-05-03 06:50:02,409 - base_trainer - INFO -   閾値 0.8: 適合率=1.0000, 発生率=0.0018, シグナル数=1
2025-05-03 06:50:02,409 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:02,409 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_long_2.joblib
2025-05-03 06:50:02,412 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_long_2.joblib に保存しました
2025-05-03 06:50:02,412 - high_threshold_training - INFO - モデル評価: 精度=0.6340, 適合率=0.5642, 再現率=0.5442
2025-05-03 06:50:02,412 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5000, シグナル率=0.7394, シグナル数=400
2025-05-03 06:50:02,412 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5344, シグナル率=0.5915, シグナル数=320
2025-05-03 06:50:02,412 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5642, シグナル率=0.4030, シグナル数=218
2025-05-03 06:50:02,413 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6992, シグナル率=0.2274, シグナル数=123
2025-05-03 06:50:02,413 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7500, シグナル率=0.0813, シグナル数=44
2025-05-03 06:50:02,413 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=1.0000, シグナル率=0.0018, シグナル数=1
2025-05-03 06:50:02,413 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:02,413 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:02,413 - high_threshold_training - INFO - 閾値:0.2% 方向:long 期間:3のモデルを訓練
2025-05-03 06:50:02,413 - base_trainer - INFO - ==== train: 3期先の高閾値(0.2%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 06:50:02,413 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_long_3 の準備を開始
2025-05-03 06:50:02,413 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1276, 1: 889}
2025-05-03 06:50:02,414 - base_trainer - INFO - シグナル発生率: 41.06%
2025-05-03 06:50:02,414 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:02,414 - base_trainer - INFO - クラス不均衡比率: 1.4353 (シグナル:非シグナル = 1:1.4)
2025-05-03 06:50:02,414 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.4353
2025-05-03 06:50:02,414 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.4353205849268842), 'verbose': -1}
2025-05-03 06:50:02,414 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:02,511 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 56)
2025-05-03 06:50:02,532 - base_trainer - INFO - 評価指標 - 精度: 0.6765, 適合率: 0.6332, 再現率: 0.5526, F1: 0.5902
2025-05-03 06:50:02,532 - base_trainer - INFO - シグナル比率: 0.4214
2025-05-03 06:50:02,532 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:02,532 - base_trainer - INFO -   閾値 0.3: 適合率=0.5000, 発生率=0.7579, シグナル数=410
2025-05-03 06:50:02,533 - base_trainer - INFO -   閾値 0.4: 適合率=0.5480, 発生率=0.5970, シグナル数=323
2025-05-03 06:50:02,533 - base_trainer - INFO -   閾値 0.5: 適合率=0.6332, 発生率=0.3678, シグナル数=199
2025-05-03 06:50:02,533 - base_trainer - INFO -   閾値 0.6: 適合率=0.6988, 発生率=0.1534, シグナル数=83
2025-05-03 06:50:02,533 - base_trainer - INFO -   閾値 0.7: 適合率=0.8500, 発生率=0.0739, シグナル数=40
2025-05-03 06:50:02,533 - base_trainer - INFO -   閾値 0.8: 適合率=0.6667, 発生率=0.0055, シグナル数=3
2025-05-03 06:50:02,533 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:02,533 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_long_3.joblib
2025-05-03 06:50:02,536 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_long_3.joblib に保存しました
2025-05-03 06:50:02,536 - high_threshold_training - INFO - モデル評価: 精度=0.6765, 適合率=0.6332, 再現率=0.5526
2025-05-03 06:50:02,536 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5000, シグナル率=0.7579, シグナル数=410
2025-05-03 06:50:02,537 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5480, シグナル率=0.5970, シグナル数=323
2025-05-03 06:50:02,537 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6332, シグナル率=0.3678, シグナル数=199
2025-05-03 06:50:02,537 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6988, シグナル率=0.1534, シグナル数=83
2025-05-03 06:50:02,537 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8500, シグナル率=0.0739, シグナル数=40
2025-05-03 06:50:02,537 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.6667, シグナル率=0.0055, シグナル数=3
2025-05-03 06:50:02,537 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:02,537 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:02,537 - high_threshold_training - INFO - 閾値:0.2% 方向:short 期間:1のモデルを訓練
2025-05-03 06:50:02,537 - base_trainer - INFO - ==== train: 1期先の高閾値(0.2%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 06:50:02,537 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_short_1 の準備を開始
2025-05-03 06:50:02,537 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1297, 1: 868}
2025-05-03 06:50:02,538 - base_trainer - INFO - シグナル発生率: 40.09%
2025-05-03 06:50:02,538 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:02,538 - base_trainer - INFO - クラス不均衡比率: 1.4942 (シグナル:非シグナル = 1:1.5)
2025-05-03 06:50:02,538 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.4942
2025-05-03 06:50:02,538 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.4942396313364055), 'verbose': -1}
2025-05-03 06:50:02,538 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:02,656 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 96)
2025-05-03 06:50:02,679 - base_trainer - INFO - 評価指標 - 精度: 0.7190, 適合率: 0.6444, 再現率: 0.6682, F1: 0.6561
2025-05-03 06:50:02,679 - base_trainer - INFO - シグナル比率: 0.4011
2025-05-03 06:50:02,679 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:02,679 - base_trainer - INFO -   閾値 0.3: 適合率=0.5216, 発生率=0.6839, シグナル数=370
2025-05-03 06:50:02,679 - base_trainer - INFO -   閾値 0.4: 適合率=0.5691, 発生率=0.5749, シグナル数=311
2025-05-03 06:50:02,679 - base_trainer - INFO -   閾値 0.5: 適合率=0.6444, 発生率=0.4159, シグナル数=225
2025-05-03 06:50:02,679 - base_trainer - INFO -   閾値 0.6: 適合率=0.6923, 発生率=0.2884, シグナル数=156
2025-05-03 06:50:02,679 - base_trainer - INFO -   閾値 0.7: 適合率=0.7315, 発生率=0.1996, シグナル数=108
2025-05-03 06:50:02,679 - base_trainer - INFO -   閾値 0.8: 適合率=0.7436, 発生率=0.0721, シグナル数=39
2025-05-03 06:50:02,679 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:02,679 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_short_1.joblib
2025-05-03 06:50:02,684 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_short_1.joblib に保存しました
2025-05-03 06:50:02,684 - high_threshold_training - INFO - モデル評価: 精度=0.7190, 適合率=0.6444, 再現率=0.6682
2025-05-03 06:50:02,684 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.5216, シグナル率=0.6839, シグナル数=370
2025-05-03 06:50:02,684 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5691, シグナル率=0.5749, シグナル数=311
2025-05-03 06:50:02,684 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6444, シグナル率=0.4159, シグナル数=225
2025-05-03 06:50:02,685 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6923, シグナル率=0.2884, シグナル数=156
2025-05-03 06:50:02,685 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7315, シグナル率=0.1996, シグナル数=108
2025-05-03 06:50:02,685 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.7436, シグナル率=0.0721, シグナル数=39
2025-05-03 06:50:02,685 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:02,685 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:02,685 - high_threshold_training - INFO - 閾値:0.2% 方向:short 期間:2のモデルを訓練
2025-05-03 06:50:02,685 - base_trainer - INFO - ==== train: 2期先の高閾値(0.2%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 06:50:02,685 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_short_2 の準備を開始
2025-05-03 06:50:02,685 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1307, 1: 858}
2025-05-03 06:50:02,685 - base_trainer - INFO - シグナル発生率: 39.63%
2025-05-03 06:50:02,686 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:02,686 - base_trainer - INFO - クラス不均衡比率: 1.5233 (シグナル:非シグナル = 1:1.5)
2025-05-03 06:50:02,686 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.5233
2025-05-03 06:50:02,686 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.5233100233100234), 'verbose': -1}
2025-05-03 06:50:02,686 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:02,778 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 50)
2025-05-03 06:50:02,800 - base_trainer - INFO - 評価指標 - 精度: 0.6784, 適合率: 0.6010, 再現率: 0.5674, F1: 0.5837
2025-05-03 06:50:02,800 - base_trainer - INFO - シグナル比率: 0.3974
2025-05-03 06:50:02,800 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:02,800 - base_trainer - INFO -   閾値 0.3: 適合率=0.4698, 発生率=0.7948, シグナル数=430
2025-05-03 06:50:02,800 - base_trainer - INFO -   閾値 0.4: 適合率=0.5342, 発生率=0.5675, シグナル数=307
2025-05-03 06:50:02,800 - base_trainer - INFO -   閾値 0.5: 適合率=0.6010, 発生率=0.3752, シグナル数=203
2025-05-03 06:50:02,800 - base_trainer - INFO -   閾値 0.6: 適合率=0.6667, 発生率=0.2107, シグナル数=114
2025-05-03 06:50:02,800 - base_trainer - INFO -   閾値 0.7: 適合率=0.7143, 発生率=0.1165, シグナル数=63
2025-05-03 06:50:02,800 - base_trainer - INFO -   閾値 0.8: 適合率=1.0000, 発生率=0.0055, シグナル数=3
2025-05-03 06:50:02,800 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:02,801 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_short_2.joblib
2025-05-03 06:50:02,803 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_short_2.joblib に保存しました
2025-05-03 06:50:02,804 - high_threshold_training - INFO - モデル評価: 精度=0.6784, 適合率=0.6010, 再現率=0.5674
2025-05-03 06:50:02,804 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4698, シグナル率=0.7948, シグナル数=430
2025-05-03 06:50:02,804 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5342, シグナル率=0.5675, シグナル数=307
2025-05-03 06:50:02,804 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6010, シグナル率=0.3752, シグナル数=203
2025-05-03 06:50:02,804 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6667, シグナル率=0.2107, シグナル数=114
2025-05-03 06:50:02,804 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7143, シグナル率=0.1165, シグナル数=63
2025-05-03 06:50:02,804 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=1.0000, シグナル率=0.0055, シグナル数=3
2025-05-03 06:50:02,804 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:02,804 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:02,805 - high_threshold_training - INFO - 閾値:0.2% 方向:short 期間:3のモデルを訓練
2025-05-03 06:50:02,805 - base_trainer - INFO - ==== train: 3期先の高閾値(0.2%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 06:50:02,805 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_short_3 の準備を開始
2025-05-03 06:50:02,805 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1314, 1: 851}
2025-05-03 06:50:02,805 - base_trainer - INFO - シグナル発生率: 39.31%
2025-05-03 06:50:02,805 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:02,806 - base_trainer - INFO - クラス不均衡比率: 1.5441 (シグナル:非シグナル = 1:1.5)
2025-05-03 06:50:02,806 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.5441
2025-05-03 06:50:02,806 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.5440658049353702), 'verbose': -1}
2025-05-03 06:50:02,806 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:02,902 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 54)
2025-05-03 06:50:02,924 - base_trainer - INFO - 評価指標 - 精度: 0.6710, 適合率: 0.6215, 再現率: 0.5783, F1: 0.5991
2025-05-03 06:50:02,924 - base_trainer - INFO - シグナル比率: 0.4251
2025-05-03 06:50:02,924 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:02,924 - base_trainer - INFO -   閾値 0.3: 適合率=0.4710, 発生率=0.8595, シグナル数=465
2025-05-03 06:50:02,924 - base_trainer - INFO -   閾値 0.4: 適合率=0.5314, 発生率=0.6470, シグナル数=350
2025-05-03 06:50:02,924 - base_trainer - INFO -   閾値 0.5: 適合率=0.6215, 発生率=0.3956, シグナル数=214
2025-05-03 06:50:02,924 - base_trainer - INFO -   閾値 0.6: 適合率=0.7293, 発生率=0.2458, シグナル数=133
2025-05-03 06:50:02,924 - base_trainer - INFO -   閾値 0.7: 適合率=0.8200, 発生率=0.0924, シグナル数=50
2025-05-03 06:50:02,924 - base_trainer - INFO -   閾値 0.8: 適合率=1.0000, 発生率=0.0037, シグナル数=2
2025-05-03 06:50:02,924 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:02,924 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_2p_short_3.joblib
2025-05-03 06:50:02,927 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_2p_short_3.joblib に保存しました
2025-05-03 06:50:02,928 - high_threshold_training - INFO - モデル評価: 精度=0.6710, 適合率=0.6215, 再現率=0.5783
2025-05-03 06:50:02,928 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4710, シグナル率=0.8595, シグナル数=465
2025-05-03 06:50:02,928 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5314, シグナル率=0.6470, シグナル数=350
2025-05-03 06:50:02,928 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6215, シグナル率=0.3956, シグナル数=214
2025-05-03 06:50:02,928 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7293, シグナル率=0.2458, シグナル数=133
2025-05-03 06:50:02,928 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8200, シグナル率=0.0924, シグナル数=50
2025-05-03 06:50:02,928 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=1.0000, シグナル率=0.0037, シグナル数=2
2025-05-03 06:50:02,928 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:02,928 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:02,928 - high_threshold_training - INFO - 閾値:0.3% 方向:long 期間:1のモデルを訓練
2025-05-03 06:50:02,928 - base_trainer - INFO - ==== train: 1期先の高閾値(0.3%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 06:50:02,928 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_long_1 の準備を開始
2025-05-03 06:50:02,929 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1408, 1: 757}
2025-05-03 06:50:02,929 - base_trainer - INFO - シグナル発生率: 34.97%
2025-05-03 06:50:02,929 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:02,929 - base_trainer - INFO - クラス不均衡比率: 1.8600 (シグナル:非シグナル = 1:1.9)
2025-05-03 06:50:02,929 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.8600
2025-05-03 06:50:02,929 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.8599735799207398), 'verbose': -1}
2025-05-03 06:50:02,930 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:03,047 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 84)
2025-05-03 06:50:03,070 - base_trainer - INFO - 評価指標 - 精度: 0.7338, 適合率: 0.6250, 再現率: 0.6053, F1: 0.6150
2025-05-03 06:50:03,070 - base_trainer - INFO - シグナル比率: 0.3512
2025-05-03 06:50:03,070 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:03,070 - base_trainer - INFO -   閾値 0.3: 適合率=0.4716, 発生率=0.6506, シグナル数=352
2025-05-03 06:50:03,070 - base_trainer - INFO -   閾値 0.4: 適合率=0.5475, 発生率=0.4861, シグナル数=263
2025-05-03 06:50:03,070 - base_trainer - INFO -   閾値 0.5: 適合率=0.6250, 発生率=0.3401, シグナル数=184
2025-05-03 06:50:03,070 - base_trainer - INFO -   閾値 0.6: 適合率=0.7304, 発生率=0.2126, シグナル数=115
2025-05-03 06:50:03,070 - base_trainer - INFO -   閾値 0.7: 適合率=0.8154, 発生率=0.1201, シグナル数=65
2025-05-03 06:50:03,070 - base_trainer - INFO -   閾値 0.8: 適合率=0.7857, 発生率=0.0259, シグナル数=14
2025-05-03 06:50:03,071 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:03,071 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_long_1.joblib
2025-05-03 06:50:03,075 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_long_1.joblib に保存しました
2025-05-03 06:50:03,075 - high_threshold_training - INFO - モデル評価: 精度=0.7338, 適合率=0.6250, 再現率=0.6053
2025-05-03 06:50:03,075 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4716, シグナル率=0.6506, シグナル数=352
2025-05-03 06:50:03,075 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5475, シグナル率=0.4861, シグナル数=263
2025-05-03 06:50:03,075 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6250, シグナル率=0.3401, シグナル数=184
2025-05-03 06:50:03,075 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7304, シグナル率=0.2126, シグナル数=115
2025-05-03 06:50:03,075 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8154, シグナル率=0.1201, シグナル数=65
2025-05-03 06:50:03,076 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.7857, シグナル率=0.0259, シグナル数=14
2025-05-03 06:50:03,076 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:03,076 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:03,076 - high_threshold_training - INFO - 閾値:0.3% 方向:long 期間:2のモデルを訓練
2025-05-03 06:50:03,076 - base_trainer - INFO - ==== train: 2期先の高閾値(0.3%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 06:50:03,076 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_long_2 の準備を開始
2025-05-03 06:50:03,076 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1395, 1: 770}
2025-05-03 06:50:03,076 - base_trainer - INFO - シグナル発生率: 35.57%
2025-05-03 06:50:03,077 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:03,077 - base_trainer - INFO - クラス不均衡比率: 1.8117 (シグナル:非シグナル = 1:1.8)
2025-05-03 06:50:03,077 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.8117
2025-05-03 06:50:03,077 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.8116883116883118), 'verbose': -1}
2025-05-03 06:50:03,077 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:03,173 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 50)
2025-05-03 06:50:03,192 - base_trainer - INFO - 評価指標 - 精度: 0.6580, 適合率: 0.5372, 再現率: 0.5075, F1: 0.5220
2025-05-03 06:50:03,192 - base_trainer - INFO - シグナル比率: 0.3678
2025-05-03 06:50:03,192 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:03,193 - base_trainer - INFO -   閾値 0.3: 適合率=0.4536, 発生率=0.7172, シグナル数=388
2025-05-03 06:50:03,193 - base_trainer - INFO -   閾値 0.4: 適合率=0.4816, 発生率=0.5527, シグナル数=299
2025-05-03 06:50:03,193 - base_trainer - INFO -   閾値 0.5: 適合率=0.5372, 発生率=0.3475, シグナル数=188
2025-05-03 06:50:03,193 - base_trainer - INFO -   閾値 0.6: 適合率=0.6061, 発生率=0.1830, シグナル数=99
2025-05-03 06:50:03,193 - base_trainer - INFO -   閾値 0.7: 適合率=0.7059, 発生率=0.0314, シグナル数=17
2025-05-03 06:50:03,193 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:03,193 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:03,193 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_long_2.joblib
2025-05-03 06:50:03,196 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_long_2.joblib に保存しました
2025-05-03 06:50:03,197 - high_threshold_training - INFO - モデル評価: 精度=0.6580, 適合率=0.5372, 再現率=0.5075
2025-05-03 06:50:03,197 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4536, シグナル率=0.7172, シグナル数=388
2025-05-03 06:50:03,197 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4816, シグナル率=0.5527, シグナル数=299
2025-05-03 06:50:03,197 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5372, シグナル率=0.3475, シグナル数=188
2025-05-03 06:50:03,197 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6061, シグナル率=0.1830, シグナル数=99
2025-05-03 06:50:03,197 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7059, シグナル率=0.0314, シグナル数=17
2025-05-03 06:50:03,197 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:03,197 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:03,197 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:03,197 - high_threshold_training - INFO - 閾値:0.3% 方向:long 期間:3のモデルを訓練
2025-05-03 06:50:03,197 - base_trainer - INFO - ==== train: 3期先の高閾値(0.3%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 06:50:03,197 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_long_3 の準備を開始
2025-05-03 06:50:03,198 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1370, 1: 795}
2025-05-03 06:50:03,198 - base_trainer - INFO - シグナル発生率: 36.72%
2025-05-03 06:50:03,198 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:03,198 - base_trainer - INFO - クラス不均衡比率: 1.7233 (シグナル:非シグナル = 1:1.7)
2025-05-03 06:50:03,199 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.7233
2025-05-03 06:50:03,199 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.7232704402515724), 'verbose': -1}
2025-05-03 06:50:03,199 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:03,308 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 76)
2025-05-03 06:50:03,330 - base_trainer - INFO - 評価指標 - 精度: 0.6913, 適合率: 0.6286, 再現率: 0.4335, F1: 0.5131
2025-05-03 06:50:03,330 - base_trainer - INFO - シグナル比率: 0.3752
2025-05-03 06:50:03,330 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:03,330 - base_trainer - INFO -   閾値 0.3: 適合率=0.4901, 発生率=0.6562, シグナル数=355
2025-05-03 06:50:03,330 - base_trainer - INFO -   閾値 0.4: 適合率=0.5447, 発生率=0.4750, シグナル数=257
2025-05-03 06:50:03,330 - base_trainer - INFO -   閾値 0.5: 適合率=0.6286, 発生率=0.2588, シグナル数=140
2025-05-03 06:50:03,330 - base_trainer - INFO -   閾値 0.6: 適合率=0.7246, 発生率=0.1275, シグナル数=69
2025-05-03 06:50:03,330 - base_trainer - INFO -   閾値 0.7: 適合率=0.8158, 発生率=0.0702, シグナル数=38
2025-05-03 06:50:03,330 - base_trainer - INFO -   閾値 0.8: 適合率=0.7500, 発生率=0.0222, シグナル数=12
2025-05-03 06:50:03,331 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:03,331 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_long_3.joblib
2025-05-03 06:50:03,334 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_long_3.joblib に保存しました
2025-05-03 06:50:03,335 - high_threshold_training - INFO - モデル評価: 精度=0.6913, 適合率=0.6286, 再現率=0.4335
2025-05-03 06:50:03,335 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4901, シグナル率=0.6562, シグナル数=355
2025-05-03 06:50:03,335 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5447, シグナル率=0.4750, シグナル数=257
2025-05-03 06:50:03,335 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6286, シグナル率=0.2588, シグナル数=140
2025-05-03 06:50:03,335 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7246, シグナル率=0.1275, シグナル数=69
2025-05-03 06:50:03,335 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.8158, シグナル率=0.0702, シグナル数=38
2025-05-03 06:50:03,335 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.7500, シグナル率=0.0222, シグナル数=12
2025-05-03 06:50:03,335 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:03,335 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:03,335 - high_threshold_training - INFO - 閾値:0.3% 方向:short 期間:1のモデルを訓練
2025-05-03 06:50:03,336 - base_trainer - INFO - ==== train: 1期先の高閾値(0.3%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 06:50:03,336 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_short_1 の準備を開始
2025-05-03 06:50:03,336 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1442, 1: 723}
2025-05-03 06:50:03,336 - base_trainer - INFO - シグナル発生率: 33.39%
2025-05-03 06:50:03,336 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:03,336 - base_trainer - INFO - クラス不均衡比率: 1.9945 (シグナル:非シグナル = 1:2.0)
2025-05-03 06:50:03,337 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.9945
2025-05-03 06:50:03,337 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.9944674965421854), 'verbose': -1}
2025-05-03 06:50:03,337 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:03,433 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 59)
2025-05-03 06:50:03,455 - base_trainer - INFO - 評価指標 - 精度: 0.7357, 適合率: 0.6051, 再現率: 0.6413, F1: 0.6227
2025-05-03 06:50:03,455 - base_trainer - INFO - シグナル比率: 0.3401
2025-05-03 06:50:03,455 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:03,455 - base_trainer - INFO -   閾値 0.3: 適合率=0.4715, 発生率=0.6821, シグナル数=369
2025-05-03 06:50:03,455 - base_trainer - INFO -   閾値 0.4: 適合率=0.4967, 発生率=0.5545, シグナル数=300
2025-05-03 06:50:03,455 - base_trainer - INFO -   閾値 0.5: 適合率=0.6051, 発生率=0.3604, シグナル数=195
2025-05-03 06:50:03,455 - base_trainer - INFO -   閾値 0.6: 適合率=0.6822, 発生率=0.2384, シグナル数=129
2025-05-03 06:50:03,455 - base_trainer - INFO -   閾値 0.7: 適合率=0.7143, 発生率=0.1035, シグナル数=56
2025-05-03 06:50:03,455 - base_trainer - INFO -   閾値 0.8: 適合率=0.7500, 発生率=0.0074, シグナル数=4
2025-05-03 06:50:03,456 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:03,456 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_short_1.joblib
2025-05-03 06:50:03,459 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_short_1.joblib に保存しました
2025-05-03 06:50:03,459 - high_threshold_training - INFO - モデル評価: 精度=0.7357, 適合率=0.6051, 再現率=0.6413
2025-05-03 06:50:03,459 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4715, シグナル率=0.6821, シグナル数=369
2025-05-03 06:50:03,459 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4967, シグナル率=0.5545, シグナル数=300
2025-05-03 06:50:03,459 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6051, シグナル率=0.3604, シグナル数=195
2025-05-03 06:50:03,459 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6822, シグナル率=0.2384, シグナル数=129
2025-05-03 06:50:03,459 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7143, シグナル率=0.1035, シグナル数=56
2025-05-03 06:50:03,459 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.7500, シグナル率=0.0074, シグナル数=4
2025-05-03 06:50:03,459 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:03,459 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:03,460 - high_threshold_training - INFO - 閾値:0.3% 方向:short 期間:2のモデルを訓練
2025-05-03 06:50:03,460 - base_trainer - INFO - ==== train: 2期先の高閾値(0.3%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 06:50:03,460 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_short_2 の準備を開始
2025-05-03 06:50:03,460 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1416, 1: 749}
2025-05-03 06:50:03,460 - base_trainer - INFO - シグナル発生率: 34.60%
2025-05-03 06:50:03,460 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:03,461 - base_trainer - INFO - クラス不均衡比率: 1.8905 (シグナル:非シグナル = 1:1.9)
2025-05-03 06:50:03,461 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.8905
2025-05-03 06:50:03,461 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.890520694259012), 'verbose': -1}
2025-05-03 06:50:03,461 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:03,558 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 51)
2025-05-03 06:50:03,580 - base_trainer - INFO - 評価指標 - 精度: 0.7116, 適合率: 0.5895, 再現率: 0.5895, F1: 0.5895
2025-05-03 06:50:03,580 - base_trainer - INFO - シグナル比率: 0.3512
2025-05-03 06:50:03,580 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:03,581 - base_trainer - INFO -   閾値 0.3: 適合率=0.4315, 発生率=0.7283, シグナル数=394
2025-05-03 06:50:03,581 - base_trainer - INFO -   閾値 0.4: 適合率=0.4934, 発生率=0.5619, シグナル数=304
2025-05-03 06:50:03,581 - base_trainer - INFO -   閾値 0.5: 適合率=0.5895, 発生率=0.3512, シグナル数=190
2025-05-03 06:50:03,581 - base_trainer - INFO -   閾値 0.6: 適合率=0.6339, 発生率=0.2070, シグナル数=112
2025-05-03 06:50:03,581 - base_trainer - INFO -   閾値 0.7: 適合率=0.7209, 発生率=0.0795, シグナル数=43
2025-05-03 06:50:03,581 - base_trainer - INFO -   閾値 0.8: 適合率=1.0000, 発生率=0.0018, シグナル数=1
2025-05-03 06:50:03,581 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:03,581 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_short_2.joblib
2025-05-03 06:50:03,584 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_short_2.joblib に保存しました
2025-05-03 06:50:03,584 - high_threshold_training - INFO - モデル評価: 精度=0.7116, 適合率=0.5895, 再現率=0.5895
2025-05-03 06:50:03,584 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4315, シグナル率=0.7283, シグナル数=394
2025-05-03 06:50:03,584 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4934, シグナル率=0.5619, シグナル数=304
2025-05-03 06:50:03,584 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5895, シグナル率=0.3512, シグナル数=190
2025-05-03 06:50:03,584 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6339, シグナル率=0.2070, シグナル数=112
2025-05-03 06:50:03,584 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7209, シグナル率=0.0795, シグナル数=43
2025-05-03 06:50:03,585 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=1.0000, シグナル率=0.0018, シグナル数=1
2025-05-03 06:50:03,585 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:03,585 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:03,585 - high_threshold_training - INFO - 閾値:0.3% 方向:short 期間:3のモデルを訓練
2025-05-03 06:50:03,585 - base_trainer - INFO - ==== train: 3期先の高閾値(0.3%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 06:50:03,585 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_short_3 の準備を開始
2025-05-03 06:50:03,585 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1413, 1: 752}
2025-05-03 06:50:03,585 - base_trainer - INFO - シグナル発生率: 34.73%
2025-05-03 06:50:03,586 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:03,586 - base_trainer - INFO - クラス不均衡比率: 1.8790 (シグナル:非シグナル = 1:1.9)
2025-05-03 06:50:03,586 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 1.8790
2025-05-03 06:50:03,586 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(1.8789893617021276), 'verbose': -1}
2025-05-03 06:50:03,586 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:03,684 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 57)
2025-05-03 06:50:03,703 - base_trainer - INFO - 評価指標 - 精度: 0.7006, 適合率: 0.6203, 再現率: 0.5604, F1: 0.5888
2025-05-03 06:50:03,703 - base_trainer - INFO - シグナル比率: 0.3826
2025-05-03 06:50:03,703 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:03,703 - base_trainer - INFO -   閾値 0.3: 適合率=0.4485, 発生率=0.8078, シグナル数=437
2025-05-03 06:50:03,703 - base_trainer - INFO -   閾値 0.4: 適合率=0.5186, 発生率=0.5453, シグナル数=295
2025-05-03 06:50:03,704 - base_trainer - INFO -   閾値 0.5: 適合率=0.6203, 発生率=0.3457, シグナル数=187
2025-05-03 06:50:03,704 - base_trainer - INFO -   閾値 0.6: 適合率=0.7143, 発生率=0.2200, シグナル数=119
2025-05-03 06:50:03,704 - base_trainer - INFO -   閾値 0.7: 適合率=0.7273, 発生率=0.1017, シグナル数=55
2025-05-03 06:50:03,704 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:03,704 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:03,704 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_3p_short_3.joblib
2025-05-03 06:50:03,707 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_3p_short_3.joblib に保存しました
2025-05-03 06:50:03,707 - high_threshold_training - INFO - モデル評価: 精度=0.7006, 適合率=0.6203, 再現率=0.5604
2025-05-03 06:50:03,707 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.4485, シグナル率=0.8078, シグナル数=437
2025-05-03 06:50:03,707 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5186, シグナル率=0.5453, シグナル数=295
2025-05-03 06:50:03,708 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6203, シグナル率=0.3457, シグナル数=187
2025-05-03 06:50:03,708 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.7143, シグナル率=0.2200, シグナル数=119
2025-05-03 06:50:03,708 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.7273, シグナル率=0.1017, シグナル数=55
2025-05-03 06:50:03,708 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:03,708 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:03,708 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:03,708 - high_threshold_training - INFO - 閾値:0.5% 方向:long 期間:1のモデルを訓練
2025-05-03 06:50:03,708 - base_trainer - INFO - ==== train: 1期先の高閾値(0.5%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 06:50:03,708 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_long_1 の準備を開始
2025-05-03 06:50:03,708 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1614, 1: 551}
2025-05-03 06:50:03,709 - base_trainer - INFO - シグナル発生率: 25.45%
2025-05-03 06:50:03,709 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:03,709 - base_trainer - INFO - クラス不均衡比率: 2.9292 (シグナル:非シグナル = 1:2.9)
2025-05-03 06:50:03,709 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.9292
2025-05-03 06:50:03,709 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.9292196007259528), 'verbose': -1}
2025-05-03 06:50:03,709 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:03,841 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 130)
2025-05-03 06:50:03,864 - base_trainer - INFO - 評価指標 - 精度: 0.7375, 適合率: 0.4767, 再現率: 0.6119, F1: 0.5359
2025-05-03 06:50:03,864 - base_trainer - INFO - シグナル比率: 0.2477
2025-05-03 06:50:03,864 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:03,864 - base_trainer - INFO -   閾値 0.3: 適合率=0.3793, 発生率=0.5360, シグナル数=290
2025-05-03 06:50:03,864 - base_trainer - INFO -   閾値 0.4: 適合率=0.4261, 発生率=0.4251, シグナル数=230
2025-05-03 06:50:03,864 - base_trainer - INFO -   閾値 0.5: 適合率=0.4767, 発生率=0.3179, シグナル数=172
2025-05-03 06:50:03,865 - base_trainer - INFO -   閾値 0.6: 適合率=0.5364, 発生率=0.2033, シグナル数=110
2025-05-03 06:50:03,865 - base_trainer - INFO -   閾値 0.7: 適合率=0.6429, 発生率=0.1035, シグナル数=56
2025-05-03 06:50:03,865 - base_trainer - INFO -   閾値 0.8: 適合率=0.6667, 発生率=0.0277, シグナル数=15
2025-05-03 06:50:03,865 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:03,865 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_long_1.joblib
2025-05-03 06:50:03,871 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_long_1.joblib に保存しました
2025-05-03 06:50:03,871 - high_threshold_training - INFO - モデル評価: 精度=0.7375, 適合率=0.4767, 再現率=0.6119
2025-05-03 06:50:03,871 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3793, シグナル率=0.5360, シグナル数=290
2025-05-03 06:50:03,871 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4261, シグナル率=0.4251, シグナル数=230
2025-05-03 06:50:03,871 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.4767, シグナル率=0.3179, シグナル数=172
2025-05-03 06:50:03,871 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.5364, シグナル率=0.2033, シグナル数=110
2025-05-03 06:50:03,871 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=0.6429, シグナル率=0.1035, シグナル数=56
2025-05-03 06:50:03,871 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=0.6667, シグナル率=0.0277, シグナル数=15
2025-05-03 06:50:03,871 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:03,871 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:03,872 - high_threshold_training - INFO - 閾値:0.5% 方向:long 期間:2のモデルを訓練
2025-05-03 06:50:03,872 - base_trainer - INFO - ==== train: 2期先の高閾値(0.5%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 06:50:03,872 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_long_2 の準備を開始
2025-05-03 06:50:03,872 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1608, 1: 557}
2025-05-03 06:50:03,872 - base_trainer - INFO - シグナル発生率: 25.73%
2025-05-03 06:50:03,872 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:03,873 - base_trainer - INFO - クラス不均衡比率: 2.8869 (シグナル:非シグナル = 1:2.9)
2025-05-03 06:50:03,873 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.8869
2025-05-03 06:50:03,873 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.8868940754039496), 'verbose': -1}
2025-05-03 06:50:03,873 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:03,951 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 22)
2025-05-03 06:50:03,963 - base_trainer - INFO - 評価指標 - 精度: 0.7320, 適合率: 0.4909, 再現率: 0.1875, F1: 0.2714
2025-05-03 06:50:03,963 - base_trainer - INFO - シグナル比率: 0.2662
2025-05-03 06:50:03,963 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:03,963 - base_trainer - INFO -   閾値 0.3: 適合率=0.3683, 発生率=0.5823, シグナル数=315
2025-05-03 06:50:03,963 - base_trainer - INFO -   閾値 0.4: 適合率=0.4459, 発生率=0.2902, シグナル数=157
2025-05-03 06:50:03,963 - base_trainer - INFO -   閾値 0.5: 適合率=0.4909, 発生率=0.1017, シグナル数=55
2025-05-03 06:50:03,963 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:03,963 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:03,963 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:03,963 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:03,964 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_long_2.joblib
2025-05-03 06:50:03,965 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_long_2.joblib に保存しました
2025-05-03 06:50:03,966 - high_threshold_training - INFO - モデル評価: 精度=0.7320, 適合率=0.4909, 再現率=0.1875
2025-05-03 06:50:03,966 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3683, シグナル率=0.5823, シグナル数=315
2025-05-03 06:50:03,966 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4459, シグナル率=0.2902, シグナル数=157
2025-05-03 06:50:03,966 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.4909, シグナル率=0.1017, シグナル数=55
2025-05-03 06:50:03,966 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:03,966 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:03,966 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:03,966 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:03,966 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:03,966 - high_threshold_training - INFO - 閾値:0.5% 方向:long 期間:3のモデルを訓練
2025-05-03 06:50:03,966 - base_trainer - INFO - ==== train: 3期先の高閾値(0.5%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 06:50:03,967 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_long_3 の準備を開始
2025-05-03 06:50:03,967 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1573, 1: 592}
2025-05-03 06:50:03,967 - base_trainer - INFO - シグナル発生率: 27.34%
2025-05-03 06:50:03,967 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:03,968 - base_trainer - INFO - クラス不均衡比率: 2.6571 (シグナル:非シグナル = 1:2.7)
2025-05-03 06:50:03,968 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.6571
2025-05-03 06:50:03,968 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.6570945945945947), 'verbose': -1}
2025-05-03 06:50:03,968 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:04,057 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 30)
2025-05-03 06:50:04,073 - base_trainer - INFO - 評価指標 - 精度: 0.7431, 適合率: 0.5714, 再現率: 0.3179, F1: 0.4085
2025-05-03 06:50:04,073 - base_trainer - INFO - シグナル比率: 0.2791
2025-05-03 06:50:04,073 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:04,073 - base_trainer - INFO -   閾値 0.3: 適合率=0.3791, 発生率=0.6192, シグナル数=335
2025-05-03 06:50:04,073 - base_trainer - INFO -   閾値 0.4: 適合率=0.4785, 発生率=0.3438, シグナル数=186
2025-05-03 06:50:04,073 - base_trainer - INFO -   閾値 0.5: 適合率=0.5714, 発生率=0.1553, シグナル数=84
2025-05-03 06:50:04,073 - base_trainer - INFO -   閾値 0.6: 適合率=0.6250, 発生率=0.0148, シグナル数=8
2025-05-03 06:50:04,073 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:04,073 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:04,073 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:04,074 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_long_3.joblib
2025-05-03 06:50:04,076 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_long_3.joblib に保存しました
2025-05-03 06:50:04,076 - high_threshold_training - INFO - モデル評価: 精度=0.7431, 適合率=0.5714, 再現率=0.3179
2025-05-03 06:50:04,076 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3791, シグナル率=0.6192, シグナル数=335
2025-05-03 06:50:04,076 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4785, シグナル率=0.3438, シグナル数=186
2025-05-03 06:50:04,076 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5714, シグナル率=0.1553, シグナル数=84
2025-05-03 06:50:04,076 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.6250, シグナル率=0.0148, シグナル数=8
2025-05-03 06:50:04,076 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:04,076 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:04,076 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:04,076 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:04,077 - high_threshold_training - INFO - 閾値:0.5% 方向:short 期間:1のモデルを訓練
2025-05-03 06:50:04,077 - base_trainer - INFO - ==== train: 1期先の高閾値(0.5%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 06:50:04,077 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_short_1 の準備を開始
2025-05-03 06:50:04,077 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1642, 1: 523}
2025-05-03 06:50:04,077 - base_trainer - INFO - シグナル発生率: 24.16%
2025-05-03 06:50:04,077 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:04,078 - base_trainer - INFO - クラス不均衡比率: 3.1396 (シグナル:非シグナル = 1:3.1)
2025-05-03 06:50:04,078 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 3.1396
2025-05-03 06:50:04,078 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(3.139579349904398), 'verbose': -1}
2025-05-03 06:50:04,078 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:04,154 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 27)
2025-05-03 06:50:04,169 - base_trainer - INFO - 評価指標 - 精度: 0.8004, 適合率: 0.6329, 再現率: 0.3876, F1: 0.4808
2025-05-03 06:50:04,169 - base_trainer - INFO - シグナル比率: 0.2384
2025-05-03 06:50:04,169 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:04,169 - base_trainer - INFO -   閾値 0.3: 適合率=0.3689, 発生率=0.5712, シグナル数=309
2025-05-03 06:50:04,169 - base_trainer - INFO -   閾値 0.4: 適合率=0.4939, 発生率=0.3031, シグナル数=164
2025-05-03 06:50:04,169 - base_trainer - INFO -   閾値 0.5: 適合率=0.6329, 発生率=0.1460, シグナル数=79
2025-05-03 06:50:04,169 - base_trainer - INFO -   閾値 0.6: 適合率=1.0000, 発生率=0.0018, シグナル数=1
2025-05-03 06:50:04,169 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:04,169 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:04,169 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:04,169 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_short_1.joblib
2025-05-03 06:50:04,171 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_short_1.joblib に保存しました
2025-05-03 06:50:04,172 - high_threshold_training - INFO - モデル評価: 精度=0.8004, 適合率=0.6329, 再現率=0.3876
2025-05-03 06:50:04,172 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3689, シグナル率=0.5712, シグナル数=309
2025-05-03 06:50:04,172 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4939, シグナル率=0.3031, シグナル数=164
2025-05-03 06:50:04,172 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.6329, シグナル率=0.1460, シグナル数=79
2025-05-03 06:50:04,172 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=1.0000, シグナル率=0.0018, シグナル数=1
2025-05-03 06:50:04,172 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:04,172 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:04,172 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:04,172 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:04,172 - high_threshold_training - INFO - 閾値:0.5% 方向:short 期間:2のモデルを訓練
2025-05-03 06:50:04,172 - base_trainer - INFO - ==== train: 2期先の高閾値(0.5%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 06:50:04,172 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_short_2 の準備を開始
2025-05-03 06:50:04,173 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1614, 1: 551}
2025-05-03 06:50:04,173 - base_trainer - INFO - シグナル発生率: 25.45%
2025-05-03 06:50:04,173 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:04,173 - base_trainer - INFO - クラス不均衡比率: 2.9292 (シグナル:非シグナル = 1:2.9)
2025-05-03 06:50:04,173 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.9292
2025-05-03 06:50:04,174 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.9292196007259528), 'verbose': -1}
2025-05-03 06:50:04,174 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:04,256 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 24)
2025-05-03 06:50:04,267 - base_trainer - INFO - 評価指標 - 精度: 0.7468, 適合率: 0.4921, 再現率: 0.2279, F1: 0.3116
2025-05-03 06:50:04,267 - base_trainer - INFO - シグナル比率: 0.2514
2025-05-03 06:50:04,268 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:04,268 - base_trainer - INFO -   閾値 0.3: 適合率=0.3725, 発生率=0.5508, シグナル数=298
2025-05-03 06:50:04,268 - base_trainer - INFO -   閾値 0.4: 適合率=0.4797, 発生率=0.2736, シグナル数=148
2025-05-03 06:50:04,268 - base_trainer - INFO -   閾値 0.5: 適合率=0.4921, 発生率=0.1165, シグナル数=63
2025-05-03 06:50:04,268 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:04,268 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:04,268 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:04,268 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:04,268 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_short_2.joblib
2025-05-03 06:50:04,270 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_short_2.joblib に保存しました
2025-05-03 06:50:04,271 - high_threshold_training - INFO - モデル評価: 精度=0.7468, 適合率=0.4921, 再現率=0.2279
2025-05-03 06:50:04,271 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3725, シグナル率=0.5508, シグナル数=298
2025-05-03 06:50:04,271 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.4797, シグナル率=0.2736, シグナル数=148
2025-05-03 06:50:04,271 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.4921, シグナル率=0.1165, シグナル数=63
2025-05-03 06:50:04,271 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:04,271 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:04,271 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:04,271 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:04,271 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:04,271 - high_threshold_training - INFO - 閾値:0.5% 方向:short 期間:3のモデルを訓練
2025-05-03 06:50:04,271 - base_trainer - INFO - ==== train: 3期先の高閾値(0.5%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 06:50:04,271 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_short_3 の準備を開始
2025-05-03 06:50:04,272 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 1601, 1: 564}
2025-05-03 06:50:04,272 - base_trainer - INFO - シグナル発生率: 26.05%
2025-05-03 06:50:04,272 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 2165行, テストデータ: 541行
2025-05-03 06:50:04,272 - base_trainer - INFO - クラス不均衡比率: 2.8387 (シグナル:非シグナル = 1:2.8)
2025-05-03 06:50:04,272 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.8387
2025-05-03 06:50:04,272 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.8386524822695036), 'verbose': -1}
2025-05-03 06:50:04,272 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 06:50:04,356 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 27)
2025-05-03 06:50:04,371 - base_trainer - INFO - 評価指標 - 精度: 0.7338, 適合率: 0.5658, 再現率: 0.2792, F1: 0.3739
2025-05-03 06:50:04,372 - base_trainer - INFO - シグナル比率: 0.2847
2025-05-03 06:50:04,372 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 06:50:04,372 - base_trainer - INFO -   閾値 0.3: 適合率=0.3851, 発生率=0.6192, シグナル数=335
2025-05-03 06:50:04,372 - base_trainer - INFO -   閾値 0.4: 適合率=0.5000, 発生率=0.2994, シグナル数=162
2025-05-03 06:50:04,372 - base_trainer - INFO -   閾値 0.5: 適合率=0.5658, 発生率=0.1405, シグナル数=76
2025-05-03 06:50:04,372 - base_trainer - INFO -   閾値 0.6: 適合率=0.5714, 発生率=0.0129, シグナル数=7
2025-05-03 06:50:04,372 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:04,372 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:04,372 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 06:50:04,372 - base_trainer - INFO - モデルを保存します: models\high_threshold\high_threshold\target_high_threshold_5p_short_3.joblib
2025-05-03 06:50:04,374 - base_trainer - INFO - モデルを models\high_threshold\high_threshold\target_high_threshold_5p_short_3.joblib に保存しました
2025-05-03 06:50:04,375 - high_threshold_training - INFO - モデル評価: 精度=0.7338, 適合率=0.5658, 再現率=0.2792
2025-05-03 06:50:04,375 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3851, シグナル率=0.6192, シグナル数=335
2025-05-03 06:50:04,375 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=0.5000, シグナル率=0.2994, シグナル数=162
2025-05-03 06:50:04,375 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=0.5658, シグナル率=0.1405, シグナル数=76
2025-05-03 06:50:04,375 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=0.5714, シグナル率=0.0129, シグナル数=7
2025-05-03 06:50:04,375 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:04,375 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:04,375 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 06:50:04,375 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 06:50:04,376 - high_threshold_training - INFO - ===== トレーニング結果サマリー =====
2025-05-03 06:50:04,376 - high_threshold_training - INFO - 閾値: threshold_1p
2025-05-03 06:50:04,376 - high_threshold_training - INFO -   方向: long
2025-05-03 06:50:04,376 - high_threshold_training - INFO -     期間: period_1
2025-05-03 06:50:04,376 - high_threshold_training - INFO -       精度: 0.7172
2025-05-03 06:50:04,376 - high_threshold_training - INFO -       適合率: 0.6860
2025-05-03 06:50:04,376 - high_threshold_training - INFO -       シグナル率: 0.4492
2025-05-03 06:50:04,376 - high_threshold_training - INFO -     期間: period_2
2025-05-03 06:50:04,376 - high_threshold_training - INFO -       精度: 0.6470
2025-05-03 06:50:04,376 - high_threshold_training - INFO -       適合率: 0.6174
2025-05-03 06:50:04,376 - high_threshold_training - INFO -       シグナル率: 0.4677
2025-05-03 06:50:04,376 - high_threshold_training - INFO -     期間: period_3
2025-05-03 06:50:04,376 - high_threshold_training - INFO -       精度: 0.6322
2025-05-03 06:50:04,376 - high_threshold_training - INFO -       適合率: 0.6216
2025-05-03 06:50:04,376 - high_threshold_training - INFO -       シグナル率: 0.4677
2025-05-03 06:50:04,376 - high_threshold_training - INFO -   方向: short
2025-05-03 06:50:04,377 - high_threshold_training - INFO -     期間: period_1
2025-05-03 06:50:04,377 - high_threshold_training - INFO -       精度: 0.7172
2025-05-03 06:50:04,377 - high_threshold_training - INFO -       適合率: 0.6846
2025-05-03 06:50:04,377 - high_threshold_training - INFO -       シグナル率: 0.4473
2025-05-03 06:50:04,377 - high_threshold_training - INFO -     期間: period_2
2025-05-03 06:50:04,377 - high_threshold_training - INFO -       精度: 0.6543
2025-05-03 06:50:04,377 - high_threshold_training - INFO -       適合率: 0.6116
2025-05-03 06:50:04,377 - high_threshold_training - INFO -       シグナル率: 0.4455
2025-05-03 06:50:04,377 - high_threshold_training - INFO -     期間: period_3
2025-05-03 06:50:04,377 - high_threshold_training - INFO -       精度: 0.6784
2025-05-03 06:50:04,377 - high_threshold_training - INFO -       適合率: 0.6570
2025-05-03 06:50:04,377 - high_threshold_training - INFO -       シグナル率: 0.4621
2025-05-03 06:50:04,378 - high_threshold_training - INFO - 閾値: threshold_2p
2025-05-03 06:50:04,378 - high_threshold_training - INFO -   方向: long
2025-05-03 06:50:04,378 - high_threshold_training - INFO -     期間: period_1
2025-05-03 06:50:04,378 - high_threshold_training - INFO -       精度: 0.7190
2025-05-03 06:50:04,378 - high_threshold_training - INFO -       適合率: 0.6649
2025-05-03 06:50:04,378 - high_threshold_training - INFO -       シグナル率: 0.3974
2025-05-03 06:50:04,378 - high_threshold_training - INFO -     期間: period_2
2025-05-03 06:50:04,378 - high_threshold_training - INFO -       精度: 0.6340
2025-05-03 06:50:04,378 - high_threshold_training - INFO -       適合率: 0.5642
2025-05-03 06:50:04,378 - high_threshold_training - INFO -       シグナル率: 0.4177
2025-05-03 06:50:04,378 - high_threshold_training - INFO -     期間: period_3
2025-05-03 06:50:04,378 - high_threshold_training - INFO -       精度: 0.6765
2025-05-03 06:50:04,378 - high_threshold_training - INFO -       適合率: 0.6332
2025-05-03 06:50:04,378 - high_threshold_training - INFO -       シグナル率: 0.4214
2025-05-03 06:50:04,378 - high_threshold_training - INFO -   方向: short
2025-05-03 06:50:04,378 - high_threshold_training - INFO -     期間: period_1
2025-05-03 06:50:04,378 - high_threshold_training - INFO -       精度: 0.7190
2025-05-03 06:50:04,378 - high_threshold_training - INFO -       適合率: 0.6444
2025-05-03 06:50:04,379 - high_threshold_training - INFO -       シグナル率: 0.4011
2025-05-03 06:50:04,379 - high_threshold_training - INFO -     期間: period_2
2025-05-03 06:50:04,379 - high_threshold_training - INFO -       精度: 0.6784
2025-05-03 06:50:04,379 - high_threshold_training - INFO -       適合率: 0.6010
2025-05-03 06:50:04,379 - high_threshold_training - INFO -       シグナル率: 0.3974
2025-05-03 06:50:04,379 - high_threshold_training - INFO -     期間: period_3
2025-05-03 06:50:04,379 - high_threshold_training - INFO -       精度: 0.6710
2025-05-03 06:50:04,379 - high_threshold_training - INFO -       適合率: 0.6215
2025-05-03 06:50:04,379 - high_threshold_training - INFO -       シグナル率: 0.4251
2025-05-03 06:50:04,379 - high_threshold_training - INFO - 閾値: threshold_3p
2025-05-03 06:50:04,379 - high_threshold_training - INFO -   方向: long
2025-05-03 06:50:04,379 - high_threshold_training - INFO -     期間: period_1
2025-05-03 06:50:04,379 - high_threshold_training - INFO -       精度: 0.7338
2025-05-03 06:50:04,379 - high_threshold_training - INFO -       適合率: 0.6250
2025-05-03 06:50:04,379 - high_threshold_training - INFO -       シグナル率: 0.3512
2025-05-03 06:50:04,379 - high_threshold_training - INFO -     期間: period_2
2025-05-03 06:50:04,379 - high_threshold_training - INFO -       精度: 0.6580
2025-05-03 06:50:04,379 - high_threshold_training - INFO -       適合率: 0.5372
2025-05-03 06:50:04,379 - high_threshold_training - INFO -       シグナル率: 0.3678
2025-05-03 06:50:04,380 - high_threshold_training - INFO -     期間: period_3
2025-05-03 06:50:04,380 - high_threshold_training - INFO -       精度: 0.6913
2025-05-03 06:50:04,380 - high_threshold_training - INFO -       適合率: 0.6286
2025-05-03 06:50:04,380 - high_threshold_training - INFO -       シグナル率: 0.3752
2025-05-03 06:50:04,380 - high_threshold_training - INFO -   方向: short
2025-05-03 06:50:04,380 - high_threshold_training - INFO -     期間: period_1
2025-05-03 06:50:04,380 - high_threshold_training - INFO -       精度: 0.7357
2025-05-03 06:50:04,380 - high_threshold_training - INFO -       適合率: 0.6051
2025-05-03 06:50:04,380 - high_threshold_training - INFO -       シグナル率: 0.3401
2025-05-03 06:50:04,380 - high_threshold_training - INFO -     期間: period_2
2025-05-03 06:50:04,380 - high_threshold_training - INFO -       精度: 0.7116
2025-05-03 06:50:04,380 - high_threshold_training - INFO -       適合率: 0.5895
2025-05-03 06:50:04,380 - high_threshold_training - INFO -       シグナル率: 0.3512
2025-05-03 06:50:04,380 - high_threshold_training - INFO -     期間: period_3
2025-05-03 06:50:04,380 - high_threshold_training - INFO -       精度: 0.7006
2025-05-03 06:50:04,380 - high_threshold_training - INFO -       適合率: 0.6203
2025-05-03 06:50:04,380 - high_threshold_training - INFO -       シグナル率: 0.3826
2025-05-03 06:50:04,380 - high_threshold_training - INFO - 閾値: threshold_5p
2025-05-03 06:50:04,381 - high_threshold_training - INFO -   方向: long
2025-05-03 06:50:04,381 - high_threshold_training - INFO -     期間: period_1
2025-05-03 06:50:04,381 - high_threshold_training - INFO -       精度: 0.7375
2025-05-03 06:50:04,381 - high_threshold_training - INFO -       適合率: 0.4767
2025-05-03 06:50:04,381 - high_threshold_training - INFO -       シグナル率: 0.2477
2025-05-03 06:50:04,381 - high_threshold_training - INFO -     期間: period_2
2025-05-03 06:50:04,381 - high_threshold_training - INFO -       精度: 0.7320
2025-05-03 06:50:04,381 - high_threshold_training - INFO -       適合率: 0.4909
2025-05-03 06:50:04,381 - high_threshold_training - INFO -       シグナル率: 0.2662
2025-05-03 06:50:04,381 - high_threshold_training - INFO -     期間: period_3
2025-05-03 06:50:04,381 - high_threshold_training - INFO -       精度: 0.7431
2025-05-03 06:50:04,381 - high_threshold_training - INFO -       適合率: 0.5714
2025-05-03 06:50:04,381 - high_threshold_training - INFO -       シグナル率: 0.2791
2025-05-03 06:50:04,381 - high_threshold_training - INFO -   方向: short
2025-05-03 06:50:04,381 - high_threshold_training - INFO -     期間: period_1
2025-05-03 06:50:04,381 - high_threshold_training - INFO -       精度: 0.8004
2025-05-03 06:50:04,381 - high_threshold_training - INFO -       適合率: 0.6329
2025-05-03 06:50:04,382 - high_threshold_training - INFO -       シグナル率: 0.2384
2025-05-03 06:50:04,382 - high_threshold_training - INFO -     期間: period_2
2025-05-03 06:50:04,382 - high_threshold_training - INFO -       精度: 0.7468
2025-05-03 06:50:04,382 - high_threshold_training - INFO -       適合率: 0.4921
2025-05-03 06:50:04,382 - high_threshold_training - INFO -       シグナル率: 0.2514
2025-05-03 06:50:04,382 - high_threshold_training - INFO -     期間: period_3
2025-05-03 06:50:04,382 - high_threshold_training - INFO -       精度: 0.7338
2025-05-03 06:50:04,382 - high_threshold_training - INFO -       適合率: 0.5658
2025-05-03 06:50:04,382 - high_threshold_training - INFO -       シグナル率: 0.2847
2025-05-03 06:50:04,386 - high_threshold_training - INFO - 訓練結果を models\high_threshold\high_threshold_results_20250503_065004.json に保存しました
2025-05-03 06:50:04,386 - high_threshold_training - INFO - 高閾値シグナルモデルの訓練が完了しました
