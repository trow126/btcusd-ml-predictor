2025-05-03 07:44:57,780 - high_threshold_training - INFO - 高閾値シグナルモデルの訓練を開始します
2025-05-03 07:44:57,781 - high_threshold_training - INFO - 期間: [1, 2, 3], 方向: ['long', 'short'], 閾値: [0.001, 0.002, 0.003, 0.005]
2025-05-03 07:44:57,781 - high_threshold_training - INFO - データの読み込み: data/processed/btcusd_5m_features.csv
2025-05-03 07:44:57,781 - data_loader - INFO - load_data: データを data\processed\btcusd_5m_features.csv から読み込みます
2025-05-03 07:44:57,793 - data_loader - INFO - ファイルのカラム: ['timestamp', 'close', 'volume', 'turnover', 'candle_size']... (全163列)
2025-05-03 07:44:57,793 - data_loader - INFO - timestampカラムをインデックスとして読み込みます
2025-05-03 07:44:59,104 - data_loader - INFO - load_data: 136321 行のデータを読み込みました
2025-05-03 07:44:59,105 - high_threshold_training - INFO - データ情報: 行数=136321, 列数=162
2025-05-03 07:44:59,105 - high_threshold_training - INFO - 高閾値ターゲット変数が96個見つかりました
2025-05-03 07:44:59,105 - high_threshold_training - INFO -   1. target_high_threshold_1p_long_1
2025-05-03 07:44:59,105 - high_threshold_training - INFO -   2. target_high_threshold_1p_short_1
2025-05-03 07:44:59,105 - high_threshold_training - INFO -   3. target_high_threshold_2p_long_1
2025-05-03 07:44:59,105 - high_threshold_training - INFO -   4. target_high_threshold_2p_short_1
2025-05-03 07:44:59,105 - high_threshold_training - INFO -   5. target_high_threshold_3p_long_1
2025-05-03 07:44:59,105 - high_threshold_training - INFO -   6. target_high_threshold_3p_short_1
2025-05-03 07:44:59,105 - high_threshold_training - INFO -   7. target_high_threshold_5p_long_1
2025-05-03 07:44:59,105 - high_threshold_training - INFO -   8. target_high_threshold_5p_short_1
2025-05-03 07:44:59,105 - high_threshold_training - INFO -   9. target_high_threshold_1p_long_2
2025-05-03 07:44:59,106 - high_threshold_training - INFO -   10. target_high_threshold_1p_short_2
2025-05-03 07:44:59,106 - high_threshold_training - INFO -   ...その他 86 個
2025-05-03 07:44:59,107 - high_threshold_training - INFO - target_high_threshold_1p_long_1 のクラス分布: {0: 111888, 1: 24433}
2025-05-03 07:44:59,107 - high_threshold_training - INFO - target_high_threshold_1p_short_1 のクラス分布: {0: 112591, 1: 23730}
2025-05-03 07:44:59,108 - high_threshold_training - INFO - target_high_threshold_2p_long_1 のクラス分布: {0: 127980, 1: 8341}
2025-05-03 07:44:59,108 - high_threshold_training - INFO - 特徴量と目標変数の準備
2025-05-03 07:44:59,108 - feature_selector - INFO - prepare_features: 特徴量と目標変数の準備を開始します
2025-05-03 07:44:59,108 - feature_selector - INFO - 選択された特徴量: 42個
2025-05-03 07:44:59,116 - feature_selector - WARNING - prepare_features: 目標変数 target_smoothed_change_1 がカラムに見つかりません
2025-05-03 07:44:59,116 - feature_selector - WARNING - prepare_features: 目標変数 target_binary_1 がカラムに見つかりません
2025-05-03 07:44:59,131 - feature_selector - INFO - prepare_features: threshold_binary_classification_1 用の特徴量セット X_threshold_binary_1 を作成 (136321 行)
2025-05-03 07:44:59,131 - feature_selector - WARNING - prepare_features: 目標変数 target_smoothed_change_2 がカラムに見つかりません
2025-05-03 07:44:59,131 - feature_selector - WARNING - prepare_features: 目標変数 target_binary_2 がカラムに見つかりません
2025-05-03 07:44:59,142 - feature_selector - INFO - prepare_features: threshold_binary_classification_2 用の特徴量セット X_threshold_binary_2 を作成 (136321 行)
2025-05-03 07:44:59,143 - feature_selector - WARNING - prepare_features: 目標変数 target_smoothed_change_3 がカラムに見つかりません
2025-05-03 07:44:59,143 - feature_selector - WARNING - prepare_features: 目標変数 target_binary_3 がカラムに見つかりません
2025-05-03 07:44:59,154 - feature_selector - INFO - prepare_features: threshold_binary_classification_3 用の特徴量セット X_threshold_binary_3 を作成 (136321 行)
2025-05-03 07:44:59,154 - feature_selector - INFO - prepare_features: 高閾値シグナル変数 96個を目標変数に追加します
2025-05-03 07:44:59,155 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_1 を追加
2025-05-03 07:44:59,155 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_1 を追加
2025-05-03 07:44:59,155 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_1 を追加
2025-05-03 07:44:59,155 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_1 を追加
2025-05-03 07:44:59,155 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_1 を追加
2025-05-03 07:44:59,155 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_1 を追加
2025-05-03 07:44:59,155 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_1 を追加
2025-05-03 07:44:59,155 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_1 を追加
2025-05-03 07:44:59,155 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_2 を追加
2025-05-03 07:44:59,155 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_2 を追加
2025-05-03 07:44:59,156 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_2 を追加
2025-05-03 07:44:59,156 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_2 を追加
2025-05-03 07:44:59,156 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_2 を追加
2025-05-03 07:44:59,156 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_2 を追加
2025-05-03 07:44:59,156 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_2 を追加
2025-05-03 07:44:59,156 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_2 を追加
2025-05-03 07:44:59,156 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_3 を追加
2025-05-03 07:44:59,156 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_3 を追加
2025-05-03 07:44:59,156 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_3 を追加
2025-05-03 07:44:59,156 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_3 を追加
2025-05-03 07:44:59,156 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_3 を追加
2025-05-03 07:44:59,156 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_3 を追加
2025-05-03 07:44:59,157 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_3 を追加
2025-05-03 07:44:59,157 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_3 を追加
2025-05-03 07:44:59,157 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_1.1 を追加
2025-05-03 07:44:59,157 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_1.1 を追加
2025-05-03 07:44:59,157 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_1.1 を追加
2025-05-03 07:44:59,157 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_1.1 を追加
2025-05-03 07:44:59,157 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_1.1 を追加
2025-05-03 07:44:59,157 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_1.1 を追加
2025-05-03 07:44:59,157 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_1.1 を追加
2025-05-03 07:44:59,157 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_1.1 を追加
2025-05-03 07:44:59,157 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_2.1 を追加
2025-05-03 07:44:59,158 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_2.1 を追加
2025-05-03 07:44:59,158 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_2.1 を追加
2025-05-03 07:44:59,158 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_2.1 を追加
2025-05-03 07:44:59,158 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_2.1 を追加
2025-05-03 07:44:59,158 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_2.1 を追加
2025-05-03 07:44:59,158 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_2.1 を追加
2025-05-03 07:44:59,158 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_2.1 を追加
2025-05-03 07:44:59,158 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_3.1 を追加
2025-05-03 07:44:59,158 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_3.1 を追加
2025-05-03 07:44:59,159 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_3.1 を追加
2025-05-03 07:44:59,159 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_3.1 を追加
2025-05-03 07:44:59,159 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_3.1 を追加
2025-05-03 07:44:59,159 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_3.1 を追加
2025-05-03 07:44:59,159 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_3.1 を追加
2025-05-03 07:44:59,159 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_3.1 を追加
2025-05-03 07:44:59,159 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_1.2 を追加
2025-05-03 07:44:59,159 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_1.2 を追加
2025-05-03 07:44:59,160 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_1.2 を追加
2025-05-03 07:44:59,160 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_1.2 を追加
2025-05-03 07:44:59,160 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_1.2 を追加
2025-05-03 07:44:59,160 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_1.2 を追加
2025-05-03 07:44:59,160 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_1.2 を追加
2025-05-03 07:44:59,160 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_1.2 を追加
2025-05-03 07:44:59,160 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_2.2 を追加
2025-05-03 07:44:59,160 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_2.2 を追加
2025-05-03 07:44:59,160 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_2.2 を追加
2025-05-03 07:44:59,160 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_2.2 を追加
2025-05-03 07:44:59,161 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_2.2 を追加
2025-05-03 07:44:59,161 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_2.2 を追加
2025-05-03 07:44:59,161 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_2.2 を追加
2025-05-03 07:44:59,161 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_2.2 を追加
2025-05-03 07:44:59,161 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_3.2 を追加
2025-05-03 07:44:59,161 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_3.2 を追加
2025-05-03 07:44:59,161 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_3.2 を追加
2025-05-03 07:44:59,161 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_3.2 を追加
2025-05-03 07:44:59,161 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_3.2 を追加
2025-05-03 07:44:59,161 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_3.2 を追加
2025-05-03 07:44:59,161 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_3.2 を追加
2025-05-03 07:44:59,162 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_3.2 を追加
2025-05-03 07:44:59,162 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_1.3 を追加
2025-05-03 07:44:59,162 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_1.3 を追加
2025-05-03 07:44:59,162 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_1.3 を追加
2025-05-03 07:44:59,162 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_1.3 を追加
2025-05-03 07:44:59,162 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_1.3 を追加
2025-05-03 07:44:59,162 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_1.3 を追加
2025-05-03 07:44:59,162 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_1.3 を追加
2025-05-03 07:44:59,162 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_1.3 を追加
2025-05-03 07:44:59,162 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_2.3 を追加
2025-05-03 07:44:59,162 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_2.3 を追加
2025-05-03 07:44:59,162 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_2.3 を追加
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_2.3 を追加
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_2.3 を追加
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_2.3 を追加
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_2.3 を追加
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_2.3 を追加
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_long_3.3 を追加
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_1p_short_3.3 を追加
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_long_3.3 を追加
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_2p_short_3.3 を追加
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_long_3.3 を追加
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_3p_short_3.3 を追加
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_long_3.3 を追加
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 高閾値シグナル目標変数 target_high_threshold_5p_short_3.3 を追加
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 特徴量: 42個, 目標変数: 108個
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 特徴量セット: ['X', 'X_threshold_binary_1', 'X_threshold_binary_2', 'X_threshold_binary_3']
2025-05-03 07:44:59,163 - feature_selector - INFO - prepare_features: 目標変数名: ['regression_1', 'classification_1', 'threshold_ternary_classification_1', 'threshold_binary_classification_1', 'regression_2', 'classification_2', 'threshold_ternary_classification_2', 'threshold_binary_classification_2', 'regression_3', 'classification_3', 'threshold_ternary_classification_3', 'threshold_binary_classification_3', 'target_high_threshold_1p_long_1', 'target_high_threshold_1p_short_1', 'target_high_threshold_2p_long_1', 'target_high_threshold_2p_short_1', 'target_high_threshold_3p_long_1', 'target_high_threshold_3p_short_1', 'target_high_threshold_5p_long_1', 'target_high_threshold_5p_short_1', 'target_high_threshold_1p_long_2', 'target_high_threshold_1p_short_2', 'target_high_threshold_2p_long_2', 'target_high_threshold_2p_short_2', 'target_high_threshold_3p_long_2', 'target_high_threshold_3p_short_2', 'target_high_threshold_5p_long_2', 'target_high_threshold_5p_short_2', 'target_high_threshold_1p_long_3', 'target_high_threshold_1p_short_3', 'target_high_threshold_2p_long_3', 'target_high_threshold_2p_short_3', 'target_high_threshold_3p_long_3', 'target_high_threshold_3p_short_3', 'target_high_threshold_5p_long_3', 'target_high_threshold_5p_short_3', 'target_high_threshold_1p_long_1.1', 'target_high_threshold_1p_short_1.1', 'target_high_threshold_2p_long_1.1', 'target_high_threshold_2p_short_1.1', 'target_high_threshold_3p_long_1.1', 'target_high_threshold_3p_short_1.1', 'target_high_threshold_5p_long_1.1', 'target_high_threshold_5p_short_1.1', 'target_high_threshold_1p_long_2.1', 'target_high_threshold_1p_short_2.1', 'target_high_threshold_2p_long_2.1', 'target_high_threshold_2p_short_2.1', 'target_high_threshold_3p_long_2.1', 'target_high_threshold_3p_short_2.1', 'target_high_threshold_5p_long_2.1', 'target_high_threshold_5p_short_2.1', 'target_high_threshold_1p_long_3.1', 'target_high_threshold_1p_short_3.1', 'target_high_threshold_2p_long_3.1', 'target_high_threshold_2p_short_3.1', 'target_high_threshold_3p_long_3.1', 'target_high_threshold_3p_short_3.1', 'target_high_threshold_5p_long_3.1', 'target_high_threshold_5p_short_3.1', 'target_high_threshold_1p_long_1.2', 'target_high_threshold_1p_short_1.2', 'target_high_threshold_2p_long_1.2', 'target_high_threshold_2p_short_1.2', 'target_high_threshold_3p_long_1.2', 'target_high_threshold_3p_short_1.2', 'target_high_threshold_5p_long_1.2', 'target_high_threshold_5p_short_1.2', 'target_high_threshold_1p_long_2.2', 'target_high_threshold_1p_short_2.2', 'target_high_threshold_2p_long_2.2', 'target_high_threshold_2p_short_2.2', 'target_high_threshold_3p_long_2.2', 'target_high_threshold_3p_short_2.2', 'target_high_threshold_5p_long_2.2', 'target_high_threshold_5p_short_2.2', 'target_high_threshold_1p_long_3.2', 'target_high_threshold_1p_short_3.2', 'target_high_threshold_2p_long_3.2', 'target_high_threshold_2p_short_3.2', 'target_high_threshold_3p_long_3.2', 'target_high_threshold_3p_short_3.2', 'target_high_threshold_5p_long_3.2', 'target_high_threshold_5p_short_3.2', 'target_high_threshold_1p_long_1.3', 'target_high_threshold_1p_short_1.3', 'target_high_threshold_2p_long_1.3', 'target_high_threshold_2p_short_1.3', 'target_high_threshold_3p_long_1.3', 'target_high_threshold_3p_short_1.3', 'target_high_threshold_5p_long_1.3', 'target_high_threshold_5p_short_1.3', 'target_high_threshold_1p_long_2.3', 'target_high_threshold_1p_short_2.3', 'target_high_threshold_2p_long_2.3', 'target_high_threshold_2p_short_2.3', 'target_high_threshold_3p_long_2.3', 'target_high_threshold_3p_short_2.3', 'target_high_threshold_5p_long_2.3', 'target_high_threshold_5p_short_2.3', 'target_high_threshold_1p_long_3.3', 'target_high_threshold_1p_short_3.3', 'target_high_threshold_2p_long_3.3', 'target_high_threshold_2p_short_3.3', 'target_high_threshold_3p_long_3.3', 'target_high_threshold_3p_short_3.3', 'target_high_threshold_5p_long_3.3', 'target_high_threshold_5p_short_3.3']
2025-05-03 07:44:59,164 - feature_selector - INFO - prepare_features: classification_1 のクラスバランス: {1: 68187, -1: 68134}
2025-05-03 07:44:59,165 - feature_selector - INFO - prepare_features: threshold_ternary_classification_1 のクラスバランス: {1: 68187, 0: 68134}
2025-05-03 07:44:59,166 - feature_selector - INFO - prepare_features: threshold_binary_classification_1 のクラスバランス: {1.0: 68187, 0.0: 68134}
2025-05-03 07:44:59,167 - feature_selector - INFO - prepare_features: classification_2 のクラスバランス: {1: 68296, -1: 68025}
2025-05-03 07:44:59,167 - feature_selector - INFO - prepare_features: threshold_ternary_classification_2 のクラスバランス: {1: 68296, 0: 68025}
2025-05-03 07:44:59,169 - feature_selector - INFO - prepare_features: threshold_binary_classification_2 のクラスバランス: {1.0: 68296, 0.0: 68025}
2025-05-03 07:44:59,170 - feature_selector - INFO - prepare_features: classification_3 のクラスバランス: {1: 68333, -1: 67988}
2025-05-03 07:44:59,170 - feature_selector - INFO - prepare_features: threshold_ternary_classification_3 のクラスバランス: {1: 68333, 0: 67988}
2025-05-03 07:44:59,171 - feature_selector - INFO - prepare_features: threshold_binary_classification_3 のクラスバランス: {1.0: 68333, 0.0: 67988}
2025-05-03 07:44:59,171 - feature_selector - INFO - prepare_features: 特徴量と目標変数の準備を終了します
2025-05-03 07:44:59,171 - high_threshold_training - INFO - トレーニングデータとテストデータの分割
2025-05-03 07:44:59,171 - data_splitter - INFO - train_test_split: トレーニングデータとテストデータへの分割を開始します
2025-05-03 07:44:59,211 - data_splitter - INFO - train_test_split: トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:44:59,211 - data_splitter - INFO - train_test_split: トレーニングデータとテストデータへの分割を終了します
2025-05-03 07:44:59,211 - high_threshold_training - INFO - 利用可能な目標変数の確認:
2025-05-03 07:44:59,211 - high_threshold_training - INFO - - target_high_threshold_1p_long_1
2025-05-03 07:44:59,211 - high_threshold_training - INFO - - target_high_threshold_1p_short_1
2025-05-03 07:44:59,212 - high_threshold_training - INFO - - target_high_threshold_2p_long_1
2025-05-03 07:44:59,212 - high_threshold_training - INFO - - target_high_threshold_2p_short_1
2025-05-03 07:44:59,212 - high_threshold_training - INFO - - target_high_threshold_3p_long_1
2025-05-03 07:44:59,212 - high_threshold_training - INFO - - target_high_threshold_3p_short_1
2025-05-03 07:44:59,212 - high_threshold_training - INFO - - target_high_threshold_5p_long_1
2025-05-03 07:44:59,212 - high_threshold_training - INFO - - target_high_threshold_5p_short_1
2025-05-03 07:44:59,212 - high_threshold_training - INFO - - target_high_threshold_1p_long_2
2025-05-03 07:44:59,212 - high_threshold_training - INFO - - target_high_threshold_1p_short_2
2025-05-03 07:44:59,212 - high_threshold_training - INFO - - target_high_threshold_2p_long_2
2025-05-03 07:44:59,212 - high_threshold_training - INFO - - target_high_threshold_2p_short_2
2025-05-03 07:44:59,212 - high_threshold_training - INFO - - target_high_threshold_3p_long_2
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_3p_short_2
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_5p_long_2
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_5p_short_2
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_1p_long_3
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_1p_short_3
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_2p_long_3
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_2p_short_3
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_3p_long_3
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_3p_short_3
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_5p_long_3
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_5p_short_3
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_1p_long_1.1
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_1p_short_1.1
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_2p_long_1.1
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_2p_short_1.1
2025-05-03 07:44:59,213 - high_threshold_training - INFO - - target_high_threshold_3p_long_1.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_3p_short_1.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_5p_long_1.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_5p_short_1.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_1p_long_2.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_1p_short_2.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_2p_long_2.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_2p_short_2.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_3p_long_2.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_3p_short_2.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_5p_long_2.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_5p_short_2.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_1p_long_3.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_1p_short_3.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_2p_long_3.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_2p_short_3.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_3p_long_3.1
2025-05-03 07:44:59,214 - high_threshold_training - INFO - - target_high_threshold_3p_short_3.1
2025-05-03 07:44:59,215 - high_threshold_training - INFO - - target_high_threshold_5p_long_3.1
2025-05-03 07:44:59,215 - high_threshold_training - INFO - - target_high_threshold_5p_short_3.1
2025-05-03 07:44:59,215 - high_threshold_training - INFO - - target_high_threshold_1p_long_1.2
2025-05-03 07:44:59,215 - high_threshold_training - INFO - - target_high_threshold_1p_short_1.2
2025-05-03 07:44:59,215 - high_threshold_training - INFO - - target_high_threshold_2p_long_1.2
2025-05-03 07:44:59,215 - high_threshold_training - INFO - - target_high_threshold_2p_short_1.2
2025-05-03 07:44:59,215 - high_threshold_training - INFO - - target_high_threshold_3p_long_1.2
2025-05-03 07:44:59,215 - high_threshold_training - INFO - - target_high_threshold_3p_short_1.2
2025-05-03 07:44:59,215 - high_threshold_training - INFO - - target_high_threshold_5p_long_1.2
2025-05-03 07:44:59,215 - high_threshold_training - INFO - - target_high_threshold_5p_short_1.2
2025-05-03 07:44:59,215 - high_threshold_training - INFO - - target_high_threshold_1p_long_2.2
2025-05-03 07:44:59,215 - high_threshold_training - INFO - - target_high_threshold_1p_short_2.2
2025-05-03 07:44:59,215 - high_threshold_training - INFO - - target_high_threshold_2p_long_2.2
2025-05-03 07:44:59,215 - high_threshold_training - INFO - - target_high_threshold_2p_short_2.2
2025-05-03 07:44:59,216 - high_threshold_training - INFO - - target_high_threshold_3p_long_2.2
2025-05-03 07:44:59,216 - high_threshold_training - INFO - - target_high_threshold_3p_short_2.2
2025-05-03 07:44:59,216 - high_threshold_training - INFO - - target_high_threshold_5p_long_2.2
2025-05-03 07:44:59,216 - high_threshold_training - INFO - - target_high_threshold_5p_short_2.2
2025-05-03 07:44:59,216 - high_threshold_training - INFO - - target_high_threshold_1p_long_3.2
2025-05-03 07:44:59,216 - high_threshold_training - INFO - - target_high_threshold_1p_short_3.2
2025-05-03 07:44:59,216 - high_threshold_training - INFO - - target_high_threshold_2p_long_3.2
2025-05-03 07:44:59,216 - high_threshold_training - INFO - - target_high_threshold_2p_short_3.2
2025-05-03 07:44:59,216 - high_threshold_training - INFO - - target_high_threshold_3p_long_3.2
2025-05-03 07:44:59,216 - high_threshold_training - INFO - - target_high_threshold_3p_short_3.2
2025-05-03 07:44:59,216 - high_threshold_training - INFO - - target_high_threshold_5p_long_3.2
2025-05-03 07:44:59,216 - high_threshold_training - INFO - - target_high_threshold_5p_short_3.2
2025-05-03 07:44:59,216 - high_threshold_training - INFO - - target_high_threshold_1p_long_1.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_1p_short_1.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_2p_long_1.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_2p_short_1.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_3p_long_1.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_3p_short_1.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_5p_long_1.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_5p_short_1.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_1p_long_2.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_1p_short_2.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_2p_long_2.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_2p_short_2.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_3p_long_2.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_3p_short_2.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_5p_long_2.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_5p_short_2.3
2025-05-03 07:44:59,217 - high_threshold_training - INFO - - target_high_threshold_1p_long_3.3
2025-05-03 07:44:59,218 - high_threshold_training - INFO - - target_high_threshold_1p_short_3.3
2025-05-03 07:44:59,218 - high_threshold_training - INFO - - target_high_threshold_2p_long_3.3
2025-05-03 07:44:59,218 - high_threshold_training - INFO - - target_high_threshold_2p_short_3.3
2025-05-03 07:44:59,218 - high_threshold_training - INFO - - target_high_threshold_3p_long_3.3
2025-05-03 07:44:59,218 - high_threshold_training - INFO - - target_high_threshold_3p_short_3.3
2025-05-03 07:44:59,218 - high_threshold_training - INFO - - target_high_threshold_5p_long_3.3
2025-05-03 07:44:59,218 - high_threshold_training - INFO - - target_high_threshold_5p_short_3.3
2025-05-03 07:44:59,218 - high_threshold_training - INFO - 閾値:0.1% 方向:long 期間:1のモデルを訓練
2025-05-03 07:44:59,218 - base_trainer - INFO - ==== train: 1期先の高閾値(0.1%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 07:44:59,218 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_long_1 の準備を開始
2025-05-03 07:44:59,219 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 90122, 1: 18935}
2025-05-03 07:44:59,219 - base_trainer - INFO - シグナル発生率: 17.36%
2025-05-03 07:44:59,220 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:44:59,220 - base_trainer - INFO - クラス不均衡比率: 4.7595 (シグナル:非シグナル = 1:4.8)
2025-05-03 07:44:59,220 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 4.7595
2025-05-03 07:44:59,220 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(4.759545814628994), 'verbose': -1}
2025-05-03 07:44:59,220 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:44:59,559 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 5)
2025-05-03 07:44:59,563 - base_trainer - INFO - 評価指標 - 精度: 0.7983, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:44:59,563 - base_trainer - INFO - シグナル比率: 0.2017
2025-05-03 07:44:59,563 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:44:59,563 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:44:59,563 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:44:59,563 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:44:59,564 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:44:59,564 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:44:59,564 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:44:59,564 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:44:59,564 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_1p_long_1.joblib
2025-05-03 07:44:59,565 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_1p_long_1.joblib に保存しました
2025-05-03 07:44:59,566 - high_threshold_training - INFO - モデル評価: 精度=0.7983, 適合率=nan, 再現率=nan
2025-05-03 07:44:59,566 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:44:59,566 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:44:59,566 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:44:59,566 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:44:59,566 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:44:59,566 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:44:59,566 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:44:59,566 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:44:59,566 - high_threshold_training - INFO - 閾値:0.1% 方向:long 期間:2のモデルを訓練
2025-05-03 07:44:59,566 - base_trainer - INFO - ==== train: 2期先の高閾値(0.1%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 07:44:59,566 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_long_2 の準備を開始
2025-05-03 07:44:59,567 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 82405, 1: 26652}
2025-05-03 07:44:59,568 - base_trainer - INFO - シグナル発生率: 24.44%
2025-05-03 07:44:59,568 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:44:59,569 - base_trainer - INFO - クラス不均衡比率: 3.0919 (シグナル:非シグナル = 1:3.1)
2025-05-03 07:44:59,569 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 3.0919
2025-05-03 07:44:59,569 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(3.0918880384211316), 'verbose': -1}
2025-05-03 07:44:59,569 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:44:59,940 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 8)
2025-05-03 07:44:59,955 - base_trainer - INFO - 評価指標 - 精度: 0.7195, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:44:59,956 - base_trainer - INFO - シグナル比率: 0.2805
2025-05-03 07:44:59,956 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:44:59,956 - base_trainer - INFO -   閾値 0.3: 適合率=0.3351, 発生率=0.5542, シグナル数=15111
2025-05-03 07:44:59,956 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:44:59,956 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:44:59,956 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:44:59,956 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:44:59,956 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:44:59,956 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:44:59,956 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_1p_long_2.joblib
2025-05-03 07:44:59,958 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_1p_long_2.joblib に保存しました
2025-05-03 07:44:59,959 - high_threshold_training - INFO - モデル評価: 精度=0.7195, 適合率=nan, 再現率=nan
2025-05-03 07:44:59,959 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3351, シグナル率=0.5542, シグナル数=15111
2025-05-03 07:44:59,959 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:44:59,959 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:44:59,959 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:44:59,959 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:44:59,959 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:44:59,959 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:44:59,959 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:44:59,959 - high_threshold_training - INFO - 閾値:0.1% 方向:long 期間:3のモデルを訓練
2025-05-03 07:44:59,960 - base_trainer - INFO - ==== train: 3期先の高閾値(0.1%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 07:44:59,960 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_long_3 の準備を開始
2025-05-03 07:44:59,961 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 78458, 1: 30599}
2025-05-03 07:44:59,961 - base_trainer - INFO - シグナル発生率: 28.06%
2025-05-03 07:44:59,962 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:44:59,963 - base_trainer - INFO - クラス不均衡比率: 2.5641 (シグナル:非シグナル = 1:2.6)
2025-05-03 07:44:59,963 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.5641
2025-05-03 07:44:59,963 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.564070721265401), 'verbose': -1}
2025-05-03 07:44:59,963 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:00,341 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 7)
2025-05-03 07:45:00,356 - base_trainer - INFO - 評価指標 - 精度: 0.6893, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:00,356 - base_trainer - INFO - シグナル比率: 0.3107
2025-05-03 07:45:00,356 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:00,356 - base_trainer - INFO -   閾値 0.3: 適合率=0.3199, 発生率=0.9547, シグナル数=26030
2025-05-03 07:45:00,356 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:00,356 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:00,356 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:00,356 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:00,356 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:00,356 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:00,357 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_1p_long_3.joblib
2025-05-03 07:45:00,358 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_1p_long_3.joblib に保存しました
2025-05-03 07:45:00,358 - high_threshold_training - INFO - モデル評価: 精度=0.6893, 適合率=nan, 再現率=nan
2025-05-03 07:45:00,358 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3199, シグナル率=0.9547, シグナル数=26030
2025-05-03 07:45:00,358 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:00,358 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:00,358 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:00,358 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:00,359 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:00,359 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:00,359 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:00,359 - high_threshold_training - INFO - 閾値:0.1% 方向:short 期間:1のモデルを訓練
2025-05-03 07:45:00,359 - base_trainer - INFO - ==== train: 1期先の高閾値(0.1%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 07:45:00,359 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_short_1 の準備を開始
2025-05-03 07:45:00,360 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 90736, 1: 18321}
2025-05-03 07:45:00,360 - base_trainer - INFO - シグナル発生率: 16.80%
2025-05-03 07:45:00,360 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:00,361 - base_trainer - INFO - クラス不均衡比率: 4.9526 (シグナル:非シグナル = 1:5.0)
2025-05-03 07:45:00,361 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 4.9526
2025-05-03 07:45:00,362 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(4.952568091261394), 'verbose': -1}
2025-05-03 07:45:00,362 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:00,719 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 6)
2025-05-03 07:45:00,723 - base_trainer - INFO - 評価指標 - 精度: 0.8016, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:00,723 - base_trainer - INFO - シグナル比率: 0.1984
2025-05-03 07:45:00,723 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:00,723 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:00,723 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:00,723 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:00,723 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:00,723 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:00,723 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:00,723 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:00,724 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_1p_short_1.joblib
2025-05-03 07:45:00,725 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_1p_short_1.joblib に保存しました
2025-05-03 07:45:00,725 - high_threshold_training - INFO - モデル評価: 精度=0.8016, 適合率=nan, 再現率=nan
2025-05-03 07:45:00,726 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:00,726 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:00,726 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:00,726 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:00,726 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:00,726 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:00,726 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:00,726 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:00,726 - high_threshold_training - INFO - 閾値:0.1% 方向:short 期間:2のモデルを訓練
2025-05-03 07:45:00,726 - base_trainer - INFO - ==== train: 2期先の高閾値(0.1%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 07:45:00,726 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_short_2 の準備を開始
2025-05-03 07:45:00,727 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 83089, 1: 25968}
2025-05-03 07:45:00,728 - base_trainer - INFO - シグナル発生率: 23.81%
2025-05-03 07:45:00,729 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:00,730 - base_trainer - INFO - クラス不均衡比率: 3.1997 (シグナル:非シグナル = 1:3.2)
2025-05-03 07:45:00,730 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 3.1997
2025-05-03 07:45:00,730 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(3.1996688231669745), 'verbose': -1}
2025-05-03 07:45:00,730 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:01,092 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 7)
2025-05-03 07:45:01,107 - base_trainer - INFO - 評価指標 - 精度: 0.7271, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:01,107 - base_trainer - INFO - シグナル比率: 0.2729
2025-05-03 07:45:01,107 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:01,107 - base_trainer - INFO -   閾値 0.3: 適合率=0.3531, 発生率=0.3846, シグナル数=10485
2025-05-03 07:45:01,107 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,107 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,107 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,108 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,108 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,108 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,108 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_1p_short_2.joblib
2025-05-03 07:45:01,109 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_1p_short_2.joblib に保存しました
2025-05-03 07:45:01,109 - high_threshold_training - INFO - モデル評価: 精度=0.7271, 適合率=nan, 再現率=nan
2025-05-03 07:45:01,110 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3531, シグナル率=0.3846, シグナル数=10485
2025-05-03 07:45:01,110 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,110 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,110 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,110 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,110 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,110 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,110 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:01,110 - high_threshold_training - INFO - 閾値:0.1% 方向:short 期間:3のモデルを訓練
2025-05-03 07:45:01,110 - base_trainer - INFO - ==== train: 3期先の高閾値(0.1%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 07:45:01,110 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_1p_short_3 の準備を開始
2025-05-03 07:45:01,111 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 79160, 1: 29897}
2025-05-03 07:45:01,111 - base_trainer - INFO - シグナル発生率: 27.41%
2025-05-03 07:45:01,112 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:01,113 - base_trainer - INFO - クラス不均衡比率: 2.6478 (シグナル:非シグナル = 1:2.6)
2025-05-03 07:45:01,113 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 2.6478
2025-05-03 07:45:01,113 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(2.6477573000635517), 'verbose': -1}
2025-05-03 07:45:01,113 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:01,461 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 8)
2025-05-03 07:45:01,476 - base_trainer - INFO - 評価指標 - 精度: 0.6960, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:01,476 - base_trainer - INFO - シグナル比率: 0.3040
2025-05-03 07:45:01,476 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:01,477 - base_trainer - INFO -   閾値 0.3: 適合率=0.3187, 発生率=0.8936, シグナル数=24364
2025-05-03 07:45:01,477 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,477 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,477 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,477 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,477 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,477 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,477 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_1p_short_3.joblib
2025-05-03 07:45:01,479 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_1p_short_3.joblib に保存しました
2025-05-03 07:45:01,479 - high_threshold_training - INFO - モデル評価: 精度=0.6960, 適合率=nan, 再現率=nan
2025-05-03 07:45:01,479 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=0.3187, シグナル率=0.8936, シグナル数=24364
2025-05-03 07:45:01,479 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,479 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,479 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,479 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,479 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,479 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,479 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:01,479 - high_threshold_training - INFO - 閾値:0.2% 方向:long 期間:1のモデルを訓練
2025-05-03 07:45:01,479 - base_trainer - INFO - ==== train: 1期先の高閾値(0.2%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 07:45:01,479 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_long_1 の準備を開始
2025-05-03 07:45:01,480 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 102652, 1: 6405}
2025-05-03 07:45:01,481 - base_trainer - INFO - シグナル発生率: 5.87%
2025-05-03 07:45:01,481 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:01,482 - base_trainer - INFO - クラス不均衡比率: 16.0269 (シグナル:非シグナル = 1:16.0)
2025-05-03 07:45:01,482 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 16.0269
2025-05-03 07:45:01,482 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(16.026854020296643), 'verbose': -1}
2025-05-03 07:45:01,482 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:01,825 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 3)
2025-05-03 07:45:01,829 - base_trainer - INFO - 評価指標 - 精度: 0.9290, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:01,829 - base_trainer - INFO - シグナル比率: 0.0710
2025-05-03 07:45:01,829 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:01,829 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,829 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,830 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,830 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,830 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,830 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,830 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:01,830 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_2p_long_1.joblib
2025-05-03 07:45:01,831 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_2p_long_1.joblib に保存しました
2025-05-03 07:45:01,831 - high_threshold_training - INFO - モデル評価: 精度=0.9290, 適合率=nan, 再現率=nan
2025-05-03 07:45:01,832 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,832 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,832 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,832 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,832 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,832 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,832 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:01,832 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:01,832 - high_threshold_training - INFO - 閾値:0.2% 方向:long 期間:2のモデルを訓練
2025-05-03 07:45:01,832 - base_trainer - INFO - ==== train: 2期先の高閾値(0.2%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 07:45:01,832 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_long_2 の準備を開始
2025-05-03 07:45:01,833 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 97290, 1: 11767}
2025-05-03 07:45:01,834 - base_trainer - INFO - シグナル発生率: 10.79%
2025-05-03 07:45:01,834 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:01,835 - base_trainer - INFO - クラス不均衡比率: 8.2680 (シグナル:非シグナル = 1:8.3)
2025-05-03 07:45:01,835 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 8.2680
2025-05-03 07:45:01,835 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(8.268037732642135), 'verbose': -1}
2025-05-03 07:45:01,835 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:02,180 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 3)
2025-05-03 07:45:02,183 - base_trainer - INFO - 評価指標 - 精度: 0.8715, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:02,183 - base_trainer - INFO - シグナル比率: 0.1285
2025-05-03 07:45:02,183 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:02,183 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,183 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,183 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,183 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,183 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,183 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,183 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,184 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_2p_long_2.joblib
2025-05-03 07:45:02,185 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_2p_long_2.joblib に保存しました
2025-05-03 07:45:02,185 - high_threshold_training - INFO - モデル評価: 精度=0.8715, 適合率=nan, 再現率=nan
2025-05-03 07:45:02,185 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,185 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,185 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,185 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,185 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,186 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,186 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,186 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:02,186 - high_threshold_training - INFO - 閾値:0.2% 方向:long 期間:3のモデルを訓練
2025-05-03 07:45:02,186 - base_trainer - INFO - ==== train: 3期先の高閾値(0.2%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 07:45:02,186 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_long_3 の準備を開始
2025-05-03 07:45:02,187 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 93889, 1: 15168}
2025-05-03 07:45:02,187 - base_trainer - INFO - シグナル発生率: 13.91%
2025-05-03 07:45:02,188 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:02,188 - base_trainer - INFO - クラス不均衡比率: 6.1899 (シグナル:非シグナル = 1:6.2)
2025-05-03 07:45:02,188 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 6.1899
2025-05-03 07:45:02,189 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(6.1899393459915615), 'verbose': -1}
2025-05-03 07:45:02,189 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:02,529 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 4)
2025-05-03 07:45:02,533 - base_trainer - INFO - 評価指標 - 精度: 0.8351, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:02,533 - base_trainer - INFO - シグナル比率: 0.1649
2025-05-03 07:45:02,533 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:02,533 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,533 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,533 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,534 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,534 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,534 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,534 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,534 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_2p_long_3.joblib
2025-05-03 07:45:02,535 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_2p_long_3.joblib に保存しました
2025-05-03 07:45:02,535 - high_threshold_training - INFO - モデル評価: 精度=0.8351, 適合率=nan, 再現率=nan
2025-05-03 07:45:02,535 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,535 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,535 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,536 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,536 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,536 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,536 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,536 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:02,536 - high_threshold_training - INFO - 閾値:0.2% 方向:short 期間:1のモデルを訓練
2025-05-03 07:45:02,536 - base_trainer - INFO - ==== train: 1期先の高閾値(0.2%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 07:45:02,536 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_short_1 の準備を開始
2025-05-03 07:45:02,537 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 102945, 1: 6112}
2025-05-03 07:45:02,537 - base_trainer - INFO - シグナル発生率: 5.60%
2025-05-03 07:45:02,538 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:02,538 - base_trainer - INFO - クラス不均衡比率: 16.8431 (シグナル:非シグナル = 1:16.8)
2025-05-03 07:45:02,539 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 16.8431
2025-05-03 07:45:02,539 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(16.84309554973822), 'verbose': -1}
2025-05-03 07:45:02,539 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:02,862 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 3)
2025-05-03 07:45:02,867 - base_trainer - INFO - 評価指標 - 精度: 0.9296, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:02,867 - base_trainer - INFO - シグナル比率: 0.0704
2025-05-03 07:45:02,867 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:02,867 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,867 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,867 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,867 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,867 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,867 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,867 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:02,868 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_2p_short_1.joblib
2025-05-03 07:45:02,869 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_2p_short_1.joblib に保存しました
2025-05-03 07:45:02,869 - high_threshold_training - INFO - モデル評価: 精度=0.9296, 適合率=nan, 再現率=nan
2025-05-03 07:45:02,869 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,869 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,869 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,869 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,869 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,869 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,869 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:02,870 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:02,870 - high_threshold_training - INFO - 閾値:0.2% 方向:short 期間:2のモデルを訓練
2025-05-03 07:45:02,870 - base_trainer - INFO - ==== train: 2期先の高閾値(0.2%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 07:45:02,870 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_short_2 の準備を開始
2025-05-03 07:45:02,871 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 97941, 1: 11116}
2025-05-03 07:45:02,871 - base_trainer - INFO - シグナル発生率: 10.19%
2025-05-03 07:45:02,871 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:02,872 - base_trainer - INFO - クラス不均衡比率: 8.8108 (シグナル:非シグナル = 1:8.8)
2025-05-03 07:45:02,872 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 8.8108
2025-05-03 07:45:02,873 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(8.810813242173444), 'verbose': -1}
2025-05-03 07:45:02,873 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:03,207 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 4)
2025-05-03 07:45:03,210 - base_trainer - INFO - 評価指標 - 精度: 0.8733, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:03,210 - base_trainer - INFO - シグナル比率: 0.1267
2025-05-03 07:45:03,210 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:03,210 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,210 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,210 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,210 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,210 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,210 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,210 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,211 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_2p_short_2.joblib
2025-05-03 07:45:03,212 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_2p_short_2.joblib に保存しました
2025-05-03 07:45:03,212 - high_threshold_training - INFO - モデル評価: 精度=0.8733, 適合率=nan, 再現率=nan
2025-05-03 07:45:03,212 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,212 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,212 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,212 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,212 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,212 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,212 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,212 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:03,213 - high_threshold_training - INFO - 閾値:0.2% 方向:short 期間:3のモデルを訓練
2025-05-03 07:45:03,213 - base_trainer - INFO - ==== train: 3期先の高閾値(0.2%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 07:45:03,213 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_2p_short_3 の準備を開始
2025-05-03 07:45:03,214 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 94535, 1: 14522}
2025-05-03 07:45:03,214 - base_trainer - INFO - シグナル発生率: 13.32%
2025-05-03 07:45:03,214 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:03,215 - base_trainer - INFO - クラス不均衡比率: 6.5098 (シグナル:非シグナル = 1:6.5)
2025-05-03 07:45:03,215 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 6.5098
2025-05-03 07:45:03,215 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(6.509778267456273), 'verbose': -1}
2025-05-03 07:45:03,215 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:03,542 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 5)
2025-05-03 07:45:03,545 - base_trainer - INFO - 評価指標 - 精度: 0.8385, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:03,545 - base_trainer - INFO - シグナル比率: 0.1615
2025-05-03 07:45:03,545 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:03,545 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,545 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,545 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,546 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,546 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,546 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,546 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,546 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_2p_short_3.joblib
2025-05-03 07:45:03,547 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_2p_short_3.joblib に保存しました
2025-05-03 07:45:03,547 - high_threshold_training - INFO - モデル評価: 精度=0.8385, 適合率=nan, 再現率=nan
2025-05-03 07:45:03,548 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,548 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,548 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,548 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,548 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,548 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,548 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,548 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:03,548 - high_threshold_training - INFO - 閾値:0.3% 方向:long 期間:1のモデルを訓練
2025-05-03 07:45:03,548 - base_trainer - INFO - ==== train: 1期先の高閾値(0.3%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 07:45:03,548 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_long_1 の準備を開始
2025-05-03 07:45:03,549 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 106263, 1: 2794}
2025-05-03 07:45:03,550 - base_trainer - INFO - シグナル発生率: 2.56%
2025-05-03 07:45:03,550 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:03,551 - base_trainer - INFO - クラス不均衡比率: 38.0326 (シグナル:非シグナル = 1:38.0)
2025-05-03 07:45:03,551 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 38.0326
2025-05-03 07:45:03,551 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(38.03256979241231), 'verbose': -1}
2025-05-03 07:45:03,551 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:03,863 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 2)
2025-05-03 07:45:03,865 - base_trainer - INFO - 評価指標 - 精度: 0.9682, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:03,865 - base_trainer - INFO - シグナル比率: 0.0318
2025-05-03 07:45:03,865 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:03,865 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,865 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,866 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,866 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,866 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,866 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,866 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:03,866 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_3p_long_1.joblib
2025-05-03 07:45:03,867 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_3p_long_1.joblib に保存しました
2025-05-03 07:45:03,867 - high_threshold_training - INFO - モデル評価: 精度=0.9682, 適合率=nan, 再現率=nan
2025-05-03 07:45:03,868 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,868 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,868 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,868 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,868 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,868 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,868 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:03,868 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:03,868 - high_threshold_training - INFO - 閾値:0.3% 方向:long 期間:2のモデルを訓練
2025-05-03 07:45:03,868 - base_trainer - INFO - ==== train: 2期先の高閾値(0.3%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 07:45:03,868 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_long_2 の準備を開始
2025-05-03 07:45:03,869 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 103269, 1: 5788}
2025-05-03 07:45:03,870 - base_trainer - INFO - シグナル発生率: 5.31%
2025-05-03 07:45:03,870 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:03,871 - base_trainer - INFO - クラス不均衡比率: 17.8419 (シグナル:非シグナル = 1:17.8)
2025-05-03 07:45:03,871 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 17.8419
2025-05-03 07:45:03,871 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(17.84191430545957), 'verbose': -1}
2025-05-03 07:45:03,871 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:04,189 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 2)
2025-05-03 07:45:04,191 - base_trainer - INFO - 評価指標 - 精度: 0.9364, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:04,191 - base_trainer - INFO - シグナル比率: 0.0636
2025-05-03 07:45:04,191 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:04,191 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,192 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,192 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,192 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,192 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,192 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,192 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,192 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_3p_long_2.joblib
2025-05-03 07:45:04,193 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_3p_long_2.joblib に保存しました
2025-05-03 07:45:04,194 - high_threshold_training - INFO - モデル評価: 精度=0.9364, 適合率=nan, 再現率=nan
2025-05-03 07:45:04,194 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,194 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,194 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,194 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,194 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,194 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,194 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,194 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:04,194 - high_threshold_training - INFO - 閾値:0.3% 方向:long 期間:3のモデルを訓練
2025-05-03 07:45:04,194 - base_trainer - INFO - ==== train: 3期先の高閾値(0.3%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 07:45:04,194 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_long_3 の準備を開始
2025-05-03 07:45:04,195 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 100700, 1: 8357}
2025-05-03 07:45:04,196 - base_trainer - INFO - シグナル発生率: 7.66%
2025-05-03 07:45:04,196 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:04,197 - base_trainer - INFO - クラス不均衡比率: 12.0498 (シグナル:非シグナル = 1:12.0)
2025-05-03 07:45:04,197 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 12.0498
2025-05-03 07:45:04,197 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(12.049778628694508), 'verbose': -1}
2025-05-03 07:45:04,197 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:04,520 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 3)
2025-05-03 07:45:04,522 - base_trainer - INFO - 評価指標 - 精度: 0.9092, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:04,522 - base_trainer - INFO - シグナル比率: 0.0908
2025-05-03 07:45:04,522 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:04,523 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,523 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,523 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,523 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,523 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,523 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,523 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,523 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_3p_long_3.joblib
2025-05-03 07:45:04,525 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_3p_long_3.joblib に保存しました
2025-05-03 07:45:04,525 - high_threshold_training - INFO - モデル評価: 精度=0.9092, 適合率=nan, 再現率=nan
2025-05-03 07:45:04,525 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,525 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,525 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,525 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,525 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,525 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,525 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,525 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:04,525 - high_threshold_training - INFO - 閾値:0.3% 方向:short 期間:1のモデルを訓練
2025-05-03 07:45:04,525 - base_trainer - INFO - ==== train: 1期先の高閾値(0.3%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 07:45:04,525 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_short_1 の準備を開始
2025-05-03 07:45:04,526 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 106378, 1: 2679}
2025-05-03 07:45:04,527 - base_trainer - INFO - シグナル発生率: 2.46%
2025-05-03 07:45:04,527 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:04,528 - base_trainer - INFO - クラス不均衡比率: 39.7081 (シグナル:非シグナル = 1:39.7)
2025-05-03 07:45:04,528 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 39.7081
2025-05-03 07:45:04,528 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(39.70810003732736), 'verbose': -1}
2025-05-03 07:45:04,528 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:04,839 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 1)
2025-05-03 07:45:04,842 - base_trainer - INFO - 評価指標 - 精度: 0.9682, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:04,842 - base_trainer - INFO - シグナル比率: 0.0318
2025-05-03 07:45:04,842 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:04,842 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,842 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,842 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,842 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,842 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,842 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,842 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:04,842 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_3p_short_1.joblib
2025-05-03 07:45:04,844 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_3p_short_1.joblib に保存しました
2025-05-03 07:45:04,844 - high_threshold_training - INFO - モデル評価: 精度=0.9682, 適合率=nan, 再現率=nan
2025-05-03 07:45:04,844 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,844 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,844 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,844 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,844 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,844 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,844 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:04,844 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:04,844 - high_threshold_training - INFO - 閾値:0.3% 方向:short 期間:2のモデルを訓練
2025-05-03 07:45:04,844 - base_trainer - INFO - ==== train: 2期先の高閾値(0.3%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 07:45:04,845 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_short_2 の準備を開始
2025-05-03 07:45:04,846 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 103630, 1: 5427}
2025-05-03 07:45:04,846 - base_trainer - INFO - シグナル発生率: 4.98%
2025-05-03 07:45:04,846 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:04,847 - base_trainer - INFO - クラス不均衡比率: 19.0953 (シグナル:非シグナル = 1:19.1)
2025-05-03 07:45:04,847 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 19.0953
2025-05-03 07:45:04,847 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(19.095264418647503), 'verbose': -1}
2025-05-03 07:45:04,847 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:05,167 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 3)
2025-05-03 07:45:05,170 - base_trainer - INFO - 評価指標 - 精度: 0.9365, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:05,170 - base_trainer - INFO - シグナル比率: 0.0635
2025-05-03 07:45:05,170 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:05,170 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,170 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,170 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,170 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,170 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,170 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,170 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,171 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_3p_short_2.joblib
2025-05-03 07:45:05,172 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_3p_short_2.joblib に保存しました
2025-05-03 07:45:05,172 - high_threshold_training - INFO - モデル評価: 精度=0.9365, 適合率=nan, 再現率=nan
2025-05-03 07:45:05,172 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,172 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,172 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,172 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,172 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,172 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,172 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,173 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:05,173 - high_threshold_training - INFO - 閾値:0.3% 方向:short 期間:3のモデルを訓練
2025-05-03 07:45:05,173 - base_trainer - INFO - ==== train: 3期先の高閾値(0.3%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 07:45:05,173 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_3p_short_3 の準備を開始
2025-05-03 07:45:05,174 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 101323, 1: 7734}
2025-05-03 07:45:05,174 - base_trainer - INFO - シグナル発生率: 7.09%
2025-05-03 07:45:05,174 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:05,175 - base_trainer - INFO - クラス不均衡比率: 13.1010 (シグナル:非シグナル = 1:13.1)
2025-05-03 07:45:05,175 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 13.1010
2025-05-03 07:45:05,175 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(13.100982673907422), 'verbose': -1}
2025-05-03 07:45:05,176 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:05,595 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 3)
2025-05-03 07:45:05,598 - base_trainer - INFO - 評価指標 - 精度: 0.9092, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:05,598 - base_trainer - INFO - シグナル比率: 0.0908
2025-05-03 07:45:05,598 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:05,599 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,599 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,599 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,599 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,599 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,599 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,599 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,599 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_3p_short_3.joblib
2025-05-03 07:45:05,602 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_3p_short_3.joblib に保存しました
2025-05-03 07:45:05,602 - high_threshold_training - INFO - モデル評価: 精度=0.9092, 適合率=nan, 再現率=nan
2025-05-03 07:45:05,602 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,602 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,602 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,602 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,602 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,602 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,602 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,602 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:05,602 - high_threshold_training - INFO - 閾値:0.5% 方向:long 期間:1のモデルを訓練
2025-05-03 07:45:05,602 - base_trainer - INFO - ==== train: 1期先の高閾値(0.5%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 07:45:05,602 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_long_1 の準備を開始
2025-05-03 07:45:05,603 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 108138, 1: 919}
2025-05-03 07:45:05,604 - base_trainer - INFO - シグナル発生率: 0.84%
2025-05-03 07:45:05,604 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:05,605 - base_trainer - INFO - クラス不均衡比率: 117.6692 (シグナル:非シグナル = 1:117.7)
2025-05-03 07:45:05,605 - base_trainer - INFO - クラス重み比率を 100.0 に制限します
2025-05-03 07:45:05,605 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 100.0000
2025-05-03 07:45:05,606 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': 100, 'verbose': -1}
2025-05-03 07:45:05,606 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:05,918 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 1)
2025-05-03 07:45:05,921 - base_trainer - INFO - 評価指標 - 精度: 0.9897, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:05,921 - base_trainer - INFO - シグナル比率: 0.0103
2025-05-03 07:45:05,921 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:05,921 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,921 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,921 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,921 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,921 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,921 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,921 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:05,922 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_5p_long_1.joblib
2025-05-03 07:45:05,923 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_5p_long_1.joblib に保存しました
2025-05-03 07:45:05,923 - high_threshold_training - INFO - モデル評価: 精度=0.9897, 適合率=nan, 再現率=nan
2025-05-03 07:45:05,923 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,923 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,923 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,923 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,923 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,923 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,923 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:05,923 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:05,924 - high_threshold_training - INFO - 閾値:0.5% 方向:long 期間:2のモデルを訓練
2025-05-03 07:45:05,924 - base_trainer - INFO - ==== train: 2期先の高閾値(0.5%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 07:45:05,924 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_long_2 の準備を開始
2025-05-03 07:45:05,925 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 106929, 1: 2128}
2025-05-03 07:45:05,925 - base_trainer - INFO - シグナル発生率: 1.95%
2025-05-03 07:45:05,925 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:05,926 - base_trainer - INFO - クラス不均衡比率: 50.2486 (シグナル:非シグナル = 1:50.2)
2025-05-03 07:45:05,926 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 50.2486
2025-05-03 07:45:05,926 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(50.24859022556391), 'verbose': -1}
2025-05-03 07:45:05,926 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:06,243 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 1)
2025-05-03 07:45:06,245 - base_trainer - INFO - 評価指標 - 精度: 0.9763, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:06,245 - base_trainer - INFO - シグナル比率: 0.0237
2025-05-03 07:45:06,245 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:06,246 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,246 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,246 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,246 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,246 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,246 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,246 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,246 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_5p_long_2.joblib
2025-05-03 07:45:06,248 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_5p_long_2.joblib に保存しました
2025-05-03 07:45:06,248 - high_threshold_training - INFO - モデル評価: 精度=0.9763, 適合率=nan, 再現率=nan
2025-05-03 07:45:06,248 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,248 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,248 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,248 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,248 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,248 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,248 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,248 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:06,248 - high_threshold_training - INFO - 閾値:0.5% 方向:long 期間:3のモデルを訓練
2025-05-03 07:45:06,248 - base_trainer - INFO - ==== train: 3期先の高閾値(0.5%)シグナルモデル（long）のトレーニングを開始 ====
2025-05-03 07:45:06,249 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_long_3 の準備を開始
2025-05-03 07:45:06,250 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 105758, 1: 3299}
2025-05-03 07:45:06,250 - base_trainer - INFO - シグナル発生率: 3.03%
2025-05-03 07:45:06,250 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:06,251 - base_trainer - INFO - クラス不均衡比率: 32.0576 (シグナル:非シグナル = 1:32.1)
2025-05-03 07:45:06,251 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 32.0576
2025-05-03 07:45:06,251 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(32.05759321006366), 'verbose': -1}
2025-05-03 07:45:06,251 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:06,585 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 1)
2025-05-03 07:45:06,587 - base_trainer - INFO - 評価指標 - 精度: 0.9641, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:06,587 - base_trainer - INFO - シグナル比率: 0.0359
2025-05-03 07:45:06,587 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:06,587 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,587 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,588 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,588 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,588 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,588 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,588 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,588 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_5p_long_3.joblib
2025-05-03 07:45:06,589 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_5p_long_3.joblib に保存しました
2025-05-03 07:45:06,590 - high_threshold_training - INFO - モデル評価: 精度=0.9641, 適合率=nan, 再現率=nan
2025-05-03 07:45:06,590 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,590 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,590 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,590 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,590 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,590 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,590 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,590 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:06,590 - high_threshold_training - INFO - 閾値:0.5% 方向:short 期間:1のモデルを訓練
2025-05-03 07:45:06,591 - base_trainer - INFO - ==== train: 1期先の高閾値(0.5%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 07:45:06,591 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_short_1 の準備を開始
2025-05-03 07:45:06,592 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 108197, 1: 860}
2025-05-03 07:45:06,592 - base_trainer - INFO - シグナル発生率: 0.79%
2025-05-03 07:45:06,592 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:06,593 - base_trainer - INFO - クラス不均衡比率: 125.8105 (シグナル:非シグナル = 1:125.8)
2025-05-03 07:45:06,593 - base_trainer - INFO - クラス重み比率を 100.0 に制限します
2025-05-03 07:45:06,594 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 100.0000
2025-05-03 07:45:06,594 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': 100, 'verbose': -1}
2025-05-03 07:45:06,594 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:06,930 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 1)
2025-05-03 07:45:06,935 - base_trainer - INFO - 評価指標 - 精度: 0.9901, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:06,935 - base_trainer - INFO - シグナル比率: 0.0099
2025-05-03 07:45:06,935 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:06,935 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,935 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,935 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,935 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,935 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,935 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,935 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:06,936 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_5p_short_1.joblib
2025-05-03 07:45:06,937 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_5p_short_1.joblib に保存しました
2025-05-03 07:45:06,937 - high_threshold_training - INFO - モデル評価: 精度=0.9901, 適合率=nan, 再現率=nan
2025-05-03 07:45:06,937 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,937 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,937 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,937 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,937 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,937 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,937 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:06,938 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:06,938 - high_threshold_training - INFO - 閾値:0.5% 方向:short 期間:2のモデルを訓練
2025-05-03 07:45:06,938 - base_trainer - INFO - ==== train: 2期先の高閾値(0.5%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 07:45:06,938 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_short_2 の準備を開始
2025-05-03 07:45:06,939 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 107055, 1: 2002}
2025-05-03 07:45:06,939 - base_trainer - INFO - シグナル発生率: 1.84%
2025-05-03 07:45:06,939 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:06,940 - base_trainer - INFO - クラス不均衡比率: 53.4740 (シグナル:非シグナル = 1:53.5)
2025-05-03 07:45:06,940 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 53.4740
2025-05-03 07:45:06,940 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(53.47402597402598), 'verbose': -1}
2025-05-03 07:45:06,940 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:07,254 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 1)
2025-05-03 07:45:07,256 - base_trainer - INFO - 評価指標 - 精度: 0.9769, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:07,257 - base_trainer - INFO - シグナル比率: 0.0231
2025-05-03 07:45:07,257 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:07,257 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:07,257 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:07,257 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:07,257 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:07,257 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:07,257 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:07,257 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:07,258 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_5p_short_2.joblib
2025-05-03 07:45:07,259 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_5p_short_2.joblib に保存しました
2025-05-03 07:45:07,259 - high_threshold_training - INFO - モデル評価: 精度=0.9769, 適合率=nan, 再現率=nan
2025-05-03 07:45:07,259 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:07,259 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:07,259 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:07,259 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:07,259 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:07,259 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:07,259 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:07,259 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:07,260 - high_threshold_training - INFO - 閾値:0.5% 方向:short 期間:3のモデルを訓練
2025-05-03 07:45:07,260 - base_trainer - INFO - ==== train: 3期先の高閾値(0.5%)シグナルモデル（short）のトレーニングを開始 ====
2025-05-03 07:45:07,260 - base_trainer - INFO - _prepare_data: 目標変数 target_high_threshold_5p_short_3 の準備を開始
2025-05-03 07:45:07,261 - base_trainer - INFO - トレーニングデータのクラスバランス: {0: 106006, 1: 3051}
2025-05-03 07:45:07,261 - base_trainer - INFO - シグナル発生率: 2.80%
2025-05-03 07:45:07,261 - base_trainer - INFO - _prepare_data: 特徴量と目標変数の準備完了。トレーニングデータ: 109057行, テストデータ: 27264行
2025-05-03 07:45:07,262 - base_trainer - INFO - クラス不均衡比率: 34.7447 (シグナル:非シグナル = 1:34.7)
2025-05-03 07:45:07,262 - base_trainer - INFO - シグナルクラスの重みを増加: scale_pos_weight = 34.7447
2025-05-03 07:45:07,262 - base_trainer - INFO - モデルパラメータ: {'objective': 'binary', 'metric': 'binary_logloss', 'boosting_type': 'gbdt', 'num_leaves': 31, 'learning_rate': 0.03, 'feature_fraction': 0.8, 'bagging_fraction': 0.7, 'bagging_freq': 3, 'min_child_samples': 20, 'max_depth': 6, 'reg_alpha': 0.01, 'reg_lambda': 0.05, 'min_split_gain': 0.01, 'subsample': 0.9, 'scale_pos_weight': np.float64(34.74467387741724), 'verbose': -1}
2025-05-03 07:45:07,262 - base_trainer - INFO - モデルトレーニングを開始 (最大ラウンド: 1500)
2025-05-03 07:45:07,573 - base_trainer - INFO - モデルトレーニング完了 (実際のラウンド: 1)
2025-05-03 07:45:07,575 - base_trainer - INFO - 評価指標 - 精度: 0.9641, 適合率: nan, 再現率: nan, F1: nan
2025-05-03 07:45:07,576 - base_trainer - INFO - シグナル比率: 0.0359
2025-05-03 07:45:07,576 - base_trainer - INFO - 確信度閾値ごとの評価結果:
2025-05-03 07:45:07,576 - base_trainer - INFO -   閾値 0.3: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:07,576 - base_trainer - INFO -   閾値 0.4: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:07,576 - base_trainer - INFO -   閾値 0.5: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:07,576 - base_trainer - INFO -   閾値 0.6: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:07,576 - base_trainer - INFO -   閾値 0.7: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:07,576 - base_trainer - INFO -   閾値 0.8: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:07,576 - base_trainer - INFO -   閾値 0.9: 適合率=nan, 発生率=0.0000, シグナル数=0
2025-05-03 07:45:07,577 - base_trainer - INFO - モデルを保存します: models\high_threshold\target_high_threshold_5p_short_3.joblib
2025-05-03 07:45:07,578 - base_trainer - INFO - モデルを models\high_threshold\target_high_threshold_5p_short_3.joblib に保存しました
2025-05-03 07:45:07,578 - high_threshold_training - INFO - モデル評価: 精度=0.9641, 適合率=nan, 再現率=nan
2025-05-03 07:45:07,578 - high_threshold_training - INFO -   確信度閾値=0.3: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:07,578 - high_threshold_training - INFO -   確信度閾値=0.4: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:07,578 - high_threshold_training - INFO -   確信度閾値=0.5: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:07,578 - high_threshold_training - INFO -   確信度閾値=0.6: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:07,578 - high_threshold_training - INFO -   確信度閾値=0.7: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:07,578 - high_threshold_training - INFO -   確信度閾値=0.8: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:07,578 - high_threshold_training - INFO -   確信度閾値=0.9: 適合率=nan, シグナル率=0.0000, シグナル数=0
2025-05-03 07:45:07,578 - high_threshold_training - INFO - 特徴量重要度情報が利用できません
2025-05-03 07:45:07,578 - high_threshold_training - INFO - ===== トレーニング結果サマリー =====
2025-05-03 07:45:07,579 - high_threshold_training - INFO - 閾値: threshold_1p
2025-05-03 07:45:07,579 - high_threshold_training - INFO -   方向: long
2025-05-03 07:45:07,579 - high_threshold_training - INFO -     期間: period_1
2025-05-03 07:45:07,579 - high_threshold_training - INFO -       精度: 0.7983
2025-05-03 07:45:07,579 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,579 - high_threshold_training - INFO -       シグナル率: 0.2017
2025-05-03 07:45:07,579 - high_threshold_training - INFO -     期間: period_2
2025-05-03 07:45:07,579 - high_threshold_training - INFO -       精度: 0.7195
2025-05-03 07:45:07,579 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,579 - high_threshold_training - INFO -       シグナル率: 0.2805
2025-05-03 07:45:07,579 - high_threshold_training - INFO -     期間: period_3
2025-05-03 07:45:07,579 - high_threshold_training - INFO -       精度: 0.6893
2025-05-03 07:45:07,579 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,580 - high_threshold_training - INFO -       シグナル率: 0.3107
2025-05-03 07:45:07,580 - high_threshold_training - INFO -   方向: short
2025-05-03 07:45:07,580 - high_threshold_training - INFO -     期間: period_1
2025-05-03 07:45:07,580 - high_threshold_training - INFO -       精度: 0.8016
2025-05-03 07:45:07,580 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,580 - high_threshold_training - INFO -       シグナル率: 0.1984
2025-05-03 07:45:07,580 - high_threshold_training - INFO -     期間: period_2
2025-05-03 07:45:07,580 - high_threshold_training - INFO -       精度: 0.7271
2025-05-03 07:45:07,580 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,580 - high_threshold_training - INFO -       シグナル率: 0.2729
2025-05-03 07:45:07,580 - high_threshold_training - INFO -     期間: period_3
2025-05-03 07:45:07,580 - high_threshold_training - INFO -       精度: 0.6960
2025-05-03 07:45:07,580 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,580 - high_threshold_training - INFO -       シグナル率: 0.3040
2025-05-03 07:45:07,580 - high_threshold_training - INFO - 閾値: threshold_2p
2025-05-03 07:45:07,580 - high_threshold_training - INFO -   方向: long
2025-05-03 07:45:07,580 - high_threshold_training - INFO -     期間: period_1
2025-05-03 07:45:07,580 - high_threshold_training - INFO -       精度: 0.9290
2025-05-03 07:45:07,581 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,581 - high_threshold_training - INFO -       シグナル率: 0.0710
2025-05-03 07:45:07,581 - high_threshold_training - INFO -     期間: period_2
2025-05-03 07:45:07,581 - high_threshold_training - INFO -       精度: 0.8715
2025-05-03 07:45:07,581 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,581 - high_threshold_training - INFO -       シグナル率: 0.1285
2025-05-03 07:45:07,581 - high_threshold_training - INFO -     期間: period_3
2025-05-03 07:45:07,581 - high_threshold_training - INFO -       精度: 0.8351
2025-05-03 07:45:07,581 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,581 - high_threshold_training - INFO -       シグナル率: 0.1649
2025-05-03 07:45:07,581 - high_threshold_training - INFO -   方向: short
2025-05-03 07:45:07,581 - high_threshold_training - INFO -     期間: period_1
2025-05-03 07:45:07,581 - high_threshold_training - INFO -       精度: 0.9296
2025-05-03 07:45:07,581 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,581 - high_threshold_training - INFO -       シグナル率: 0.0704
2025-05-03 07:45:07,581 - high_threshold_training - INFO -     期間: period_2
2025-05-03 07:45:07,581 - high_threshold_training - INFO -       精度: 0.8733
2025-05-03 07:45:07,582 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,582 - high_threshold_training - INFO -       シグナル率: 0.1267
2025-05-03 07:45:07,582 - high_threshold_training - INFO -     期間: period_3
2025-05-03 07:45:07,582 - high_threshold_training - INFO -       精度: 0.8385
2025-05-03 07:45:07,582 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,582 - high_threshold_training - INFO -       シグナル率: 0.1615
2025-05-03 07:45:07,582 - high_threshold_training - INFO - 閾値: threshold_3p
2025-05-03 07:45:07,582 - high_threshold_training - INFO -   方向: long
2025-05-03 07:45:07,582 - high_threshold_training - INFO -     期間: period_1
2025-05-03 07:45:07,582 - high_threshold_training - INFO -       精度: 0.9682
2025-05-03 07:45:07,582 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,582 - high_threshold_training - INFO -       シグナル率: 0.0318
2025-05-03 07:45:07,582 - high_threshold_training - INFO -     期間: period_2
2025-05-03 07:45:07,582 - high_threshold_training - INFO -       精度: 0.9364
2025-05-03 07:45:07,582 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,582 - high_threshold_training - INFO -       シグナル率: 0.0636
2025-05-03 07:45:07,583 - high_threshold_training - INFO -     期間: period_3
2025-05-03 07:45:07,583 - high_threshold_training - INFO -       精度: 0.9092
2025-05-03 07:45:07,583 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,583 - high_threshold_training - INFO -       シグナル率: 0.0908
2025-05-03 07:45:07,583 - high_threshold_training - INFO -   方向: short
2025-05-03 07:45:07,583 - high_threshold_training - INFO -     期間: period_1
2025-05-03 07:45:07,583 - high_threshold_training - INFO -       精度: 0.9682
2025-05-03 07:45:07,583 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,583 - high_threshold_training - INFO -       シグナル率: 0.0318
2025-05-03 07:45:07,583 - high_threshold_training - INFO -     期間: period_2
2025-05-03 07:45:07,583 - high_threshold_training - INFO -       精度: 0.9365
2025-05-03 07:45:07,583 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,583 - high_threshold_training - INFO -       シグナル率: 0.0635
2025-05-03 07:45:07,583 - high_threshold_training - INFO -     期間: period_3
2025-05-03 07:45:07,583 - high_threshold_training - INFO -       精度: 0.9092
2025-05-03 07:45:07,583 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,584 - high_threshold_training - INFO -       シグナル率: 0.0908
2025-05-03 07:45:07,584 - high_threshold_training - INFO - 閾値: threshold_5p
2025-05-03 07:45:07,584 - high_threshold_training - INFO -   方向: long
2025-05-03 07:45:07,584 - high_threshold_training - INFO -     期間: period_1
2025-05-03 07:45:07,584 - high_threshold_training - INFO -       精度: 0.9897
2025-05-03 07:45:07,584 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,584 - high_threshold_training - INFO -       シグナル率: 0.0103
2025-05-03 07:45:07,584 - high_threshold_training - INFO -     期間: period_2
2025-05-03 07:45:07,584 - high_threshold_training - INFO -       精度: 0.9763
2025-05-03 07:45:07,584 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,584 - high_threshold_training - INFO -       シグナル率: 0.0237
2025-05-03 07:45:07,584 - high_threshold_training - INFO -     期間: period_3
2025-05-03 07:45:07,584 - high_threshold_training - INFO -       精度: 0.9641
2025-05-03 07:45:07,584 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,584 - high_threshold_training - INFO -       シグナル率: 0.0359
2025-05-03 07:45:07,584 - high_threshold_training - INFO -   方向: short
2025-05-03 07:45:07,584 - high_threshold_training - INFO -     期間: period_1
2025-05-03 07:45:07,584 - high_threshold_training - INFO -       精度: 0.9901
2025-05-03 07:45:07,585 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,585 - high_threshold_training - INFO -       シグナル率: 0.0099
2025-05-03 07:45:07,585 - high_threshold_training - INFO -     期間: period_2
2025-05-03 07:45:07,585 - high_threshold_training - INFO -       精度: 0.9769
2025-05-03 07:45:07,585 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,585 - high_threshold_training - INFO -       シグナル率: 0.0231
2025-05-03 07:45:07,585 - high_threshold_training - INFO -     期間: period_3
2025-05-03 07:45:07,585 - high_threshold_training - INFO -       精度: 0.9641
2025-05-03 07:45:07,585 - high_threshold_training - INFO -       適合率: nan
2025-05-03 07:45:07,585 - high_threshold_training - INFO -       シグナル率: 0.0359
2025-05-03 07:45:07,588 - high_threshold_training - INFO - 訓練結果を models\high_threshold\high_threshold_results_20250503_074507.json に保存しました
2025-05-03 07:45:07,588 - high_threshold_training - INFO - 高閾値シグナルモデルの訓練が完了しました
