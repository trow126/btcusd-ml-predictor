2025-04-29 04:41:51,569 - data_processing - INFO - サンプルデータの生成を開始
2025-04-29 04:41:51,883 - data_processing - INFO - サンプルデータの生成が完了しました
2025-04-29 04:41:51,883 - data_processing - INFO - 特徴量エンジニアリングを開始
2025-04-29 04:41:52,594 - config_loader - INFO - 設定を config\model_config.json から読み込みました
2025-04-29 04:41:52,594 - feature_engineering - INFO - データを data\raw\btcusd_5m_data.csv から読み込みます
2025-04-29 04:41:52,615 - feature_engineering - INFO - 2880 行のデータを読み込みました
2025-04-29 04:41:52,616 - feature_engineering - INFO - 特徴量生成を開始。入力データサイズ: (2880, 6)
2025-04-29 04:41:52,616 - feature_engineering - INFO - 設定内容: 分類閾値=0.0001, 目標期間=[1, 2, 3]
2025-04-29 04:41:52,616 - feature_engineering - INFO - 価格変動率特徴量を生成中...
2025-04-29 04:41:52,616 - feature_engineering.price - INFO - 価格変動率とローソク足パターンの特徴量を追加しています
2025-04-29 04:41:52,622 - feature_engineering - INFO - 出来高変動率特徴量を生成中...
2025-04-29 04:41:52,622 - feature_engineering.volume - INFO - 出来高変動率の特徴量を追加しています
2025-04-29 04:41:52,625 - feature_engineering - INFO - 移動平均線特徴量を生成中...
2025-04-29 04:41:52,625 - feature_engineering.moving_average - INFO - 移動平均線と乖離率の特徴量を追加しています
2025-04-29 04:41:52,648 - feature_engineering - INFO - RSI特徴量を生成中...
2025-04-29 04:41:52,648 - feature_engineering.oscillator - INFO - RSIの特徴量を追加しています
2025-04-29 04:41:52,651 - feature_engineering - INFO - 高値/安値特徴量を生成中...
2025-04-29 04:41:52,651 - feature_engineering.price - INFO - 高値/安値からの距離の特徴量を追加しています
2025-04-29 04:41:52,654 - feature_engineering - INFO - ボリンジャーバンド特徴量を生成中...
2025-04-29 04:41:52,654 - feature_engineering.volatility - INFO - ボリンジャーバンドの特徴量を追加しています
2025-04-29 04:41:52,656 - feature_engineering - INFO - MACD特徴量を生成中...
2025-04-29 04:41:52,656 - feature_engineering.oscillator - INFO - MACDの特徴量を追加しています
2025-04-29 04:41:52,657 - feature_engineering - INFO - ストキャスティクス特徴量を生成中...
2025-04-29 04:41:52,657 - feature_engineering.oscillator - INFO - ストキャスティクスの特徴量を追加しています
2025-04-29 04:41:52,659 - feature_engineering - INFO - ATR特徴量を生成中...
2025-04-29 04:41:52,659 - feature_engineering.volatility - INFO - ATRの特徴量を追加しています
2025-04-29 04:41:52,660 - feature_engineering - INFO - 高度な特徴量を生成中...
2025-04-29 04:41:52,660 - feature_engineering.advanced - INFO - 高度な特徴量を追加しています
2025-04-29 04:41:52,828 - feature_engineering - INFO - 目標変数を生成中...
2025-04-29 04:41:52,828 - feature_engineering.target - INFO - === 予測対象の目標変数を生成しています ===
2025-04-29 04:41:52,829 - feature_engineering.target - INFO - 分類閾値: 0.0001, 予測期間: [1, 2, 3]
2025-04-29 04:41:52,829 - feature_engineering.target - INFO - ボラティリティの平均: 0.006695
2025-04-29 04:41:52,829 - feature_engineering.target - INFO - 期間 1 の目標変数を生成中...
2025-04-29 04:41:52,830 - feature_engineering.target - INFO - 期間 2 の目標変数を生成中...
2025-04-29 04:41:52,831 - feature_engineering.target - INFO - 期間 3 の目標変数を生成中...
2025-04-29 04:41:52,833 - feature_engineering.target - INFO - === 生成された目標変数の統計情報 ===
2025-04-29 04:41:52,833 - feature_engineering.target - INFO - ---- 期間 1 の統計情報 ----
2025-04-29 04:41:52,834 - feature_engineering.target - INFO - target_price_change_pct_1 の統計: min=-0.017216, max=0.019177, mean=0.000124
2025-04-29 04:41:52,835 - feature_engineering.target - INFO - target_threshold_ternary_1 のクラス分布:
2025-04-29 04:41:52,835 - feature_engineering.target - INFO -   クラス 1: 1456 サンプル (50.56%)
2025-04-29 04:41:52,835 - feature_engineering.target - INFO -   クラス 0: 1389 サンプル (48.23%)
2025-04-29 04:41:52,835 - feature_engineering.target - INFO -   クラス 2: 35 サンプル (1.22%)
2025-04-29 04:41:52,835 - feature_engineering.target - INFO - target_threshold_binary_1 のNaN: 35 サンプル (1.22%)
2025-04-29 04:41:52,836 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値クラス分布:
2025-04-29 04:41:52,836 - feature_engineering.target - INFO -   クラス 1.0: 1456 サンプル (51.18%)
2025-04-29 04:41:52,836 - feature_engineering.target - INFO -   クラス 0.0: 1389 サンプル (48.82%)
2025-04-29 04:41:52,836 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値数: 2845 (98.78%)
2025-04-29 04:41:52,836 - feature_engineering.target - INFO - target_threshold_binary_1 のクラスバランス比率: 0.9540 (1に近いほど均等)
2025-04-29 04:41:52,836 - feature_engineering.target - INFO - target_price_direction_1 のクラス分布:
2025-04-29 04:41:52,836 - feature_engineering.target - INFO -   クラス 1: 1456 サンプル (50.56%)
2025-04-29 04:41:52,837 - feature_engineering.target - INFO -   クラス -1: 1389 サンプル (48.23%)
2025-04-29 04:41:52,837 - feature_engineering.target - INFO -   クラス 0: 35 サンプル (1.22%)
2025-04-29 04:41:52,837 - feature_engineering.target - INFO - target_price_direction_1 のクラスバランス比率: 0.0240 (1に近いほど均等)
2025-04-29 04:41:52,837 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のクラス分布:
2025-04-29 04:41:52,837 - feature_engineering.target - INFO -   クラス 0: 1591 サンプル (55.24%)
2025-04-29 04:41:52,837 - feature_engineering.target - INFO -   クラス 1: 1289 サンプル (44.76%)
2025-04-29 04:41:52,837 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のシグナル発生率: 44.7569%
2025-04-29 04:41:52,838 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のクラス分布:
2025-04-29 04:41:52,838 - feature_engineering.target - INFO -   クラス 0: 1644 サンプル (57.08%)
2025-04-29 04:41:52,838 - feature_engineering.target - INFO -   クラス 1: 1236 サンプル (42.92%)
2025-04-29 04:41:52,838 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のシグナル発生率: 42.9167%
2025-04-29 04:41:52,838 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のクラス分布:
2025-04-29 04:41:52,839 - feature_engineering.target - INFO -   クラス 0: 1745 サンプル (60.59%)
2025-04-29 04:41:52,839 - feature_engineering.target - INFO -   クラス 1: 1135 サンプル (39.41%)
2025-04-29 04:41:52,839 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のシグナル発生率: 39.4097%
2025-04-29 04:41:52,839 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のクラス分布:
2025-04-29 04:41:52,839 - feature_engineering.target - INFO -   クラス 0: 1788 サンプル (62.08%)
2025-04-29 04:41:52,839 - feature_engineering.target - INFO -   クラス 1: 1092 サンプル (37.92%)
2025-04-29 04:41:52,839 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のシグナル発生率: 37.9167%
2025-04-29 04:41:52,840 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のクラス分布:
2025-04-29 04:41:52,840 - feature_engineering.target - INFO -   クラス 0: 1893 サンプル (65.73%)
2025-04-29 04:41:52,840 - feature_engineering.target - INFO -   クラス 1: 987 サンプル (34.27%)
2025-04-29 04:41:52,840 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のシグナル発生率: 34.2708%
2025-04-29 04:41:52,841 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のクラス分布:
2025-04-29 04:41:52,841 - feature_engineering.target - INFO -   クラス 0: 1933 サンプル (67.12%)
2025-04-29 04:41:52,841 - feature_engineering.target - INFO -   クラス 1: 947 サンプル (32.88%)
2025-04-29 04:41:52,841 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のシグナル発生率: 32.8819%
2025-04-29 04:41:52,841 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のクラス分布:
2025-04-29 04:41:52,841 - feature_engineering.target - INFO -   クラス 0: 2179 サンプル (75.66%)
2025-04-29 04:41:52,841 - feature_engineering.target - INFO -   クラス 1: 701 サンプル (24.34%)
2025-04-29 04:41:52,841 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のシグナル発生率: 24.3403%
2025-04-29 04:41:52,842 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のクラス分布:
2025-04-29 04:41:52,842 - feature_engineering.target - INFO -   クラス 0: 2190 サンプル (76.04%)
2025-04-29 04:41:52,842 - feature_engineering.target - INFO -   クラス 1: 690 サンプル (23.96%)
2025-04-29 04:41:52,842 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のシグナル発生率: 23.9583%
2025-04-29 04:41:52,842 - feature_engineering.target - INFO - ---- 期間 2 の統計情報 ----
2025-04-29 04:41:52,843 - feature_engineering.target - INFO - target_price_change_pct_2 の統計: min=-0.020424, max=0.021008, mean=0.000232
2025-04-29 04:41:52,843 - feature_engineering.target - INFO - target_threshold_ternary_2 のクラス分布:
2025-04-29 04:41:52,843 - feature_engineering.target - INFO -   クラス 1: 1432 サンプル (49.72%)
2025-04-29 04:41:52,843 - feature_engineering.target - INFO -   クラス 0: 1416 サンプル (49.17%)
2025-04-29 04:41:52,844 - feature_engineering.target - INFO -   クラス 2: 32 サンプル (1.11%)
2025-04-29 04:41:52,844 - feature_engineering.target - INFO - target_threshold_binary_2 のNaN: 32 サンプル (1.11%)
2025-04-29 04:41:52,844 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値クラス分布:
2025-04-29 04:41:52,844 - feature_engineering.target - INFO -   クラス 1.0: 1432 サンプル (50.28%)
2025-04-29 04:41:52,844 - feature_engineering.target - INFO -   クラス 0.0: 1416 サンプル (49.72%)
2025-04-29 04:41:52,845 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値数: 2848 (98.89%)
2025-04-29 04:41:52,845 - feature_engineering.target - INFO - target_threshold_binary_2 のクラスバランス比率: 0.9888 (1に近いほど均等)
2025-04-29 04:41:52,845 - feature_engineering.target - INFO - target_price_direction_2 のクラス分布:
2025-04-29 04:41:52,845 - feature_engineering.target - INFO -   クラス 1: 1432 サンプル (49.72%)
2025-04-29 04:41:52,845 - feature_engineering.target - INFO -   クラス -1: 1416 サンプル (49.17%)
2025-04-29 04:41:52,845 - feature_engineering.target - INFO -   クラス 0: 32 サンプル (1.11%)
2025-04-29 04:41:52,845 - feature_engineering.target - INFO - target_price_direction_2 のクラスバランス比率: 0.0223 (1に近いほど均等)
2025-04-29 04:41:52,846 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のクラス分布:
2025-04-29 04:41:52,846 - feature_engineering.target - INFO -   クラス 0: 1582 サンプル (54.93%)
2025-04-29 04:41:52,846 - feature_engineering.target - INFO -   クラス 1: 1298 サンプル (45.07%)
2025-04-29 04:41:52,846 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のシグナル発生率: 45.0694%
2025-04-29 04:41:52,846 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のクラス分布:
2025-04-29 04:41:52,846 - feature_engineering.target - INFO -   クラス 0: 1593 サンプル (55.31%)
2025-04-29 04:41:52,847 - feature_engineering.target - INFO -   クラス 1: 1287 サンプル (44.69%)
2025-04-29 04:41:52,847 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のシグナル発生率: 44.6875%
2025-04-29 04:41:52,847 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のクラス分布:
2025-04-29 04:41:52,847 - feature_engineering.target - INFO -   クラス 0: 1714 サンプル (59.51%)
2025-04-29 04:41:52,847 - feature_engineering.target - INFO -   クラス 1: 1166 サンプル (40.49%)
2025-04-29 04:41:52,847 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のシグナル発生率: 40.4861%
2025-04-29 04:41:52,848 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のクラス分布:
2025-04-29 04:41:52,848 - feature_engineering.target - INFO -   クラス 0: 1725 サンプル (59.90%)
2025-04-29 04:41:52,848 - feature_engineering.target - INFO -   クラス 1: 1155 サンプル (40.10%)
2025-04-29 04:41:52,848 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のシグナル発生率: 40.1042%
2025-04-29 04:41:52,848 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のクラス分布:
2025-04-29 04:41:52,848 - feature_engineering.target - INFO -   クラス 0: 1855 サンプル (64.41%)
2025-04-29 04:41:52,848 - feature_engineering.target - INFO -   クラス 1: 1025 サンプル (35.59%)
2025-04-29 04:41:52,849 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のシグナル発生率: 35.5903%
2025-04-29 04:41:52,849 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のクラス分布:
2025-04-29 04:41:52,849 - feature_engineering.target - INFO -   クラス 0: 1892 サンプル (65.69%)
2025-04-29 04:41:52,849 - feature_engineering.target - INFO -   クラス 1: 988 サンプル (34.31%)
2025-04-29 04:41:52,849 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のシグナル発生率: 34.3056%
2025-04-29 04:41:52,850 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のクラス分布:
2025-04-29 04:41:52,850 - feature_engineering.target - INFO -   クラス 0: 2104 サンプル (73.06%)
2025-04-29 04:41:52,850 - feature_engineering.target - INFO -   クラス 1: 776 サンプル (26.94%)
2025-04-29 04:41:52,850 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のシグナル発生率: 26.9444%
2025-04-29 04:41:52,850 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のクラス分布:
2025-04-29 04:41:52,851 - feature_engineering.target - INFO -   クラス 0: 2161 サンプル (75.03%)
2025-04-29 04:41:52,851 - feature_engineering.target - INFO -   クラス 1: 719 サンプル (24.97%)
2025-04-29 04:41:52,851 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のシグナル発生率: 24.9653%
2025-04-29 04:41:52,851 - feature_engineering.target - INFO - ---- 期間 3 の統計情報 ----
2025-04-29 04:41:52,852 - feature_engineering.target - INFO - target_price_change_pct_3 の統計: min=-0.021326, max=0.023232, mean=0.000337
2025-04-29 04:41:52,852 - feature_engineering.target - INFO - target_threshold_ternary_3 のクラス分布:
2025-04-29 04:41:52,852 - feature_engineering.target - INFO -   クラス 1: 1457 サンプル (50.59%)
2025-04-29 04:41:52,852 - feature_engineering.target - INFO -   クラス 0: 1384 サンプル (48.06%)
2025-04-29 04:41:52,852 - feature_engineering.target - INFO -   クラス 2: 39 サンプル (1.35%)
2025-04-29 04:41:52,853 - feature_engineering.target - INFO - target_threshold_binary_3 のNaN: 39 サンプル (1.35%)
2025-04-29 04:41:52,853 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値クラス分布:
2025-04-29 04:41:52,853 - feature_engineering.target - INFO -   クラス 1.0: 1457 サンプル (51.28%)
2025-04-29 04:41:52,853 - feature_engineering.target - INFO -   クラス 0.0: 1384 サンプル (48.72%)
2025-04-29 04:41:52,853 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値数: 2841 (98.65%)
2025-04-29 04:41:52,853 - feature_engineering.target - INFO - target_threshold_binary_3 のクラスバランス比率: 0.9499 (1に近いほど均等)
2025-04-29 04:41:52,854 - feature_engineering.target - INFO - target_price_direction_3 のクラス分布:
2025-04-29 04:41:52,854 - feature_engineering.target - INFO -   クラス 1: 1457 サンプル (50.59%)
2025-04-29 04:41:52,854 - feature_engineering.target - INFO -   クラス -1: 1384 サンプル (48.06%)
2025-04-29 04:41:52,854 - feature_engineering.target - INFO -   クラス 0: 39 サンプル (1.35%)
2025-04-29 04:41:52,854 - feature_engineering.target - INFO - target_price_direction_3 のクラスバランス比率: 0.0268 (1に近いほど均等)
2025-04-29 04:41:52,855 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のクラス分布:
2025-04-29 04:41:52,855 - feature_engineering.target - INFO -   クラス 0: 1560 サンプル (54.17%)
2025-04-29 04:41:52,855 - feature_engineering.target - INFO -   クラス 1: 1320 サンプル (45.83%)
2025-04-29 04:41:52,855 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のシグナル発生率: 45.8333%
2025-04-29 04:41:52,855 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のクラス分布:
2025-04-29 04:41:52,855 - feature_engineering.target - INFO -   クラス 0: 1619 サンプル (56.22%)
2025-04-29 04:41:52,855 - feature_engineering.target - INFO -   クラス 1: 1261 サンプル (43.78%)
2025-04-29 04:41:52,856 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のシグナル発生率: 43.7847%
2025-04-29 04:41:52,856 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のクラス分布:
2025-04-29 04:41:52,856 - feature_engineering.target - INFO -   クラス 0: 1700 サンプル (59.03%)
2025-04-29 04:41:52,856 - feature_engineering.target - INFO -   クラス 1: 1180 サンプル (40.97%)
2025-04-29 04:41:52,856 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のシグナル発生率: 40.9722%
2025-04-29 04:41:52,857 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のクラス分布:
2025-04-29 04:41:52,857 - feature_engineering.target - INFO -   クラス 0: 1776 サンプル (61.67%)
2025-04-29 04:41:52,857 - feature_engineering.target - INFO -   クラス 1: 1104 サンプル (38.33%)
2025-04-29 04:41:52,857 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のシグナル発生率: 38.3333%
2025-04-29 04:41:52,857 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のクラス分布:
2025-04-29 04:41:52,857 - feature_engineering.target - INFO -   クラス 0: 1824 サンプル (63.33%)
2025-04-29 04:41:52,858 - feature_engineering.target - INFO -   クラス 1: 1056 サンプル (36.67%)
2025-04-29 04:41:52,858 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のシグナル発生率: 36.6667%
2025-04-29 04:41:52,858 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のクラス分布:
2025-04-29 04:41:52,858 - feature_engineering.target - INFO -   クラス 0: 1901 サンプル (66.01%)
2025-04-29 04:41:52,858 - feature_engineering.target - INFO -   クラス 1: 979 サンプル (33.99%)
2025-04-29 04:41:52,858 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のシグナル発生率: 33.9931%
2025-04-29 04:41:52,859 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のクラス分布:
2025-04-29 04:41:52,859 - feature_engineering.target - INFO -   クラス 0: 2064 サンプル (71.67%)
2025-04-29 04:41:52,859 - feature_engineering.target - INFO -   クラス 1: 816 サンプル (28.33%)
2025-04-29 04:41:52,859 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のシグナル発生率: 28.3333%
2025-04-29 04:41:52,859 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のクラス分布:
2025-04-29 04:41:52,859 - feature_engineering.target - INFO -   クラス 0: 2137 サンプル (74.20%)
2025-04-29 04:41:52,859 - feature_engineering.target - INFO -   クラス 1: 743 サンプル (25.80%)
2025-04-29 04:41:52,859 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のシグナル発生率: 25.7986%
2025-04-29 04:41:52,860 - feature_engineering.target - INFO - 目標変数を含むデータフレームを生成完了。サイズ: (2880, 42)
2025-04-29 04:41:52,860 - feature_engineering - INFO - すべての特徴量を結合中...
2025-04-29 04:41:52,862 - feature_engineering - INFO - 重複列削除後のカラム数: 188
2025-04-29 04:41:52,864 - feature_engineering - INFO - NaNを含む行を削除: 200行 (6.94%)
2025-04-29 04:41:52,864 - feature_engineering.advanced - INFO - フィッシャー変換RSIの特徴量を追加しています
2025-04-29 04:41:52,867 - feature_engineering.selector - INFO - 重要な特徴量を選択しています
2025-04-29 04:41:52,868 - feature_engineering.selector - INFO - 重要な特徴量 66個を選択しました
2025-04-29 04:41:52,868 - feature_engineering - INFO - 生成された目標変数列: ['target_price_change_pct_1', 'target_price_change_pct_2', 'target_price_change_pct_3', 'target_price_direction_1', 'target_price_direction_2', 'target_price_direction_3', 'target_threshold_binary_1', 'target_threshold_binary_2', 'target_threshold_binary_3', 'target_threshold_ternary_1', 'target_threshold_ternary_2', 'target_threshold_ternary_3']
2025-04-29 04:41:52,868 - feature_engineering - INFO - target_threshold_binary_1 の有効サンプル数: 2680 (100.00%)
2025-04-29 04:41:52,868 - feature_engineering - INFO - target_threshold_binary_1 のクラス分布: {1.0: 1371, 0.0: 1309}
2025-04-29 04:41:52,869 - feature_engineering - INFO - target_threshold_binary_2 の有効サンプル数: 2680 (100.00%)
2025-04-29 04:41:52,869 - feature_engineering - INFO - target_threshold_binary_2 のクラス分布: {0.0: 1341, 1.0: 1339}
2025-04-29 04:41:52,869 - feature_engineering - INFO - target_threshold_binary_3 の有効サンプル数: 2680 (100.00%)
2025-04-29 04:41:52,869 - feature_engineering - INFO - target_threshold_binary_3 のクラス分布: {1.0: 1366, 0.0: 1314}
2025-04-29 04:41:52,869 - feature_engineering - INFO - 特徴量生成が完了しました。カラム数: 66, 行数: 2680
2025-04-29 04:41:53,002 - feature_engineering - INFO - 特徴量を data\processed\btcusd_5m_features.csv に保存しました。データサイズ: (2680, 66)
2025-04-29 04:41:53,019 - data_processing - INFO - 特徴量エンジニアリングが完了しました。生成された特徴量: 66列
2025-04-29 04:41:53,019 - data_processing - INFO - 生成された行数: 2680行
2025-04-29 04:41:53,019 - data_processing - INFO - 生成された目標変数: 12個
2025-04-29 04:41:53,019 - data_processing - ERROR - 高閾値シグナル変数が生成されませんでした。target_features.pyの修正が反映されていない可能性があります。
2025-04-29 04:41:53,019 - data_processing - INFO - 標準目標変数: 12個
2025-04-29 04:42:23,056 - data_processing - INFO - サンプルデータの生成を開始
2025-04-29 04:42:23,353 - data_processing - INFO - サンプルデータの生成が完了しました
2025-04-29 04:42:23,353 - data_processing - INFO - 特徴量エンジニアリングを開始
2025-04-29 04:42:24,017 - config_loader - INFO - 設定を config\model_config.json から読み込みました
2025-04-29 04:42:24,018 - feature_engineering - INFO - データを data\raw\btcusd_5m_data.csv から読み込みます
2025-04-29 04:42:24,033 - feature_engineering - INFO - 2880 行のデータを読み込みました
2025-04-29 04:42:24,033 - feature_engineering - INFO - 特徴量生成を開始。入力データサイズ: (2880, 6)
2025-04-29 04:42:24,033 - feature_engineering - INFO - 設定内容: 分類閾値=0.0001, 目標期間=[1, 2, 3]
2025-04-29 04:42:24,033 - feature_engineering - INFO - 価格変動率特徴量を生成中...
2025-04-29 04:42:24,033 - feature_engineering.price - INFO - 価格変動率とローソク足パターンの特徴量を追加しています
2025-04-29 04:42:24,038 - feature_engineering - INFO - 出来高変動率特徴量を生成中...
2025-04-29 04:42:24,039 - feature_engineering.volume - INFO - 出来高変動率の特徴量を追加しています
2025-04-29 04:42:24,041 - feature_engineering - INFO - 移動平均線特徴量を生成中...
2025-04-29 04:42:24,041 - feature_engineering.moving_average - INFO - 移動平均線と乖離率の特徴量を追加しています
2025-04-29 04:42:24,064 - feature_engineering - INFO - RSI特徴量を生成中...
2025-04-29 04:42:24,064 - feature_engineering.oscillator - INFO - RSIの特徴量を追加しています
2025-04-29 04:42:24,067 - feature_engineering - INFO - 高値/安値特徴量を生成中...
2025-04-29 04:42:24,067 - feature_engineering.price - INFO - 高値/安値からの距離の特徴量を追加しています
2025-04-29 04:42:24,070 - feature_engineering - INFO - ボリンジャーバンド特徴量を生成中...
2025-04-29 04:42:24,070 - feature_engineering.volatility - INFO - ボリンジャーバンドの特徴量を追加しています
2025-04-29 04:42:24,072 - feature_engineering - INFO - MACD特徴量を生成中...
2025-04-29 04:42:24,072 - feature_engineering.oscillator - INFO - MACDの特徴量を追加しています
2025-04-29 04:42:24,073 - feature_engineering - INFO - ストキャスティクス特徴量を生成中...
2025-04-29 04:42:24,073 - feature_engineering.oscillator - INFO - ストキャスティクスの特徴量を追加しています
2025-04-29 04:42:24,075 - feature_engineering - INFO - ATR特徴量を生成中...
2025-04-29 04:42:24,075 - feature_engineering.volatility - INFO - ATRの特徴量を追加しています
2025-04-29 04:42:24,076 - feature_engineering - INFO - 高度な特徴量を生成中...
2025-04-29 04:42:24,076 - feature_engineering.advanced - INFO - 高度な特徴量を追加しています
2025-04-29 04:42:24,243 - feature_engineering - INFO - 目標変数を生成中...
2025-04-29 04:42:24,243 - feature_engineering.target - INFO - === 予測対象の目標変数を生成しています ===
2025-04-29 04:42:24,243 - feature_engineering.target - INFO - 分類閾値: 0.0001, 予測期間: [1, 2, 3]
2025-04-29 04:42:24,244 - feature_engineering.target - INFO - ボラティリティの平均: 0.006888
2025-04-29 04:42:24,244 - feature_engineering.target - INFO - 期間 1 の目標変数を生成中...
2025-04-29 04:42:24,245 - feature_engineering.target - INFO - 期間 2 の目標変数を生成中...
2025-04-29 04:42:24,246 - feature_engineering.target - INFO - 期間 3 の目標変数を生成中...
2025-04-29 04:42:24,247 - feature_engineering.target - INFO - === 生成された目標変数の統計情報 ===
2025-04-29 04:42:24,247 - feature_engineering.target - INFO - ---- 期間 1 の統計情報 ----
2025-04-29 04:42:24,248 - feature_engineering.target - INFO - target_price_change_pct_1 の統計: min=-0.018292, max=0.017805, mean=-0.000013
2025-04-29 04:42:24,249 - feature_engineering.target - INFO - target_threshold_ternary_1 のクラス分布:
2025-04-29 04:42:24,249 - feature_engineering.target - INFO -   クラス 1: 1436 サンプル (49.86%)
2025-04-29 04:42:24,249 - feature_engineering.target - INFO -   クラス 0: 1411 サンプル (48.99%)
2025-04-29 04:42:24,249 - feature_engineering.target - INFO -   クラス 2: 33 サンプル (1.15%)
2025-04-29 04:42:24,250 - feature_engineering.target - INFO - target_threshold_binary_1 のNaN: 33 サンプル (1.15%)
2025-04-29 04:42:24,250 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値クラス分布:
2025-04-29 04:42:24,250 - feature_engineering.target - INFO -   クラス 1.0: 1436 サンプル (50.44%)
2025-04-29 04:42:24,250 - feature_engineering.target - INFO -   クラス 0.0: 1411 サンプル (49.56%)
2025-04-29 04:42:24,250 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値数: 2847 (98.85%)
2025-04-29 04:42:24,251 - feature_engineering.target - INFO - target_threshold_binary_1 のクラスバランス比率: 0.9826 (1に近いほど均等)
2025-04-29 04:42:24,251 - feature_engineering.target - INFO - target_price_direction_1 のクラス分布:
2025-04-29 04:42:24,251 - feature_engineering.target - INFO -   クラス 1: 1436 サンプル (49.86%)
2025-04-29 04:42:24,251 - feature_engineering.target - INFO -   クラス -1: 1411 サンプル (48.99%)
2025-04-29 04:42:24,251 - feature_engineering.target - INFO -   クラス 0: 33 サンプル (1.15%)
2025-04-29 04:42:24,251 - feature_engineering.target - INFO - target_price_direction_1 のクラスバランス比率: 0.0230 (1に近いほど均等)
2025-04-29 04:42:24,252 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のクラス分布:
2025-04-29 04:42:24,252 - feature_engineering.target - INFO -   クラス 0: 1597 サンプル (55.45%)
2025-04-29 04:42:24,252 - feature_engineering.target - INFO -   クラス 1: 1283 サンプル (44.55%)
2025-04-29 04:42:24,252 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のシグナル発生率: 44.5486%
2025-04-29 04:42:24,252 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のクラス分布:
2025-04-29 04:42:24,252 - feature_engineering.target - INFO -   クラス 0: 1610 サンプル (55.90%)
2025-04-29 04:42:24,252 - feature_engineering.target - INFO -   クラス 1: 1270 サンプル (44.10%)
2025-04-29 04:42:24,253 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のシグナル発生率: 44.0972%
2025-04-29 04:42:24,253 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のクラス分布:
2025-04-29 04:42:24,253 - feature_engineering.target - INFO -   クラス 0: 1747 サンプル (60.66%)
2025-04-29 04:42:24,253 - feature_engineering.target - INFO -   クラス 1: 1133 サンプル (39.34%)
2025-04-29 04:42:24,253 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のシグナル発生率: 39.3403%
2025-04-29 04:42:24,254 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のクラス分布:
2025-04-29 04:42:24,254 - feature_engineering.target - INFO -   クラス 0: 1779 サンプル (61.77%)
2025-04-29 04:42:24,254 - feature_engineering.target - INFO -   クラス 1: 1101 サンプル (38.23%)
2025-04-29 04:42:24,254 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のシグナル発生率: 38.2292%
2025-04-29 04:42:24,254 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のクラス分布:
2025-04-29 04:42:24,254 - feature_engineering.target - INFO -   クラス 0: 1898 サンプル (65.90%)
2025-04-29 04:42:24,254 - feature_engineering.target - INFO -   クラス 1: 982 サンプル (34.10%)
2025-04-29 04:42:24,254 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のシグナル発生率: 34.0972%
2025-04-29 04:42:24,255 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のクラス分布:
2025-04-29 04:42:24,255 - feature_engineering.target - INFO -   クラス 0: 1919 サンプル (66.63%)
2025-04-29 04:42:24,255 - feature_engineering.target - INFO -   クラス 1: 961 サンプル (33.37%)
2025-04-29 04:42:24,255 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のシグナル発生率: 33.3681%
2025-04-29 04:42:24,255 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のクラス分布:
2025-04-29 04:42:24,256 - feature_engineering.target - INFO -   クラス 0: 2170 サンプル (75.35%)
2025-04-29 04:42:24,256 - feature_engineering.target - INFO -   クラス 1: 710 サンプル (24.65%)
2025-04-29 04:42:24,256 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のシグナル発生率: 24.6528%
2025-04-29 04:42:24,256 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のクラス分布:
2025-04-29 04:42:24,256 - feature_engineering.target - INFO -   クラス 0: 2182 サンプル (75.76%)
2025-04-29 04:42:24,256 - feature_engineering.target - INFO -   クラス 1: 698 サンプル (24.24%)
2025-04-29 04:42:24,256 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のシグナル発生率: 24.2361%
2025-04-29 04:42:24,256 - feature_engineering.target - INFO - ---- 期間 2 の統計情報 ----
2025-04-29 04:42:24,257 - feature_engineering.target - INFO - target_price_change_pct_2 の統計: min=-0.021062, max=0.023142, mean=-0.000043
2025-04-29 04:42:24,258 - feature_engineering.target - INFO - target_threshold_ternary_2 のクラス分布:
2025-04-29 04:42:24,258 - feature_engineering.target - INFO -   クラス 0: 1431 サンプル (49.69%)
2025-04-29 04:42:24,258 - feature_engineering.target - INFO -   クラス 1: 1417 サンプル (49.20%)
2025-04-29 04:42:24,258 - feature_engineering.target - INFO -   クラス 2: 32 サンプル (1.11%)
2025-04-29 04:42:24,258 - feature_engineering.target - INFO - target_threshold_binary_2 のNaN: 32 サンプル (1.11%)
2025-04-29 04:42:24,259 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値クラス分布:
2025-04-29 04:42:24,259 - feature_engineering.target - INFO -   クラス 0.0: 1431 サンプル (50.25%)
2025-04-29 04:42:24,259 - feature_engineering.target - INFO -   クラス 1.0: 1417 サンプル (49.75%)
2025-04-29 04:42:24,259 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値数: 2848 (98.89%)
2025-04-29 04:42:24,259 - feature_engineering.target - INFO - target_threshold_binary_2 のクラスバランス比率: 0.9902 (1に近いほど均等)
2025-04-29 04:42:24,259 - feature_engineering.target - INFO - target_price_direction_2 のクラス分布:
2025-04-29 04:42:24,259 - feature_engineering.target - INFO -   クラス -1: 1431 サンプル (49.69%)
2025-04-29 04:42:24,260 - feature_engineering.target - INFO -   クラス 1: 1417 サンプル (49.20%)
2025-04-29 04:42:24,260 - feature_engineering.target - INFO -   クラス 0: 32 サンプル (1.11%)
2025-04-29 04:42:24,260 - feature_engineering.target - INFO - target_price_direction_2 のクラスバランス比率: 0.0224 (1に近いほど均等)
2025-04-29 04:42:24,260 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のクラス分布:
2025-04-29 04:42:24,260 - feature_engineering.target - INFO -   クラス 0: 1604 サンプル (55.69%)
2025-04-29 04:42:24,260 - feature_engineering.target - INFO -   クラス 1: 1276 サンプル (44.31%)
2025-04-29 04:42:24,260 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のシグナル発生率: 44.3056%
2025-04-29 04:42:24,261 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のクラス分布:
2025-04-29 04:42:24,261 - feature_engineering.target - INFO -   クラス 0: 1582 サンプル (54.93%)
2025-04-29 04:42:24,261 - feature_engineering.target - INFO -   クラス 1: 1298 サンプル (45.07%)
2025-04-29 04:42:24,261 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のシグナル発生率: 45.0694%
2025-04-29 04:42:24,261 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のクラス分布:
2025-04-29 04:42:24,261 - feature_engineering.target - INFO -   クラス 0: 1744 サンプル (60.56%)
2025-04-29 04:42:24,261 - feature_engineering.target - INFO -   クラス 1: 1136 サンプル (39.44%)
2025-04-29 04:42:24,262 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のシグナル発生率: 39.4444%
2025-04-29 04:42:24,262 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のクラス分布:
2025-04-29 04:42:24,262 - feature_engineering.target - INFO -   クラス 0: 1727 サンプル (59.97%)
2025-04-29 04:42:24,262 - feature_engineering.target - INFO -   クラス 1: 1153 サンプル (40.03%)
2025-04-29 04:42:24,262 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のシグナル発生率: 40.0347%
2025-04-29 04:42:24,262 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のクラス分布:
2025-04-29 04:42:24,263 - feature_engineering.target - INFO -   クラス 0: 1863 サンプル (64.69%)
2025-04-29 04:42:24,263 - feature_engineering.target - INFO -   クラス 1: 1017 サンプル (35.31%)
2025-04-29 04:42:24,263 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のシグナル発生率: 35.3125%
2025-04-29 04:42:24,263 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のクラス分布:
2025-04-29 04:42:24,264 - feature_engineering.target - INFO -   クラス 0: 1850 サンプル (64.24%)
2025-04-29 04:42:24,264 - feature_engineering.target - INFO -   クラス 1: 1030 サンプル (35.76%)
2025-04-29 04:42:24,264 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のシグナル発生率: 35.7639%
2025-04-29 04:42:24,264 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のクラス分布:
2025-04-29 04:42:24,264 - feature_engineering.target - INFO -   クラス 0: 2143 サンプル (74.41%)
2025-04-29 04:42:24,264 - feature_engineering.target - INFO -   クラス 1: 737 サンプル (25.59%)
2025-04-29 04:42:24,264 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のシグナル発生率: 25.5903%
2025-04-29 04:42:24,265 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のクラス分布:
2025-04-29 04:42:24,265 - feature_engineering.target - INFO -   クラス 0: 2098 サンプル (72.85%)
2025-04-29 04:42:24,265 - feature_engineering.target - INFO -   クラス 1: 782 サンプル (27.15%)
2025-04-29 04:42:24,265 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のシグナル発生率: 27.1528%
2025-04-29 04:42:24,265 - feature_engineering.target - INFO - ---- 期間 3 の統計情報 ----
2025-04-29 04:42:24,266 - feature_engineering.target - INFO - target_price_change_pct_3 の統計: min=-0.024157, max=0.023623, mean=-0.000069
2025-04-29 04:42:24,266 - feature_engineering.target - INFO - target_threshold_ternary_3 のクラス分布:
2025-04-29 04:42:24,266 - feature_engineering.target - INFO -   クラス 0: 1446 サンプル (50.21%)
2025-04-29 04:42:24,266 - feature_engineering.target - INFO -   クラス 1: 1399 サンプル (48.58%)
2025-04-29 04:42:24,267 - feature_engineering.target - INFO -   クラス 2: 35 サンプル (1.22%)
2025-04-29 04:42:24,267 - feature_engineering.target - INFO - target_threshold_binary_3 のNaN: 35 サンプル (1.22%)
2025-04-29 04:42:24,268 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値クラス分布:
2025-04-29 04:42:24,268 - feature_engineering.target - INFO -   クラス 0.0: 1446 サンプル (50.83%)
2025-04-29 04:42:24,268 - feature_engineering.target - INFO -   クラス 1.0: 1399 サンプル (49.17%)
2025-04-29 04:42:24,268 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値数: 2845 (98.78%)
2025-04-29 04:42:24,268 - feature_engineering.target - INFO - target_threshold_binary_3 のクラスバランス比率: 0.9675 (1に近いほど均等)
2025-04-29 04:42:24,268 - feature_engineering.target - INFO - target_price_direction_3 のクラス分布:
2025-04-29 04:42:24,269 - feature_engineering.target - INFO -   クラス -1: 1446 サンプル (50.21%)
2025-04-29 04:42:24,269 - feature_engineering.target - INFO -   クラス 1: 1399 サンプル (48.58%)
2025-04-29 04:42:24,269 - feature_engineering.target - INFO -   クラス 0: 35 サンプル (1.22%)
2025-04-29 04:42:24,269 - feature_engineering.target - INFO - target_price_direction_3 のクラスバランス比率: 0.0242 (1に近いほど均等)
2025-04-29 04:42:24,269 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のクラス分布:
2025-04-29 04:42:24,269 - feature_engineering.target - INFO -   クラス 0: 1598 サンプル (55.49%)
2025-04-29 04:42:24,269 - feature_engineering.target - INFO -   クラス 1: 1282 サンプル (44.51%)
2025-04-29 04:42:24,269 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のシグナル発生率: 44.5139%
2025-04-29 04:42:24,270 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のクラス分布:
2025-04-29 04:42:24,270 - feature_engineering.target - INFO -   クラス 0: 1551 サンプル (53.85%)
2025-04-29 04:42:24,270 - feature_engineering.target - INFO -   クラス 1: 1329 サンプル (46.15%)
2025-04-29 04:42:24,270 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のシグナル発生率: 46.1458%
2025-04-29 04:42:24,270 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のクラス分布:
2025-04-29 04:42:24,270 - feature_engineering.target - INFO -   クラス 0: 1739 サンプル (60.38%)
2025-04-29 04:42:24,271 - feature_engineering.target - INFO -   クラス 1: 1141 サンプル (39.62%)
2025-04-29 04:42:24,271 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のシグナル発生率: 39.6181%
2025-04-29 04:42:24,271 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のクラス分布:
2025-04-29 04:42:24,271 - feature_engineering.target - INFO -   クラス 0: 1690 サンプル (58.68%)
2025-04-29 04:42:24,271 - feature_engineering.target - INFO -   クラス 1: 1190 サンプル (41.32%)
2025-04-29 04:42:24,271 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のシグナル発生率: 41.3194%
2025-04-29 04:42:24,272 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のクラス分布:
2025-04-29 04:42:24,272 - feature_engineering.target - INFO -   クラス 0: 1882 サンプル (65.35%)
2025-04-29 04:42:24,272 - feature_engineering.target - INFO -   クラス 1: 998 サンプル (34.65%)
2025-04-29 04:42:24,272 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のシグナル発生率: 34.6528%
2025-04-29 04:42:24,272 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のクラス分布:
2025-04-29 04:42:24,272 - feature_engineering.target - INFO -   クラス 0: 1830 サンプル (63.54%)
2025-04-29 04:42:24,272 - feature_engineering.target - INFO -   クラス 1: 1050 サンプル (36.46%)
2025-04-29 04:42:24,272 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のシグナル発生率: 36.4583%
2025-04-29 04:42:24,273 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のクラス分布:
2025-04-29 04:42:24,273 - feature_engineering.target - INFO -   クラス 0: 2115 サンプル (73.44%)
2025-04-29 04:42:24,273 - feature_engineering.target - INFO -   クラス 1: 765 サンプル (26.56%)
2025-04-29 04:42:24,273 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のシグナル発生率: 26.5625%
2025-04-29 04:42:24,273 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のクラス分布:
2025-04-29 04:42:24,273 - feature_engineering.target - INFO -   クラス 0: 2078 サンプル (72.15%)
2025-04-29 04:42:24,274 - feature_engineering.target - INFO -   クラス 1: 802 サンプル (27.85%)
2025-04-29 04:42:24,274 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のシグナル発生率: 27.8472%
2025-04-29 04:42:24,274 - feature_engineering.target - INFO - 目標変数を含むデータフレームを生成完了。サイズ: (2880, 42)
2025-04-29 04:42:24,274 - feature_engineering - INFO - すべての特徴量を結合中...
2025-04-29 04:42:24,277 - feature_engineering - INFO - 重複列削除後のカラム数: 188
2025-04-29 04:42:24,278 - feature_engineering - INFO - NaNを含む行を削除: 191行 (6.63%)
2025-04-29 04:42:24,278 - feature_engineering.advanced - INFO - フィッシャー変換RSIの特徴量を追加しています
2025-04-29 04:42:24,281 - feature_engineering.selector - INFO - 重要な特徴量を選択しています
2025-04-29 04:42:24,282 - feature_engineering.selector - INFO - 重要な特徴量 66個を選択しました
2025-04-29 04:42:24,282 - feature_engineering - INFO - 生成された目標変数列: ['target_price_change_pct_1', 'target_price_change_pct_2', 'target_price_change_pct_3', 'target_price_direction_1', 'target_price_direction_2', 'target_price_direction_3', 'target_threshold_binary_1', 'target_threshold_binary_2', 'target_threshold_binary_3', 'target_threshold_ternary_1', 'target_threshold_ternary_2', 'target_threshold_ternary_3']
2025-04-29 04:42:24,282 - feature_engineering - INFO - target_threshold_binary_1 の有効サンプル数: 2689 (100.00%)
2025-04-29 04:42:24,283 - feature_engineering - INFO - target_threshold_binary_1 のクラス分布: {1.0: 1358, 0.0: 1331}
2025-04-29 04:42:24,283 - feature_engineering - INFO - target_threshold_binary_2 の有効サンプル数: 2689 (100.00%)
2025-04-29 04:42:24,283 - feature_engineering - INFO - target_threshold_binary_2 のクラス分布: {0.0: 1346, 1.0: 1343}
2025-04-29 04:42:24,283 - feature_engineering - INFO - target_threshold_binary_3 の有効サンプル数: 2689 (100.00%)
2025-04-29 04:42:24,284 - feature_engineering - INFO - target_threshold_binary_3 のクラス分布: {0.0: 1355, 1.0: 1334}
2025-04-29 04:42:24,284 - feature_engineering - INFO - 特徴量生成が完了しました。カラム数: 66, 行数: 2689
2025-04-29 04:42:24,401 - feature_engineering - INFO - 特徴量を data\processed\btcusd_5m_features.csv に保存しました。データサイズ: (2689, 66)
2025-04-29 04:42:24,418 - data_processing - INFO - 特徴量エンジニアリングが完了しました。生成された特徴量: 66列
2025-04-29 04:42:24,418 - data_processing - INFO - 生成された行数: 2689行
2025-04-29 04:42:24,418 - data_processing - INFO - 生成された目標変数: 12個
2025-04-29 04:42:24,418 - data_processing - ERROR - 高閾値シグナル変数が生成されませんでした。target_features.pyの修正が反映されていない可能性があります。
2025-04-29 04:42:24,418 - data_processing - INFO - 標準目標変数: 12個
2025-04-29 04:58:55,146 - data_processing - INFO - サンプルデータの生成を開始
2025-04-29 04:58:55,449 - data_processing - INFO - サンプルデータの生成が完了しました
2025-04-29 04:58:55,449 - data_processing - INFO - 特徴量エンジニアリングを開始
2025-04-29 04:58:56,150 - config_loader - INFO - 設定を config\model_config.json から読み込みました
2025-04-29 04:58:56,150 - data_processing - INFO - 高閾値シグナル設定を追加しました
2025-04-29 04:58:56,150 - data_processing - INFO - 閾値: [0.1, 0.2, 0.3, 0.5]%
2025-04-29 04:58:56,150 - feature_engineering - INFO - データを data\raw\btcusd_5m_data.csv から読み込みます
2025-04-29 04:58:56,165 - feature_engineering - INFO - 2880 行のデータを読み込みました
2025-04-29 04:58:56,165 - feature_engineering - INFO - 特徴量生成を開始。入力データサイズ: (2880, 6)
2025-04-29 04:58:56,165 - feature_engineering - INFO - 設定内容: 分類閾値=0.0001, 目標期間=[1, 2, 3]
2025-04-29 04:58:56,165 - feature_engineering - INFO - 価格変動率特徴量を生成中...
2025-04-29 04:58:56,165 - feature_engineering.price - INFO - 価格変動率とローソク足パターンの特徴量を追加しています
2025-04-29 04:58:56,171 - feature_engineering - INFO - 出来高変動率特徴量を生成中...
2025-04-29 04:58:56,171 - feature_engineering.volume - INFO - 出来高変動率の特徴量を追加しています
2025-04-29 04:58:56,174 - feature_engineering - INFO - 移動平均線特徴量を生成中...
2025-04-29 04:58:56,174 - feature_engineering.moving_average - INFO - 移動平均線と乖離率の特徴量を追加しています
2025-04-29 04:58:56,197 - feature_engineering - INFO - RSI特徴量を生成中...
2025-04-29 04:58:56,197 - feature_engineering.oscillator - INFO - RSIの特徴量を追加しています
2025-04-29 04:58:56,200 - feature_engineering - INFO - 高値/安値特徴量を生成中...
2025-04-29 04:58:56,200 - feature_engineering.price - INFO - 高値/安値からの距離の特徴量を追加しています
2025-04-29 04:58:56,203 - feature_engineering - INFO - ボリンジャーバンド特徴量を生成中...
2025-04-29 04:58:56,203 - feature_engineering.volatility - INFO - ボリンジャーバンドの特徴量を追加しています
2025-04-29 04:58:56,205 - feature_engineering - INFO - MACD特徴量を生成中...
2025-04-29 04:58:56,205 - feature_engineering.oscillator - INFO - MACDの特徴量を追加しています
2025-04-29 04:58:56,206 - feature_engineering - INFO - ストキャスティクス特徴量を生成中...
2025-04-29 04:58:56,206 - feature_engineering.oscillator - INFO - ストキャスティクスの特徴量を追加しています
2025-04-29 04:58:56,207 - feature_engineering - INFO - ATR特徴量を生成中...
2025-04-29 04:58:56,207 - feature_engineering.volatility - INFO - ATRの特徴量を追加しています
2025-04-29 04:58:56,208 - feature_engineering - INFO - 高度な特徴量を生成中...
2025-04-29 04:58:56,209 - feature_engineering.advanced - INFO - 高度な特徴量を追加しています
2025-04-29 04:58:56,377 - feature_engineering - INFO - 目標変数を生成中...
2025-04-29 04:58:56,377 - feature_engineering - INFO - 高閾値シグナル設定を検出: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 04:58:56,377 - feature_engineering.target - INFO - === 予測対象の目標変数を生成しています ===
2025-04-29 04:58:56,377 - feature_engineering.target - INFO - 分類閾値: 0.0001, 予測期間: [1, 2, 3]
2025-04-29 04:58:56,378 - feature_engineering.target - INFO - ボラティリティの平均: 0.006689
2025-04-29 04:58:56,378 - feature_engineering.target - INFO - 外部設定からの高閾値シグナル設定: [0.1, 0.2, 0.3, 0.5]%
2025-04-29 04:58:56,378 - feature_engineering.target - INFO - 方向: ['long', 'short'], 期間: [1, 2, 3]
2025-04-29 04:58:56,378 - feature_engineering.target - INFO - 期間 1 の目標変数を生成中...
2025-04-29 04:58:56,379 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_1 を生成しました
2025-04-29 04:58:56,379 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_1 を生成しました
2025-04-29 04:58:56,379 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_1 を生成しました
2025-04-29 04:58:56,380 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_1 を生成しました
2025-04-29 04:58:56,380 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_1 を生成しました
2025-04-29 04:58:56,380 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_1 を生成しました
2025-04-29 04:58:56,380 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_1 を生成しました
2025-04-29 04:58:56,380 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_1 を生成しました
2025-04-29 04:58:56,380 - feature_engineering.target - INFO - 期間 2 の目標変数を生成中...
2025-04-29 04:58:56,381 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_2 を生成しました
2025-04-29 04:58:56,381 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_2 を生成しました
2025-04-29 04:58:56,381 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_2 を生成しました
2025-04-29 04:58:56,381 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_2 を生成しました
2025-04-29 04:58:56,382 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_2 を生成しました
2025-04-29 04:58:56,382 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_2 を生成しました
2025-04-29 04:58:56,382 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_2 を生成しました
2025-04-29 04:58:56,382 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_2 を生成しました
2025-04-29 04:58:56,382 - feature_engineering.target - INFO - 期間 3 の目標変数を生成中...
2025-04-29 04:58:56,383 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_3 を生成しました
2025-04-29 04:58:56,383 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_3 を生成しました
2025-04-29 04:58:56,383 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_3 を生成しました
2025-04-29 04:58:56,384 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_3 を生成しました
2025-04-29 04:58:56,384 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_3 を生成しました
2025-04-29 04:58:56,384 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_3 を生成しました
2025-04-29 04:58:56,384 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_3 を生成しました
2025-04-29 04:58:56,384 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_3 を生成しました
2025-04-29 04:58:56,385 - feature_engineering.target - INFO - === 生成された目標変数の統計情報 ===
2025-04-29 04:58:56,385 - feature_engineering.target - INFO - ---- 期間 1 の統計情報 ----
2025-04-29 04:58:56,386 - feature_engineering.target - INFO - target_price_change_pct_1 の統計: min=-0.018554, max=0.018836, mean=-0.000032
2025-04-29 04:58:56,387 - feature_engineering.target - INFO - target_threshold_ternary_1 のクラス分布:
2025-04-29 04:58:56,387 - feature_engineering.target - INFO -   クラス 0: 1437 サンプル (49.90%)
2025-04-29 04:58:56,387 - feature_engineering.target - INFO -   クラス 1: 1411 サンプル (48.99%)
2025-04-29 04:58:56,387 - feature_engineering.target - INFO -   クラス 2: 32 サンプル (1.11%)
2025-04-29 04:58:56,388 - feature_engineering.target - INFO - target_threshold_binary_1 のNaN: 32 サンプル (1.11%)
2025-04-29 04:58:56,388 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値クラス分布:
2025-04-29 04:58:56,388 - feature_engineering.target - INFO -   クラス 0.0: 1437 サンプル (50.46%)
2025-04-29 04:58:56,388 - feature_engineering.target - INFO -   クラス 1.0: 1411 サンプル (49.54%)
2025-04-29 04:58:56,388 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値数: 2848 (98.89%)
2025-04-29 04:58:56,389 - feature_engineering.target - INFO - target_threshold_binary_1 のクラスバランス比率: 0.9819 (1に近いほど均等)
2025-04-29 04:58:56,389 - feature_engineering.target - INFO - target_price_direction_1 のクラス分布:
2025-04-29 04:58:56,389 - feature_engineering.target - INFO -   クラス -1: 1437 サンプル (49.90%)
2025-04-29 04:58:56,389 - feature_engineering.target - INFO -   クラス 1: 1411 サンプル (48.99%)
2025-04-29 04:58:56,389 - feature_engineering.target - INFO -   クラス 0: 32 サンプル (1.11%)
2025-04-29 04:58:56,389 - feature_engineering.target - INFO - target_price_direction_1 のクラスバランス比率: 0.0223 (1に近いほど均等)
2025-04-29 04:58:56,390 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のクラス分布:
2025-04-29 04:58:56,390 - feature_engineering.target - INFO -   クラス 0: 1642 サンプル (57.01%)
2025-04-29 04:58:56,390 - feature_engineering.target - INFO -   クラス 1: 1238 サンプル (42.99%)
2025-04-29 04:58:56,390 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のシグナル発生率: 42.9861%
2025-04-29 04:58:56,391 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のクラス分布:
2025-04-29 04:58:56,391 - feature_engineering.target - INFO -   クラス 0: 1590 サンプル (55.21%)
2025-04-29 04:58:56,391 - feature_engineering.target - INFO -   クラス 1: 1290 サンプル (44.79%)
2025-04-29 04:58:56,391 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のシグナル発生率: 44.7917%
2025-04-29 04:58:56,391 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のクラス分布:
2025-04-29 04:58:56,391 - feature_engineering.target - INFO -   クラス 0: 1800 サンプル (62.50%)
2025-04-29 04:58:56,391 - feature_engineering.target - INFO -   クラス 1: 1080 サンプル (37.50%)
2025-04-29 04:58:56,392 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のシグナル発生率: 37.5000%
2025-04-29 04:58:56,392 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のクラス分布:
2025-04-29 04:58:56,392 - feature_engineering.target - INFO -   クラス 0: 1756 サンプル (60.97%)
2025-04-29 04:58:56,392 - feature_engineering.target - INFO -   クラス 1: 1124 サンプル (39.03%)
2025-04-29 04:58:56,392 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のシグナル発生率: 39.0278%
2025-04-29 04:58:56,393 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のクラス分布:
2025-04-29 04:58:56,393 - feature_engineering.target - INFO -   クラス 0: 1958 サンプル (67.99%)
2025-04-29 04:58:56,393 - feature_engineering.target - INFO -   クラス 1: 922 サンプル (32.01%)
2025-04-29 04:58:56,393 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のシグナル発生率: 32.0139%
2025-04-29 04:58:56,393 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のクラス分布:
2025-04-29 04:58:56,393 - feature_engineering.target - INFO -   クラス 0: 1905 サンプル (66.15%)
2025-04-29 04:58:56,393 - feature_engineering.target - INFO -   クラス 1: 975 サンプル (33.85%)
2025-04-29 04:58:56,394 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のシグナル発生率: 33.8542%
2025-04-29 04:58:56,394 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のクラス分布:
2025-04-29 04:58:56,394 - feature_engineering.target - INFO -   クラス 0: 2198 サンプル (76.32%)
2025-04-29 04:58:56,394 - feature_engineering.target - INFO -   クラス 1: 682 サンプル (23.68%)
2025-04-29 04:58:56,394 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のシグナル発生率: 23.6806%
2025-04-29 04:58:56,394 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のクラス分布:
2025-04-29 04:58:56,395 - feature_engineering.target - INFO -   クラス 0: 2200 サンプル (76.39%)
2025-04-29 04:58:56,395 - feature_engineering.target - INFO -   クラス 1: 680 サンプル (23.61%)
2025-04-29 04:58:56,395 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のシグナル発生率: 23.6111%
2025-04-29 04:58:56,395 - feature_engineering.target - INFO - ---- 期間 2 の統計情報 ----
2025-04-29 04:58:56,396 - feature_engineering.target - INFO - target_price_change_pct_2 の統計: min=-0.023168, max=0.022117, mean=-0.000080
2025-04-29 04:58:56,396 - feature_engineering.target - INFO - target_threshold_ternary_2 のクラス分布:
2025-04-29 04:58:56,396 - feature_engineering.target - INFO -   クラス 0: 1472 サンプル (51.11%)
2025-04-29 04:58:56,396 - feature_engineering.target - INFO -   クラス 1: 1380 サンプル (47.92%)
2025-04-29 04:58:56,396 - feature_engineering.target - INFO -   クラス 2: 28 サンプル (0.97%)
2025-04-29 04:58:56,397 - feature_engineering.target - INFO - target_threshold_binary_2 のNaN: 28 サンプル (0.97%)
2025-04-29 04:58:56,397 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値クラス分布:
2025-04-29 04:58:56,397 - feature_engineering.target - INFO -   クラス 0.0: 1472 サンプル (51.61%)
2025-04-29 04:58:56,398 - feature_engineering.target - INFO -   クラス 1.0: 1380 サンプル (48.39%)
2025-04-29 04:58:56,398 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値数: 2852 (99.03%)
2025-04-29 04:58:56,398 - feature_engineering.target - INFO - target_threshold_binary_2 のクラスバランス比率: 0.9375 (1に近いほど均等)
2025-04-29 04:58:56,398 - feature_engineering.target - INFO - target_price_direction_2 のクラス分布:
2025-04-29 04:58:56,398 - feature_engineering.target - INFO -   クラス -1: 1472 サンプル (51.11%)
2025-04-29 04:58:56,398 - feature_engineering.target - INFO -   クラス 1: 1380 サンプル (47.92%)
2025-04-29 04:58:56,398 - feature_engineering.target - INFO -   クラス 0: 28 サンプル (0.97%)
2025-04-29 04:58:56,399 - feature_engineering.target - INFO - target_price_direction_2 のクラスバランス比率: 0.0190 (1に近いほど均等)
2025-04-29 04:58:56,399 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のクラス分布:
2025-04-29 04:58:56,399 - feature_engineering.target - INFO -   クラス 0: 1620 サンプル (56.25%)
2025-04-29 04:58:56,399 - feature_engineering.target - INFO -   クラス 1: 1260 サンプル (43.75%)
2025-04-29 04:58:56,399 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のシグナル発生率: 43.7500%
2025-04-29 04:58:56,400 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のクラス分布:
2025-04-29 04:58:56,400 - feature_engineering.target - INFO -   クラス 0: 1548 サンプル (53.75%)
2025-04-29 04:58:56,400 - feature_engineering.target - INFO -   クラス 1: 1332 サンプル (46.25%)
2025-04-29 04:58:56,400 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のシグナル発生率: 46.2500%
2025-04-29 04:58:56,400 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のクラス分布:
2025-04-29 04:58:56,400 - feature_engineering.target - INFO -   クラス 0: 1765 サンプル (61.28%)
2025-04-29 04:58:56,400 - feature_engineering.target - INFO -   クラス 1: 1115 サンプル (38.72%)
2025-04-29 04:58:56,400 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のシグナル発生率: 38.7153%
2025-04-29 04:58:56,401 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のクラス分布:
2025-04-29 04:58:56,401 - feature_engineering.target - INFO -   クラス 0: 1705 サンプル (59.20%)
2025-04-29 04:58:56,401 - feature_engineering.target - INFO -   クラス 1: 1175 サンプル (40.80%)
2025-04-29 04:58:56,401 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のシグナル発生率: 40.7986%
2025-04-29 04:58:56,402 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のクラス分布:
2025-04-29 04:58:56,402 - feature_engineering.target - INFO -   クラス 0: 1918 サンプル (66.60%)
2025-04-29 04:58:56,402 - feature_engineering.target - INFO -   クラス 1: 962 サンプル (33.40%)
2025-04-29 04:58:56,402 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のシグナル発生率: 33.4028%
2025-04-29 04:58:56,402 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のクラス分布:
2025-04-29 04:58:56,403 - feature_engineering.target - INFO -   クラス 0: 1837 サンプル (63.78%)
2025-04-29 04:58:56,403 - feature_engineering.target - INFO -   クラス 1: 1043 サンプル (36.22%)
2025-04-29 04:58:56,403 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のシグナル発生率: 36.2153%
2025-04-29 04:58:56,403 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のクラス分布:
2025-04-29 04:58:56,403 - feature_engineering.target - INFO -   クラス 0: 2153 サンプル (74.76%)
2025-04-29 04:58:56,403 - feature_engineering.target - INFO -   クラス 1: 727 サンプル (25.24%)
2025-04-29 04:58:56,403 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のシグナル発生率: 25.2431%
2025-04-29 04:58:56,404 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のクラス分布:
2025-04-29 04:58:56,404 - feature_engineering.target - INFO -   クラス 0: 2133 サンプル (74.06%)
2025-04-29 04:58:56,404 - feature_engineering.target - INFO -   クラス 1: 747 サンプル (25.94%)
2025-04-29 04:58:56,404 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のシグナル発生率: 25.9375%
2025-04-29 04:58:56,404 - feature_engineering.target - INFO - ---- 期間 3 の統計情報 ----
2025-04-29 04:58:56,405 - feature_engineering.target - INFO - target_price_change_pct_3 の統計: min=-0.023357, max=0.025664, mean=-0.000130
2025-04-29 04:58:56,405 - feature_engineering.target - INFO - target_threshold_ternary_3 のクラス分布:
2025-04-29 04:58:56,405 - feature_engineering.target - INFO -   クラス 0: 1460 サンプル (50.69%)
2025-04-29 04:58:56,405 - feature_engineering.target - INFO -   クラス 1: 1389 サンプル (48.23%)
2025-04-29 04:58:56,406 - feature_engineering.target - INFO -   クラス 2: 31 サンプル (1.08%)
2025-04-29 04:58:56,406 - feature_engineering.target - INFO - target_threshold_binary_3 のNaN: 31 サンプル (1.08%)
2025-04-29 04:58:56,406 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値クラス分布:
2025-04-29 04:58:56,406 - feature_engineering.target - INFO -   クラス 0.0: 1460 サンプル (51.25%)
2025-04-29 04:58:56,406 - feature_engineering.target - INFO -   クラス 1.0: 1389 サンプル (48.75%)
2025-04-29 04:58:56,407 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値数: 2849 (98.92%)
2025-04-29 04:58:56,407 - feature_engineering.target - INFO - target_threshold_binary_3 のクラスバランス比率: 0.9514 (1に近いほど均等)
2025-04-29 04:58:56,407 - feature_engineering.target - INFO - target_price_direction_3 のクラス分布:
2025-04-29 04:58:56,407 - feature_engineering.target - INFO -   クラス -1: 1460 サンプル (50.69%)
2025-04-29 04:58:56,407 - feature_engineering.target - INFO -   クラス 1: 1389 サンプル (48.23%)
2025-04-29 04:58:56,407 - feature_engineering.target - INFO -   クラス 0: 31 サンプル (1.08%)
2025-04-29 04:58:56,407 - feature_engineering.target - INFO - target_price_direction_3 のクラスバランス比率: 0.0212 (1に近いほど均等)
2025-04-29 04:58:56,408 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のクラス分布:
2025-04-29 04:58:56,408 - feature_engineering.target - INFO -   クラス 0: 1621 サンプル (56.28%)
2025-04-29 04:58:56,408 - feature_engineering.target - INFO -   クラス 1: 1259 サンプル (43.72%)
2025-04-29 04:58:56,408 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のシグナル発生率: 43.7153%
2025-04-29 04:58:56,409 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のクラス分布:
2025-04-29 04:58:56,409 - feature_engineering.target - INFO -   クラス 0: 1550 サンプル (53.82%)
2025-04-29 04:58:56,409 - feature_engineering.target - INFO -   クラス 1: 1330 サンプル (46.18%)
2025-04-29 04:58:56,409 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のシグナル発生率: 46.1806%
2025-04-29 04:58:56,409 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のクラス分布:
2025-04-29 04:58:56,409 - feature_engineering.target - INFO -   クラス 0: 1761 サンプル (61.15%)
2025-04-29 04:58:56,409 - feature_engineering.target - INFO -   クラス 1: 1119 サンプル (38.85%)
2025-04-29 04:58:56,410 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のシグナル発生率: 38.8542%
2025-04-29 04:58:56,410 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のクラス分布:
2025-04-29 04:58:56,410 - feature_engineering.target - INFO -   クラス 0: 1705 サンプル (59.20%)
2025-04-29 04:58:56,410 - feature_engineering.target - INFO -   クラス 1: 1175 サンプル (40.80%)
2025-04-29 04:58:56,410 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のシグナル発生率: 40.7986%
2025-04-29 04:58:56,411 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のクラス分布:
2025-04-29 04:58:56,411 - feature_engineering.target - INFO -   クラス 0: 1890 サンプル (65.62%)
2025-04-29 04:58:56,411 - feature_engineering.target - INFO -   クラス 1: 990 サンプル (34.38%)
2025-04-29 04:58:56,411 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のシグナル発生率: 34.3750%
2025-04-29 04:58:56,411 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のクラス分布:
2025-04-29 04:58:56,411 - feature_engineering.target - INFO -   クラス 0: 1851 サンプル (64.27%)
2025-04-29 04:58:56,411 - feature_engineering.target - INFO -   クラス 1: 1029 サンプル (35.73%)
2025-04-29 04:58:56,411 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のシグナル発生率: 35.7292%
2025-04-29 04:58:56,412 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のクラス分布:
2025-04-29 04:58:56,412 - feature_engineering.target - INFO -   クラス 0: 2114 サンプル (73.40%)
2025-04-29 04:58:56,412 - feature_engineering.target - INFO -   クラス 1: 766 サンプル (26.60%)
2025-04-29 04:58:56,412 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のシグナル発生率: 26.5972%
2025-04-29 04:58:56,413 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のクラス分布:
2025-04-29 04:58:56,413 - feature_engineering.target - INFO -   クラス 0: 2092 サンプル (72.64%)
2025-04-29 04:58:56,413 - feature_engineering.target - INFO -   クラス 1: 788 サンプル (27.36%)
2025-04-29 04:58:56,413 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のシグナル発生率: 27.3611%
2025-04-29 04:58:56,413 - feature_engineering.target - INFO - 生成された高閾値シグナル変数: 24個
2025-04-29 04:58:56,414 - feature_engineering.target - INFO -   1. target_high_threshold_1p_long_1: シグナル比率 42.99%
2025-04-29 04:58:56,414 - feature_engineering.target - INFO -   2. target_high_threshold_1p_short_1: シグナル比率 44.79%
2025-04-29 04:58:56,414 - feature_engineering.target - INFO -   3. target_high_threshold_2p_long_1: シグナル比率 37.50%
2025-04-29 04:58:56,415 - feature_engineering.target - INFO -   4. target_high_threshold_2p_short_1: シグナル比率 39.03%
2025-04-29 04:58:56,415 - feature_engineering.target - INFO -   5. target_high_threshold_3p_long_1: シグナル比率 32.01%
2025-04-29 04:58:56,415 - feature_engineering.target - INFO -   6. target_high_threshold_3p_short_1: シグナル比率 33.85%
2025-04-29 04:58:56,415 - feature_engineering.target - INFO -   7. target_high_threshold_5p_long_1: シグナル比率 23.68%
2025-04-29 04:58:56,416 - feature_engineering.target - INFO -   8. target_high_threshold_5p_short_1: シグナル比率 23.61%
2025-04-29 04:58:56,416 - feature_engineering.target - INFO -   9. target_high_threshold_1p_long_2: シグナル比率 43.75%
2025-04-29 04:58:56,416 - feature_engineering.target - INFO -   10. target_high_threshold_1p_short_2: シグナル比率 46.25%
2025-04-29 04:58:56,416 - feature_engineering.target - INFO -   ...他 14 個
2025-04-29 04:58:56,416 - feature_engineering.target - INFO - 目標変数を含むデータフレームを生成完了。サイズ: (2880, 42)
2025-04-29 04:58:56,416 - feature_engineering - INFO - すべての特徴量を結合中...
2025-04-29 04:58:56,419 - feature_engineering - INFO - 重複列削除後のカラム数: 188
2025-04-29 04:58:56,421 - feature_engineering - INFO - NaNを含む行を削除: 180行 (6.25%)
2025-04-29 04:58:56,422 - feature_engineering.advanced - INFO - フィッシャー変換RSIの特徴量を追加しています
2025-04-29 04:58:56,424 - feature_engineering.selector - INFO - 重要な特徴量を選択しています
2025-04-29 04:58:56,425 - feature_engineering.selector - INFO - 重要な特徴量 66個を選択しました
2025-04-29 04:58:56,425 - feature_engineering - INFO - 生成された目標変数列: ['target_price_change_pct_1', 'target_price_change_pct_2', 'target_price_change_pct_3', 'target_price_direction_1', 'target_price_direction_2', 'target_price_direction_3', 'target_threshold_binary_1', 'target_threshold_binary_2', 'target_threshold_binary_3', 'target_threshold_ternary_1', 'target_threshold_ternary_2', 'target_threshold_ternary_3']
2025-04-29 04:58:56,426 - feature_engineering - INFO - target_threshold_binary_1 の有効サンプル数: 2700 (100.00%)
2025-04-29 04:58:56,426 - feature_engineering - INFO - target_threshold_binary_1 のクラス分布: {0.0: 1371, 1.0: 1329}
2025-04-29 04:58:56,426 - feature_engineering - INFO - target_threshold_binary_2 の有効サンプル数: 2700 (100.00%)
2025-04-29 04:58:56,426 - feature_engineering - INFO - target_threshold_binary_2 のクラス分布: {0.0: 1393, 1.0: 1307}
2025-04-29 04:58:56,426 - feature_engineering - INFO - target_threshold_binary_3 の有効サンプル数: 2700 (100.00%)
2025-04-29 04:58:56,427 - feature_engineering - INFO - target_threshold_binary_3 のクラス分布: {0.0: 1375, 1.0: 1325}
2025-04-29 04:58:56,427 - feature_engineering - INFO - 特徴量生成が完了しました。カラム数: 66, 行数: 2700
2025-04-29 04:58:56,543 - feature_engineering - INFO - 特徴量を data\processed\btcusd_5m_features.csv に保存しました。データサイズ: (2700, 66)
2025-04-29 04:58:56,560 - data_processing - INFO - 特徴量エンジニアリングが完了しました。生成された特徴量: 66列
2025-04-29 04:58:56,561 - data_processing - INFO - 生成された行数: 2700行
2025-04-29 04:58:56,561 - data_processing - INFO - 生成された目標変数: 12個
2025-04-29 04:58:56,561 - data_processing - ERROR - 高閾値シグナル変数が生成されませんでした。target_features.pyの修正が反映されていない可能性があります。
2025-04-29 04:58:56,561 - data_processing - INFO - 標準目標変数: 12個
2025-04-29 05:00:41,071 - data_processing - INFO - サンプルデータの生成を開始
2025-04-29 05:00:41,368 - data_processing - INFO - サンプルデータの生成が完了しました
2025-04-29 05:00:41,369 - data_processing - INFO - 特徴量エンジニアリングを開始
2025-04-29 05:00:42,069 - config_loader - INFO - 設定を config\model_config.json から読み込みました
2025-04-29 05:00:42,069 - data_processing - INFO - 高閾値シグナル設定を追加しました
2025-04-29 05:00:42,069 - data_processing - INFO - 閾値: [0.1, 0.2, 0.3, 0.5]%
2025-04-29 05:00:42,069 - feature_engineering - INFO - DEBUG: generate_optimized_features関数が呼び出されました
2025-04-29 05:00:42,069 - feature_engineering - INFO - DEBUG: 渡された設定キー: ['input_dir', 'input_filename', 'output_dir', 'output_filename', 'classification_threshold', 'target_periods', 'features', 'vwap_period', 'ma_periods', 'rsi_periods', 'bollinger_period', 'bollinger_std', 'macd_params', 'stochastic_params', 'atr_period', 'high_threshold_models']
2025-04-29 05:00:42,069 - feature_engineering - INFO - DEBUG: high_threshold_modelsの内容: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:00:42,069 - feature_engineering - INFO - DEBUG: FeatureGeneratorBase.__init__ が呼び出されました
2025-04-29 05:00:42,070 - feature_engineering - INFO - DEBUG: 渡された設定キー: ['input_dir', 'input_filename', 'output_dir', 'output_filename', 'classification_threshold', 'target_periods', 'features', 'vwap_period', 'ma_periods', 'rsi_periods', 'bollinger_period', 'bollinger_std', 'macd_params', 'stochastic_params', 'atr_period', 'high_threshold_models']
2025-04-29 05:00:42,070 - feature_engineering - INFO - DEBUG: high_threshold_modelsの内容: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:00:42,070 - feature_engineering - INFO - データを data\raw\btcusd_5m_data.csv から読み込みます
2025-04-29 05:00:42,084 - feature_engineering - INFO - 2880 行のデータを読み込みました
2025-04-29 05:00:42,085 - feature_engineering - INFO - 特徴量生成を開始。入力データサイズ: (2880, 6)
2025-04-29 05:00:42,085 - feature_engineering - INFO - 設定内容: 分類閾値=0.0001, 目標期間=[1, 2, 3]
2025-04-29 05:00:42,085 - feature_engineering - INFO - 価格変動率特徴量を生成中...
2025-04-29 05:00:42,085 - feature_engineering.price - INFO - 価格変動率とローソク足パターンの特徴量を追加しています
2025-04-29 05:00:42,090 - feature_engineering - INFO - 出来高変動率特徴量を生成中...
2025-04-29 05:00:42,090 - feature_engineering.volume - INFO - 出来高変動率の特徴量を追加しています
2025-04-29 05:00:42,093 - feature_engineering - INFO - 移動平均線特徴量を生成中...
2025-04-29 05:00:42,093 - feature_engineering.moving_average - INFO - 移動平均線と乖離率の特徴量を追加しています
2025-04-29 05:00:42,116 - feature_engineering - INFO - RSI特徴量を生成中...
2025-04-29 05:00:42,116 - feature_engineering.oscillator - INFO - RSIの特徴量を追加しています
2025-04-29 05:00:42,119 - feature_engineering - INFO - 高値/安値特徴量を生成中...
2025-04-29 05:00:42,119 - feature_engineering.price - INFO - 高値/安値からの距離の特徴量を追加しています
2025-04-29 05:00:42,122 - feature_engineering - INFO - ボリンジャーバンド特徴量を生成中...
2025-04-29 05:00:42,122 - feature_engineering.volatility - INFO - ボリンジャーバンドの特徴量を追加しています
2025-04-29 05:00:42,124 - feature_engineering - INFO - MACD特徴量を生成中...
2025-04-29 05:00:42,124 - feature_engineering.oscillator - INFO - MACDの特徴量を追加しています
2025-04-29 05:00:42,125 - feature_engineering - INFO - ストキャスティクス特徴量を生成中...
2025-04-29 05:00:42,125 - feature_engineering.oscillator - INFO - ストキャスティクスの特徴量を追加しています
2025-04-29 05:00:42,126 - feature_engineering - INFO - ATR特徴量を生成中...
2025-04-29 05:00:42,126 - feature_engineering.volatility - INFO - ATRの特徴量を追加しています
2025-04-29 05:00:42,128 - feature_engineering - INFO - 高度な特徴量を生成中...
2025-04-29 05:00:42,128 - feature_engineering.advanced - INFO - 高度な特徴量を追加しています
2025-04-29 05:00:42,296 - feature_engineering - INFO - 目標変数を生成中...
2025-04-29 05:00:42,296 - feature_engineering - INFO - 高閾値シグナル設定を検出: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:00:42,296 - feature_engineering.target - INFO - DEBUG: generate_target_features 関数が呼び出されました
2025-04-29 05:00:42,297 - feature_engineering.target - INFO - DEBUG: 引数 - periods=[1, 2, 3], threshold=0.0001, high_config={'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:00:42,297 - feature_engineering.target - INFO - === 予測対象の目標変数を生成しています ===
2025-04-29 05:00:42,297 - feature_engineering.target - INFO - 分類閾値: 0.0001, 予測期間: [1, 2, 3]
2025-04-29 05:00:42,297 - feature_engineering.target - INFO - ボラティリティの平均: 0.006695
2025-04-29 05:00:42,297 - feature_engineering.target - INFO - 外部設定からの高閾値シグナル設定: [0.1, 0.2, 0.3, 0.5]%
2025-04-29 05:00:42,298 - feature_engineering.target - INFO - 方向: ['long', 'short'], 期間: [1, 2, 3]
2025-04-29 05:00:42,298 - feature_engineering.target - INFO - 期間 1 の目標変数を生成中...
2025-04-29 05:00:42,298 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_1 を生成しました
2025-04-29 05:00:42,299 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_1 を生成しました
2025-04-29 05:00:42,299 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_1 を生成しました
2025-04-29 05:00:42,299 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_1 を生成しました
2025-04-29 05:00:42,299 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_1 を生成しました
2025-04-29 05:00:42,299 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_1 を生成しました
2025-04-29 05:00:42,299 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_1 を生成しました
2025-04-29 05:00:42,299 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_1 を生成しました
2025-04-29 05:00:42,299 - feature_engineering.target - INFO - 期間 2 の目標変数を生成中...
2025-04-29 05:00:42,300 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_2 を生成しました
2025-04-29 05:00:42,300 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_2 を生成しました
2025-04-29 05:00:42,301 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_2 を生成しました
2025-04-29 05:00:42,301 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_2 を生成しました
2025-04-29 05:00:42,301 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_2 を生成しました
2025-04-29 05:00:42,301 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_2 を生成しました
2025-04-29 05:00:42,301 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_2 を生成しました
2025-04-29 05:00:42,301 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_2 を生成しました
2025-04-29 05:00:42,301 - feature_engineering.target - INFO - 期間 3 の目標変数を生成中...
2025-04-29 05:00:42,303 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_3 を生成しました
2025-04-29 05:00:42,303 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_3 を生成しました
2025-04-29 05:00:42,303 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_3 を生成しました
2025-04-29 05:00:42,303 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_3 を生成しました
2025-04-29 05:00:42,303 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_3 を生成しました
2025-04-29 05:00:42,303 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_3 を生成しました
2025-04-29 05:00:42,304 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_3 を生成しました
2025-04-29 05:00:42,304 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_3 を生成しました
2025-04-29 05:00:42,305 - feature_engineering.target - INFO - === 生成された目標変数の統計情報 ===
2025-04-29 05:00:42,305 - feature_engineering.target - INFO - ---- 期間 1 の統計情報 ----
2025-04-29 05:00:42,306 - feature_engineering.target - INFO - target_price_change_pct_1 の統計: min=-0.018101, max=0.018412, mean=-0.000054
2025-04-29 05:00:42,306 - feature_engineering.target - INFO - target_threshold_ternary_1 のクラス分布:
2025-04-29 05:00:42,306 - feature_engineering.target - INFO -   クラス 1: 1423 サンプル (49.41%)
2025-04-29 05:00:42,307 - feature_engineering.target - INFO -   クラス 0: 1421 サンプル (49.34%)
2025-04-29 05:00:42,307 - feature_engineering.target - INFO -   クラス 2: 36 サンプル (1.25%)
2025-04-29 05:00:42,307 - feature_engineering.target - INFO - target_threshold_binary_1 のNaN: 36 サンプル (1.25%)
2025-04-29 05:00:42,307 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値クラス分布:
2025-04-29 05:00:42,307 - feature_engineering.target - INFO -   クラス 1.0: 1423 サンプル (50.04%)
2025-04-29 05:00:42,308 - feature_engineering.target - INFO -   クラス 0.0: 1421 サンプル (49.96%)
2025-04-29 05:00:42,308 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値数: 2844 (98.75%)
2025-04-29 05:00:42,308 - feature_engineering.target - INFO - target_threshold_binary_1 のクラスバランス比率: 0.9986 (1に近いほど均等)
2025-04-29 05:00:42,308 - feature_engineering.target - INFO - target_price_direction_1 のクラス分布:
2025-04-29 05:00:42,308 - feature_engineering.target - INFO -   クラス 1: 1423 サンプル (49.41%)
2025-04-29 05:00:42,308 - feature_engineering.target - INFO -   クラス -1: 1421 サンプル (49.34%)
2025-04-29 05:00:42,309 - feature_engineering.target - INFO -   クラス 0: 36 サンプル (1.25%)
2025-04-29 05:00:42,309 - feature_engineering.target - INFO - target_price_direction_1 のクラスバランス比率: 0.0253 (1に近いほど均等)
2025-04-29 05:00:42,309 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のクラス分布:
2025-04-29 05:00:42,309 - feature_engineering.target - INFO -   クラス 0: 1619 サンプル (56.22%)
2025-04-29 05:00:42,309 - feature_engineering.target - INFO -   クラス 1: 1261 サンプル (43.78%)
2025-04-29 05:00:42,309 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のシグナル発生率: 43.7847%
2025-04-29 05:00:42,310 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のクラス分布:
2025-04-29 05:00:42,310 - feature_engineering.target - INFO -   クラス 0: 1619 サンプル (56.22%)
2025-04-29 05:00:42,310 - feature_engineering.target - INFO -   クラス 1: 1261 サンプル (43.78%)
2025-04-29 05:00:42,310 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のシグナル発生率: 43.7847%
2025-04-29 05:00:42,310 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のクラス分布:
2025-04-29 05:00:42,310 - feature_engineering.target - INFO -   クラス 0: 1790 サンプル (62.15%)
2025-04-29 05:00:42,311 - feature_engineering.target - INFO -   クラス 1: 1090 サンプル (37.85%)
2025-04-29 05:00:42,311 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のシグナル発生率: 37.8472%
2025-04-29 05:00:42,311 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のクラス分布:
2025-04-29 05:00:42,311 - feature_engineering.target - INFO -   クラス 0: 1778 サンプル (61.74%)
2025-04-29 05:00:42,311 - feature_engineering.target - INFO -   クラス 1: 1102 サンプル (38.26%)
2025-04-29 05:00:42,311 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のシグナル発生率: 38.2639%
2025-04-29 05:00:42,312 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のクラス分布:
2025-04-29 05:00:42,312 - feature_engineering.target - INFO -   クラス 0: 1919 サンプル (66.63%)
2025-04-29 05:00:42,312 - feature_engineering.target - INFO -   クラス 1: 961 サンプル (33.37%)
2025-04-29 05:00:42,312 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のシグナル発生率: 33.3681%
2025-04-29 05:00:42,312 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のクラス分布:
2025-04-29 05:00:42,312 - feature_engineering.target - INFO -   クラス 0: 1931 サンプル (67.05%)
2025-04-29 05:00:42,313 - feature_engineering.target - INFO -   クラス 1: 949 サンプル (32.95%)
2025-04-29 05:00:42,313 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のシグナル発生率: 32.9514%
2025-04-29 05:00:42,313 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のクラス分布:
2025-04-29 05:00:42,313 - feature_engineering.target - INFO -   クラス 0: 2209 サンプル (76.70%)
2025-04-29 05:00:42,313 - feature_engineering.target - INFO -   クラス 1: 671 サンプル (23.30%)
2025-04-29 05:00:42,314 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のシグナル発生率: 23.2986%
2025-04-29 05:00:42,314 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のクラス分布:
2025-04-29 05:00:42,314 - feature_engineering.target - INFO -   クラス 0: 2206 サンプル (76.60%)
2025-04-29 05:00:42,314 - feature_engineering.target - INFO -   クラス 1: 674 サンプル (23.40%)
2025-04-29 05:00:42,314 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のシグナル発生率: 23.4028%
2025-04-29 05:00:42,314 - feature_engineering.target - INFO - ---- 期間 2 の統計情報 ----
2025-04-29 05:00:42,315 - feature_engineering.target - INFO - target_price_change_pct_2 の統計: min=-0.021340, max=0.020774, mean=-0.000126
2025-04-29 05:00:42,316 - feature_engineering.target - INFO - target_threshold_ternary_2 のクラス分布:
2025-04-29 05:00:42,316 - feature_engineering.target - INFO -   クラス 0: 1442 サンプル (50.07%)
2025-04-29 05:00:42,316 - feature_engineering.target - INFO -   クラス 1: 1402 サンプル (48.68%)
2025-04-29 05:00:42,316 - feature_engineering.target - INFO -   クラス 2: 36 サンプル (1.25%)
2025-04-29 05:00:42,316 - feature_engineering.target - INFO - target_threshold_binary_2 のNaN: 36 サンプル (1.25%)
2025-04-29 05:00:42,317 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値クラス分布:
2025-04-29 05:00:42,317 - feature_engineering.target - INFO -   クラス 0.0: 1442 サンプル (50.70%)
2025-04-29 05:00:42,317 - feature_engineering.target - INFO -   クラス 1.0: 1402 サンプル (49.30%)
2025-04-29 05:00:42,317 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値数: 2844 (98.75%)
2025-04-29 05:00:42,317 - feature_engineering.target - INFO - target_threshold_binary_2 のクラスバランス比率: 0.9723 (1に近いほど均等)
2025-04-29 05:00:42,318 - feature_engineering.target - INFO - target_price_direction_2 のクラス分布:
2025-04-29 05:00:42,318 - feature_engineering.target - INFO -   クラス -1: 1442 サンプル (50.07%)
2025-04-29 05:00:42,318 - feature_engineering.target - INFO -   クラス 1: 1402 サンプル (48.68%)
2025-04-29 05:00:42,318 - feature_engineering.target - INFO -   クラス 0: 36 サンプル (1.25%)
2025-04-29 05:00:42,318 - feature_engineering.target - INFO - target_price_direction_2 のクラスバランス比率: 0.0250 (1に近いほど均等)
2025-04-29 05:00:42,318 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のクラス分布:
2025-04-29 05:00:42,318 - feature_engineering.target - INFO -   クラス 0: 1615 サンプル (56.08%)
2025-04-29 05:00:42,318 - feature_engineering.target - INFO -   クラス 1: 1265 サンプル (43.92%)
2025-04-29 05:00:42,319 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のシグナル発生率: 43.9236%
2025-04-29 05:00:42,319 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のクラス分布:
2025-04-29 05:00:42,319 - feature_engineering.target - INFO -   クラス 0: 1576 サンプル (54.72%)
2025-04-29 05:00:42,319 - feature_engineering.target - INFO -   クラス 1: 1304 サンプル (45.28%)
2025-04-29 05:00:42,319 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のシグナル発生率: 45.2778%
2025-04-29 05:00:42,320 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のクラス分布:
2025-04-29 05:00:42,320 - feature_engineering.target - INFO -   クラス 0: 1754 サンプル (60.90%)
2025-04-29 05:00:42,320 - feature_engineering.target - INFO -   クラス 1: 1126 サンプル (39.10%)
2025-04-29 05:00:42,320 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のシグナル発生率: 39.0972%
2025-04-29 05:00:42,320 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のクラス分布:
2025-04-29 05:00:42,320 - feature_engineering.target - INFO -   クラス 0: 1734 サンプル (60.21%)
2025-04-29 05:00:42,320 - feature_engineering.target - INFO -   クラス 1: 1146 サンプル (39.79%)
2025-04-29 05:00:42,321 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のシグナル発生率: 39.7917%
2025-04-29 05:00:42,321 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のクラス分布:
2025-04-29 05:00:42,321 - feature_engineering.target - INFO -   クラス 0: 1906 サンプル (66.18%)
2025-04-29 05:00:42,321 - feature_engineering.target - INFO -   クラス 1: 974 サンプル (33.82%)
2025-04-29 05:00:42,321 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のシグナル発生率: 33.8194%
2025-04-29 05:00:42,322 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のクラス分布:
2025-04-29 05:00:42,322 - feature_engineering.target - INFO -   クラス 0: 1872 サンプル (65.00%)
2025-04-29 05:00:42,322 - feature_engineering.target - INFO -   クラス 1: 1008 サンプル (35.00%)
2025-04-29 05:00:42,322 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のシグナル発生率: 35.0000%
2025-04-29 05:00:42,322 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のクラス分布:
2025-04-29 05:00:42,322 - feature_engineering.target - INFO -   クラス 0: 2182 サンプル (75.76%)
2025-04-29 05:00:42,322 - feature_engineering.target - INFO -   クラス 1: 698 サンプル (24.24%)
2025-04-29 05:00:42,322 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のシグナル発生率: 24.2361%
2025-04-29 05:00:42,323 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のクラス分布:
2025-04-29 05:00:42,323 - feature_engineering.target - INFO -   クラス 0: 2155 サンプル (74.83%)
2025-04-29 05:00:42,323 - feature_engineering.target - INFO -   クラス 1: 725 サンプル (25.17%)
2025-04-29 05:00:42,323 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のシグナル発生率: 25.1736%
2025-04-29 05:00:42,323 - feature_engineering.target - INFO - ---- 期間 3 の統計情報 ----
2025-04-29 05:00:42,324 - feature_engineering.target - INFO - target_price_change_pct_3 の統計: min=-0.024677, max=0.021852, mean=-0.000200
2025-04-29 05:00:42,324 - feature_engineering.target - INFO - target_threshold_ternary_3 のクラス分布:
2025-04-29 05:00:42,324 - feature_engineering.target - INFO -   クラス 0: 1433 サンプル (49.76%)
2025-04-29 05:00:42,324 - feature_engineering.target - INFO -   クラス 1: 1412 サンプル (49.03%)
2025-04-29 05:00:42,325 - feature_engineering.target - INFO -   クラス 2: 35 サンプル (1.22%)
2025-04-29 05:00:42,325 - feature_engineering.target - INFO - target_threshold_binary_3 のNaN: 35 サンプル (1.22%)
2025-04-29 05:00:42,325 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値クラス分布:
2025-04-29 05:00:42,325 - feature_engineering.target - INFO -   クラス 0.0: 1433 サンプル (50.37%)
2025-04-29 05:00:42,326 - feature_engineering.target - INFO -   クラス 1.0: 1412 サンプル (49.63%)
2025-04-29 05:00:42,326 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値数: 2845 (98.78%)
2025-04-29 05:00:42,326 - feature_engineering.target - INFO - target_threshold_binary_3 のクラスバランス比率: 0.9853 (1に近いほど均等)
2025-04-29 05:00:42,326 - feature_engineering.target - INFO - target_price_direction_3 のクラス分布:
2025-04-29 05:00:42,326 - feature_engineering.target - INFO -   クラス -1: 1433 サンプル (49.76%)
2025-04-29 05:00:42,326 - feature_engineering.target - INFO -   クラス 1: 1412 サンプル (49.03%)
2025-04-29 05:00:42,326 - feature_engineering.target - INFO -   クラス 0: 35 サンプル (1.22%)
2025-04-29 05:00:42,327 - feature_engineering.target - INFO - target_price_direction_3 のクラスバランス比率: 0.0244 (1に近いほど均等)
2025-04-29 05:00:42,327 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のクラス分布:
2025-04-29 05:00:42,327 - feature_engineering.target - INFO -   クラス 0: 1603 サンプル (55.66%)
2025-04-29 05:00:42,327 - feature_engineering.target - INFO -   クラス 1: 1277 サンプル (44.34%)
2025-04-29 05:00:42,327 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のシグナル発生率: 44.3403%
2025-04-29 05:00:42,328 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のクラス分布:
2025-04-29 05:00:42,328 - feature_engineering.target - INFO -   クラス 0: 1575 サンプル (54.69%)
2025-04-29 05:00:42,328 - feature_engineering.target - INFO -   クラス 1: 1305 サンプル (45.31%)
2025-04-29 05:00:42,328 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のシグナル発生率: 45.3125%
2025-04-29 05:00:42,328 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のクラス分布:
2025-04-29 05:00:42,329 - feature_engineering.target - INFO -   クラス 0: 1768 サンプル (61.39%)
2025-04-29 05:00:42,329 - feature_engineering.target - INFO -   クラス 1: 1112 サンプル (38.61%)
2025-04-29 05:00:42,329 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のシグナル発生率: 38.6111%
2025-04-29 05:00:42,329 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のクラス分布:
2025-04-29 05:00:42,329 - feature_engineering.target - INFO -   クラス 0: 1713 サンプル (59.48%)
2025-04-29 05:00:42,330 - feature_engineering.target - INFO -   クラス 1: 1167 サンプル (40.52%)
2025-04-29 05:00:42,330 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のシグナル発生率: 40.5208%
2025-04-29 05:00:42,330 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のクラス分布:
2025-04-29 05:00:42,330 - feature_engineering.target - INFO -   クラス 0: 1893 サンプル (65.73%)
2025-04-29 05:00:42,330 - feature_engineering.target - INFO -   クラス 1: 987 サンプル (34.27%)
2025-04-29 05:00:42,330 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のシグナル発生率: 34.2708%
2025-04-29 05:00:42,331 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のクラス分布:
2025-04-29 05:00:42,331 - feature_engineering.target - INFO -   クラス 0: 1859 サンプル (64.55%)
2025-04-29 05:00:42,331 - feature_engineering.target - INFO -   クラス 1: 1021 サンプル (35.45%)
2025-04-29 05:00:42,331 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のシグナル発生率: 35.4514%
2025-04-29 05:00:42,331 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のクラス分布:
2025-04-29 05:00:42,332 - feature_engineering.target - INFO -   クラス 0: 2140 サンプル (74.31%)
2025-04-29 05:00:42,332 - feature_engineering.target - INFO -   クラス 1: 740 サンプル (25.69%)
2025-04-29 05:00:42,332 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のシグナル発生率: 25.6944%
2025-04-29 05:00:42,332 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のクラス分布:
2025-04-29 05:00:42,332 - feature_engineering.target - INFO -   クラス 0: 2101 サンプル (72.95%)
2025-04-29 05:00:42,332 - feature_engineering.target - INFO -   クラス 1: 779 サンプル (27.05%)
2025-04-29 05:00:42,332 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のシグナル発生率: 27.0486%
2025-04-29 05:00:42,333 - feature_engineering.target - INFO - 生成された高閾値シグナル変数: 24個
2025-04-29 05:00:42,333 - feature_engineering.target - INFO -   1. target_high_threshold_1p_long_1: シグナル比率 43.78%
2025-04-29 05:00:42,333 - feature_engineering.target - INFO -   2. target_high_threshold_1p_short_1: シグナル比率 43.78%
2025-04-29 05:00:42,333 - feature_engineering.target - INFO -   3. target_high_threshold_2p_long_1: シグナル比率 37.85%
2025-04-29 05:00:42,334 - feature_engineering.target - INFO -   4. target_high_threshold_2p_short_1: シグナル比率 38.26%
2025-04-29 05:00:42,334 - feature_engineering.target - INFO -   5. target_high_threshold_3p_long_1: シグナル比率 33.37%
2025-04-29 05:00:42,334 - feature_engineering.target - INFO -   6. target_high_threshold_3p_short_1: シグナル比率 32.95%
2025-04-29 05:00:42,334 - feature_engineering.target - INFO -   7. target_high_threshold_5p_long_1: シグナル比率 23.30%
2025-04-29 05:00:42,334 - feature_engineering.target - INFO -   8. target_high_threshold_5p_short_1: シグナル比率 23.40%
2025-04-29 05:00:42,335 - feature_engineering.target - INFO -   9. target_high_threshold_1p_long_2: シグナル比率 43.92%
2025-04-29 05:00:42,335 - feature_engineering.target - INFO -   10. target_high_threshold_1p_short_2: シグナル比率 45.28%
2025-04-29 05:00:42,335 - feature_engineering.target - INFO -   ...他 14 個
2025-04-29 05:00:42,335 - feature_engineering.target - INFO - 目標変数を含むデータフレームを生成完了。サイズ: (2880, 42)
2025-04-29 05:00:42,335 - feature_engineering - INFO - すべての特徴量を結合中...
2025-04-29 05:00:42,338 - feature_engineering - INFO - 重複列削除後のカラム数: 188
2025-04-29 05:00:42,340 - feature_engineering - INFO - NaNを含む行を削除: 199行 (6.91%)
2025-04-29 05:00:42,341 - feature_engineering.advanced - INFO - フィッシャー変換RSIの特徴量を追加しています
2025-04-29 05:00:42,343 - feature_engineering.selector - INFO - 重要な特徴量を選択しています
2025-04-29 05:00:42,344 - feature_engineering.selector - INFO - 重要な特徴量 66個を選択しました
2025-04-29 05:00:42,344 - feature_engineering - INFO - 生成された目標変数列: ['target_price_change_pct_1', 'target_price_change_pct_2', 'target_price_change_pct_3', 'target_price_direction_1', 'target_price_direction_2', 'target_price_direction_3', 'target_threshold_binary_1', 'target_threshold_binary_2', 'target_threshold_binary_3', 'target_threshold_ternary_1', 'target_threshold_ternary_2', 'target_threshold_ternary_3']
2025-04-29 05:00:42,344 - feature_engineering - INFO - target_threshold_binary_1 の有効サンプル数: 2681 (100.00%)
2025-04-29 05:00:42,345 - feature_engineering - INFO - target_threshold_binary_1 のクラス分布: {1.0: 1348, 0.0: 1333}
2025-04-29 05:00:42,345 - feature_engineering - INFO - target_threshold_binary_2 の有効サンプル数: 2681 (100.00%)
2025-04-29 05:00:42,345 - feature_engineering - INFO - target_threshold_binary_2 のクラス分布: {0.0: 1349, 1.0: 1332}
2025-04-29 05:00:42,345 - feature_engineering - INFO - target_threshold_binary_3 の有効サンプル数: 2681 (100.00%)
2025-04-29 05:00:42,346 - feature_engineering - INFO - target_threshold_binary_3 のクラス分布: {1.0: 1345, 0.0: 1336}
2025-04-29 05:00:42,346 - feature_engineering - INFO - 特徴量生成が完了しました。カラム数: 66, 行数: 2681
2025-04-29 05:00:42,465 - feature_engineering - INFO - 特徴量を data\processed\btcusd_5m_features.csv に保存しました。データサイズ: (2681, 66)
2025-04-29 05:00:42,482 - data_processing - INFO - 特徴量エンジニアリングが完了しました。生成された特徴量: 66列
2025-04-29 05:00:42,482 - data_processing - INFO - 生成された行数: 2681行
2025-04-29 05:00:42,482 - data_processing - INFO - 生成された目標変数: 12個
2025-04-29 05:00:42,482 - data_processing - ERROR - 高閾値シグナル変数が生成されませんでした。target_features.pyの修正が反映されていない可能性があります。
2025-04-29 05:00:42,482 - data_processing - INFO - DEBUG: 設定の確認
2025-04-29 05:00:42,482 - data_processing - INFO - DEBUG: high_threshold_models設定は存在します: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:00:42,482 - data_processing - INFO - DEBUG: 生成された列の一部:
2025-04-29 05:00:42,482 - data_processing - INFO -   1. target_price_change_pct_1
2025-04-29 05:00:42,482 - data_processing - INFO -   2. target_price_change_pct_2
2025-04-29 05:00:42,482 - data_processing - INFO -   3. target_price_change_pct_3
2025-04-29 05:00:42,483 - data_processing - INFO -   4. target_price_direction_1
2025-04-29 05:00:42,483 - data_processing - INFO -   5. target_price_direction_2
2025-04-29 05:00:42,483 - data_processing - INFO -   6. target_price_direction_3
2025-04-29 05:00:42,483 - data_processing - INFO -   7. target_threshold_binary_1
2025-04-29 05:00:42,483 - data_processing - INFO -   8. target_threshold_binary_2
2025-04-29 05:00:42,483 - data_processing - INFO -   9. target_threshold_binary_3
2025-04-29 05:00:42,483 - data_processing - INFO -   10. target_threshold_ternary_1
2025-04-29 05:00:42,483 - data_processing - INFO -   11. target_threshold_ternary_2
2025-04-29 05:00:42,483 - data_processing - INFO -   12. target_threshold_ternary_3
2025-04-29 05:00:42,483 - data_processing - INFO - 標準目標変数: 12個
2025-04-29 05:02:04,127 - data_processing - INFO - サンプルデータの生成を開始
2025-04-29 05:02:04,425 - data_processing - INFO - サンプルデータの生成が完了しました
2025-04-29 05:02:04,425 - data_processing - INFO - 特徴量エンジニアリングを開始
2025-04-29 05:02:05,111 - config_loader - INFO - 設定を config\model_config.json から読み込みました
2025-04-29 05:02:05,111 - data_processing - INFO - 高閾値シグナル設定を追加しました
2025-04-29 05:02:05,112 - data_processing - INFO - 閾値: [0.1, 0.2, 0.3, 0.5]%
2025-04-29 05:02:05,112 - feature_engineering - INFO - DEBUG: generate_optimized_features関数が呼び出されました
2025-04-29 05:02:05,112 - feature_engineering - INFO - DEBUG: 渡された設定キー: ['input_dir', 'input_filename', 'output_dir', 'output_filename', 'classification_threshold', 'target_periods', 'features', 'vwap_period', 'ma_periods', 'rsi_periods', 'bollinger_period', 'bollinger_std', 'macd_params', 'stochastic_params', 'atr_period', 'high_threshold_models']
2025-04-29 05:02:05,112 - feature_engineering - INFO - DEBUG: high_threshold_modelsの内容: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:02:05,112 - feature_engineering - INFO - DEBUG: FeatureGeneratorBase.__init__ が呼び出されました
2025-04-29 05:02:05,112 - feature_engineering - INFO - DEBUG: 渡された設定キー: ['input_dir', 'input_filename', 'output_dir', 'output_filename', 'classification_threshold', 'target_periods', 'features', 'vwap_period', 'ma_periods', 'rsi_periods', 'bollinger_period', 'bollinger_std', 'macd_params', 'stochastic_params', 'atr_period', 'high_threshold_models']
2025-04-29 05:02:05,112 - feature_engineering - INFO - DEBUG: high_threshold_modelsの内容: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:02:05,112 - feature_engineering - INFO - データを data\raw\btcusd_5m_data.csv から読み込みます
2025-04-29 05:02:05,129 - feature_engineering - INFO - 2880 行のデータを読み込みました
2025-04-29 05:02:05,129 - feature_engineering - INFO - 特徴量生成を開始。入力データサイズ: (2880, 6)
2025-04-29 05:02:05,129 - feature_engineering - INFO - 設定内容: 分類閾値=0.0001, 目標期間=[1, 2, 3]
2025-04-29 05:02:05,129 - feature_engineering - INFO - 価格変動率特徴量を生成中...
2025-04-29 05:02:05,129 - feature_engineering.price - INFO - 価格変動率とローソク足パターンの特徴量を追加しています
2025-04-29 05:02:05,135 - feature_engineering - INFO - 出来高変動率特徴量を生成中...
2025-04-29 05:02:05,135 - feature_engineering.volume - INFO - 出来高変動率の特徴量を追加しています
2025-04-29 05:02:05,137 - feature_engineering - INFO - 移動平均線特徴量を生成中...
2025-04-29 05:02:05,137 - feature_engineering.moving_average - INFO - 移動平均線と乖離率の特徴量を追加しています
2025-04-29 05:02:05,161 - feature_engineering - INFO - RSI特徴量を生成中...
2025-04-29 05:02:05,161 - feature_engineering.oscillator - INFO - RSIの特徴量を追加しています
2025-04-29 05:02:05,164 - feature_engineering - INFO - 高値/安値特徴量を生成中...
2025-04-29 05:02:05,164 - feature_engineering.price - INFO - 高値/安値からの距離の特徴量を追加しています
2025-04-29 05:02:05,168 - feature_engineering - INFO - ボリンジャーバンド特徴量を生成中...
2025-04-29 05:02:05,168 - feature_engineering.volatility - INFO - ボリンジャーバンドの特徴量を追加しています
2025-04-29 05:02:05,170 - feature_engineering - INFO - MACD特徴量を生成中...
2025-04-29 05:02:05,171 - feature_engineering.oscillator - INFO - MACDの特徴量を追加しています
2025-04-29 05:02:05,172 - feature_engineering - INFO - ストキャスティクス特徴量を生成中...
2025-04-29 05:02:05,172 - feature_engineering.oscillator - INFO - ストキャスティクスの特徴量を追加しています
2025-04-29 05:02:05,174 - feature_engineering - INFO - ATR特徴量を生成中...
2025-04-29 05:02:05,174 - feature_engineering.volatility - INFO - ATRの特徴量を追加しています
2025-04-29 05:02:05,175 - feature_engineering - INFO - 高度な特徴量を生成中...
2025-04-29 05:02:05,176 - feature_engineering.advanced - INFO - 高度な特徴量を追加しています
2025-04-29 05:02:05,349 - feature_engineering - INFO - 目標変数を生成中...
2025-04-29 05:02:05,349 - feature_engineering - INFO - 高閾値シグナル設定を検出: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:02:05,349 - feature_engineering.target - INFO - DEBUG: generate_target_features 関数が呼び出されました
2025-04-29 05:02:05,349 - feature_engineering.target - INFO - DEBUG: 引数 - periods=[1, 2, 3], threshold=0.0001, high_config={'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:02:05,349 - feature_engineering.target - INFO - === 予測対象の目標変数を生成しています ===
2025-04-29 05:02:05,349 - feature_engineering.target - INFO - 分類閾値: 0.0001, 予測期間: [1, 2, 3]
2025-04-29 05:02:05,350 - feature_engineering.target - INFO - ボラティリティの平均: 0.006820
2025-04-29 05:02:05,350 - feature_engineering.target - INFO - 外部設定からの高閾値シグナル設定: [0.1, 0.2, 0.3, 0.5]%
2025-04-29 05:02:05,350 - feature_engineering.target - INFO - 方向: ['long', 'short'], 期間: [1, 2, 3]
2025-04-29 05:02:05,350 - feature_engineering.target - INFO - 期間 1 の目標変数を生成中...
2025-04-29 05:02:05,351 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_1 を生成しました
2025-04-29 05:02:05,351 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_1 を生成しました
2025-04-29 05:02:05,351 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_1 を生成しました
2025-04-29 05:02:05,351 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_1 を生成しました
2025-04-29 05:02:05,351 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_1 を生成しました
2025-04-29 05:02:05,352 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_1 を生成しました
2025-04-29 05:02:05,352 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_1 を生成しました
2025-04-29 05:02:05,352 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_1 を生成しました
2025-04-29 05:02:05,352 - feature_engineering.target - INFO - 期間 2 の目標変数を生成中...
2025-04-29 05:02:05,353 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_2 を生成しました
2025-04-29 05:02:05,353 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_2 を生成しました
2025-04-29 05:02:05,353 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_2 を生成しました
2025-04-29 05:02:05,353 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_2 を生成しました
2025-04-29 05:02:05,353 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_2 を生成しました
2025-04-29 05:02:05,354 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_2 を生成しました
2025-04-29 05:02:05,354 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_2 を生成しました
2025-04-29 05:02:05,354 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_2 を生成しました
2025-04-29 05:02:05,354 - feature_engineering.target - INFO - 期間 3 の目標変数を生成中...
2025-04-29 05:02:05,355 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_3 を生成しました
2025-04-29 05:02:05,355 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_3 を生成しました
2025-04-29 05:02:05,355 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_3 を生成しました
2025-04-29 05:02:05,355 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_3 を生成しました
2025-04-29 05:02:05,355 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_3 を生成しました
2025-04-29 05:02:05,356 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_3 を生成しました
2025-04-29 05:02:05,356 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_3 を生成しました
2025-04-29 05:02:05,356 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_3 を生成しました
2025-04-29 05:02:05,357 - feature_engineering.target - INFO - === 生成された目標変数の統計情報 ===
2025-04-29 05:02:05,357 - feature_engineering.target - INFO - ---- 期間 1 の統計情報 ----
2025-04-29 05:02:05,358 - feature_engineering.target - INFO - target_price_change_pct_1 の統計: min=-0.018019, max=0.019641, mean=0.000091
2025-04-29 05:02:05,359 - feature_engineering.target - INFO - target_threshold_ternary_1 のクラス分布:
2025-04-29 05:02:05,359 - feature_engineering.target - INFO -   クラス 1: 1433 サンプル (49.76%)
2025-04-29 05:02:05,359 - feature_engineering.target - INFO -   クラス 0: 1421 サンプル (49.34%)
2025-04-29 05:02:05,359 - feature_engineering.target - INFO -   クラス 2: 26 サンプル (0.90%)
2025-04-29 05:02:05,359 - feature_engineering.target - INFO - target_threshold_binary_1 のNaN: 26 サンプル (0.90%)
2025-04-29 05:02:05,360 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値クラス分布:
2025-04-29 05:02:05,360 - feature_engineering.target - INFO -   クラス 1.0: 1433 サンプル (50.21%)
2025-04-29 05:02:05,360 - feature_engineering.target - INFO -   クラス 0.0: 1421 サンプル (49.79%)
2025-04-29 05:02:05,360 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値数: 2854 (99.10%)
2025-04-29 05:02:05,360 - feature_engineering.target - INFO - target_threshold_binary_1 のクラスバランス比率: 0.9916 (1に近いほど均等)
2025-04-29 05:02:05,361 - feature_engineering.target - INFO - target_price_direction_1 のクラス分布:
2025-04-29 05:02:05,361 - feature_engineering.target - INFO -   クラス 1: 1433 サンプル (49.76%)
2025-04-29 05:02:05,361 - feature_engineering.target - INFO -   クラス -1: 1421 サンプル (49.34%)
2025-04-29 05:02:05,361 - feature_engineering.target - INFO -   クラス 0: 26 サンプル (0.90%)
2025-04-29 05:02:05,361 - feature_engineering.target - INFO - target_price_direction_1 のクラスバランス比率: 0.0181 (1に近いほど均等)
2025-04-29 05:02:05,361 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のクラス分布:
2025-04-29 05:02:05,361 - feature_engineering.target - INFO -   クラス 0: 1585 サンプル (55.03%)
2025-04-29 05:02:05,362 - feature_engineering.target - INFO -   クラス 1: 1295 サンプル (44.97%)
2025-04-29 05:02:05,362 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のシグナル発生率: 44.9653%
2025-04-29 05:02:05,362 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のクラス分布:
2025-04-29 05:02:05,362 - feature_engineering.target - INFO -   クラス 0: 1588 サンプル (55.14%)
2025-04-29 05:02:05,362 - feature_engineering.target - INFO -   クラス 1: 1292 サンプル (44.86%)
2025-04-29 05:02:05,362 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のシグナル発生率: 44.8611%
2025-04-29 05:02:05,363 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のクラス分布:
2025-04-29 05:02:05,363 - feature_engineering.target - INFO -   クラス 0: 1763 サンプル (61.22%)
2025-04-29 05:02:05,363 - feature_engineering.target - INFO -   クラス 1: 1117 サンプル (38.78%)
2025-04-29 05:02:05,363 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のシグナル発生率: 38.7847%
2025-04-29 05:02:05,363 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のクラス分布:
2025-04-29 05:02:05,363 - feature_engineering.target - INFO -   クラス 0: 1737 サンプル (60.31%)
2025-04-29 05:02:05,363 - feature_engineering.target - INFO -   クラス 1: 1143 サンプル (39.69%)
2025-04-29 05:02:05,364 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のシグナル発生率: 39.6875%
2025-04-29 05:02:05,364 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のクラス分布:
2025-04-29 05:02:05,364 - feature_engineering.target - INFO -   クラス 0: 1891 サンプル (65.66%)
2025-04-29 05:02:05,364 - feature_engineering.target - INFO -   クラス 1: 989 サンプル (34.34%)
2025-04-29 05:02:05,365 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のシグナル発生率: 34.3403%
2025-04-29 05:02:05,365 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のクラス分布:
2025-04-29 05:02:05,365 - feature_engineering.target - INFO -   クラス 0: 1923 サンプル (66.77%)
2025-04-29 05:02:05,365 - feature_engineering.target - INFO -   クラス 1: 957 サンプル (33.23%)
2025-04-29 05:02:05,365 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のシグナル発生率: 33.2292%
2025-04-29 05:02:05,366 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のクラス分布:
2025-04-29 05:02:05,366 - feature_engineering.target - INFO -   クラス 0: 2164 サンプル (75.14%)
2025-04-29 05:02:05,366 - feature_engineering.target - INFO -   クラス 1: 716 サンプル (24.86%)
2025-04-29 05:02:05,366 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のシグナル発生率: 24.8611%
2025-04-29 05:02:05,367 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のクラス分布:
2025-04-29 05:02:05,367 - feature_engineering.target - INFO -   クラス 0: 2193 サンプル (76.15%)
2025-04-29 05:02:05,367 - feature_engineering.target - INFO -   クラス 1: 687 サンプル (23.85%)
2025-04-29 05:02:05,367 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のシグナル発生率: 23.8542%
2025-04-29 05:02:05,367 - feature_engineering.target - INFO - ---- 期間 2 の統計情報 ----
2025-04-29 05:02:05,368 - feature_engineering.target - INFO - target_price_change_pct_2 の統計: min=-0.021522, max=0.022972, mean=0.000158
2025-04-29 05:02:05,368 - feature_engineering.target - INFO - target_threshold_ternary_2 のクラス分布:
2025-04-29 05:02:05,368 - feature_engineering.target - INFO -   クラス 1: 1456 サンプル (50.56%)
2025-04-29 05:02:05,369 - feature_engineering.target - INFO -   クラス 0: 1398 サンプル (48.54%)
2025-04-29 05:02:05,369 - feature_engineering.target - INFO -   クラス 2: 26 サンプル (0.90%)
2025-04-29 05:02:05,369 - feature_engineering.target - INFO - target_threshold_binary_2 のNaN: 26 サンプル (0.90%)
2025-04-29 05:02:05,370 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値クラス分布:
2025-04-29 05:02:05,370 - feature_engineering.target - INFO -   クラス 1.0: 1456 サンプル (51.02%)
2025-04-29 05:02:05,370 - feature_engineering.target - INFO -   クラス 0.0: 1398 サンプル (48.98%)
2025-04-29 05:02:05,370 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値数: 2854 (99.10%)
2025-04-29 05:02:05,370 - feature_engineering.target - INFO - target_threshold_binary_2 のクラスバランス比率: 0.9602 (1に近いほど均等)
2025-04-29 05:02:05,371 - feature_engineering.target - INFO - target_price_direction_2 のクラス分布:
2025-04-29 05:02:05,371 - feature_engineering.target - INFO -   クラス 1: 1456 サンプル (50.56%)
2025-04-29 05:02:05,371 - feature_engineering.target - INFO -   クラス -1: 1398 サンプル (48.54%)
2025-04-29 05:02:05,371 - feature_engineering.target - INFO -   クラス 0: 26 サンプル (0.90%)
2025-04-29 05:02:05,371 - feature_engineering.target - INFO - target_price_direction_2 のクラスバランス比率: 0.0179 (1に近いほど均等)
2025-04-29 05:02:05,371 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のクラス分布:
2025-04-29 05:02:05,371 - feature_engineering.target - INFO -   クラス 0: 1567 サンプル (54.41%)
2025-04-29 05:02:05,372 - feature_engineering.target - INFO -   クラス 1: 1313 サンプル (45.59%)
2025-04-29 05:02:05,372 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のシグナル発生率: 45.5903%
2025-04-29 05:02:05,372 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のクラス分布:
2025-04-29 05:02:05,372 - feature_engineering.target - INFO -   クラス 0: 1598 サンプル (55.49%)
2025-04-29 05:02:05,372 - feature_engineering.target - INFO -   クラス 1: 1282 サンプル (44.51%)
2025-04-29 05:02:05,373 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のシグナル発生率: 44.5139%
2025-04-29 05:02:05,373 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のクラス分布:
2025-04-29 05:02:05,373 - feature_engineering.target - INFO -   クラス 0: 1709 サンプル (59.34%)
2025-04-29 05:02:05,373 - feature_engineering.target - INFO -   クラス 1: 1171 サンプル (40.66%)
2025-04-29 05:02:05,373 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のシグナル発生率: 40.6597%
2025-04-29 05:02:05,374 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のクラス分布:
2025-04-29 05:02:05,374 - feature_engineering.target - INFO -   クラス 0: 1745 サンプル (60.59%)
2025-04-29 05:02:05,374 - feature_engineering.target - INFO -   クラス 1: 1135 サンプル (39.41%)
2025-04-29 05:02:05,374 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のシグナル発生率: 39.4097%
2025-04-29 05:02:05,374 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のクラス分布:
2025-04-29 05:02:05,375 - feature_engineering.target - INFO -   クラス 0: 1861 サンプル (64.62%)
2025-04-29 05:02:05,375 - feature_engineering.target - INFO -   クラス 1: 1019 サンプル (35.38%)
2025-04-29 05:02:05,375 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のシグナル発生率: 35.3819%
2025-04-29 05:02:05,375 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のクラス分布:
2025-04-29 05:02:05,375 - feature_engineering.target - INFO -   クラス 0: 1886 サンプル (65.49%)
2025-04-29 05:02:05,375 - feature_engineering.target - INFO -   クラス 1: 994 サンプル (34.51%)
2025-04-29 05:02:05,375 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のシグナル発生率: 34.5139%
2025-04-29 05:02:05,376 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のクラス分布:
2025-04-29 05:02:05,376 - feature_engineering.target - INFO -   クラス 0: 2136 サンプル (74.17%)
2025-04-29 05:02:05,376 - feature_engineering.target - INFO -   クラス 1: 744 サンプル (25.83%)
2025-04-29 05:02:05,376 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のシグナル発生率: 25.8333%
2025-04-29 05:02:05,377 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のクラス分布:
2025-04-29 05:02:05,377 - feature_engineering.target - INFO -   クラス 0: 2154 サンプル (74.79%)
2025-04-29 05:02:05,377 - feature_engineering.target - INFO -   クラス 1: 726 サンプル (25.21%)
2025-04-29 05:02:05,377 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のシグナル発生率: 25.2083%
2025-04-29 05:02:05,377 - feature_engineering.target - INFO - ---- 期間 3 の統計情報 ----
2025-04-29 05:02:05,378 - feature_engineering.target - INFO - target_price_change_pct_3 の統計: min=-0.024170, max=0.024861, mean=0.000224
2025-04-29 05:02:05,378 - feature_engineering.target - INFO - target_threshold_ternary_3 のクラス分布:
2025-04-29 05:02:05,378 - feature_engineering.target - INFO -   クラス 1: 1447 サンプル (50.24%)
2025-04-29 05:02:05,378 - feature_engineering.target - INFO -   クラス 0: 1404 サンプル (48.75%)
2025-04-29 05:02:05,379 - feature_engineering.target - INFO -   クラス 2: 29 サンプル (1.01%)
2025-04-29 05:02:05,379 - feature_engineering.target - INFO - target_threshold_binary_3 のNaN: 29 サンプル (1.01%)
2025-04-29 05:02:05,379 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値クラス分布:
2025-04-29 05:02:05,379 - feature_engineering.target - INFO -   クラス 1.0: 1447 サンプル (50.75%)
2025-04-29 05:02:05,380 - feature_engineering.target - INFO -   クラス 0.0: 1404 サンプル (49.25%)
2025-04-29 05:02:05,380 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値数: 2851 (98.99%)
2025-04-29 05:02:05,380 - feature_engineering.target - INFO - target_threshold_binary_3 のクラスバランス比率: 0.9703 (1に近いほど均等)
2025-04-29 05:02:05,380 - feature_engineering.target - INFO - target_price_direction_3 のクラス分布:
2025-04-29 05:02:05,380 - feature_engineering.target - INFO -   クラス 1: 1447 サンプル (50.24%)
2025-04-29 05:02:05,381 - feature_engineering.target - INFO -   クラス -1: 1404 サンプル (48.75%)
2025-04-29 05:02:05,381 - feature_engineering.target - INFO -   クラス 0: 29 サンプル (1.01%)
2025-04-29 05:02:05,381 - feature_engineering.target - INFO - target_price_direction_3 のクラスバランス比率: 0.0200 (1に近いほど均等)
2025-04-29 05:02:05,381 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のクラス分布:
2025-04-29 05:02:05,381 - feature_engineering.target - INFO -   クラス 0: 1569 サンプル (54.48%)
2025-04-29 05:02:05,381 - feature_engineering.target - INFO -   クラス 1: 1311 サンプル (45.52%)
2025-04-29 05:02:05,382 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のシグナル発生率: 45.5208%
2025-04-29 05:02:05,382 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のクラス分布:
2025-04-29 05:02:05,382 - feature_engineering.target - INFO -   クラス 0: 1597 サンプル (55.45%)
2025-04-29 05:02:05,382 - feature_engineering.target - INFO -   クラス 1: 1283 サンプル (44.55%)
2025-04-29 05:02:05,382 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のシグナル発生率: 44.5486%
2025-04-29 05:02:05,383 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のクラス分布:
2025-04-29 05:02:05,383 - feature_engineering.target - INFO -   クラス 0: 1708 サンプル (59.31%)
2025-04-29 05:02:05,383 - feature_engineering.target - INFO -   クラス 1: 1172 サンプル (40.69%)
2025-04-29 05:02:05,383 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のシグナル発生率: 40.6944%
2025-04-29 05:02:05,383 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のクラス分布:
2025-04-29 05:02:05,383 - feature_engineering.target - INFO -   クラス 0: 1740 サンプル (60.42%)
2025-04-29 05:02:05,383 - feature_engineering.target - INFO -   クラス 1: 1140 サンプル (39.58%)
2025-04-29 05:02:05,384 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のシグナル発生率: 39.5833%
2025-04-29 05:02:05,384 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のクラス分布:
2025-04-29 05:02:05,384 - feature_engineering.target - INFO -   クラス 0: 1834 サンプル (63.68%)
2025-04-29 05:02:05,384 - feature_engineering.target - INFO -   クラス 1: 1046 サンプル (36.32%)
2025-04-29 05:02:05,384 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のシグナル発生率: 36.3194%
2025-04-29 05:02:05,385 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のクラス分布:
2025-04-29 05:02:05,385 - feature_engineering.target - INFO -   クラス 0: 1870 サンプル (64.93%)
2025-04-29 05:02:05,385 - feature_engineering.target - INFO -   クラス 1: 1010 サンプル (35.07%)
2025-04-29 05:02:05,385 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のシグナル発生率: 35.0694%
2025-04-29 05:02:05,385 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のクラス分布:
2025-04-29 05:02:05,385 - feature_engineering.target - INFO -   クラス 0: 2096 サンプル (72.78%)
2025-04-29 05:02:05,386 - feature_engineering.target - INFO -   クラス 1: 784 サンプル (27.22%)
2025-04-29 05:02:05,386 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のシグナル発生率: 27.2222%
2025-04-29 05:02:05,386 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のクラス分布:
2025-04-29 05:02:05,386 - feature_engineering.target - INFO -   クラス 0: 2122 サンプル (73.68%)
2025-04-29 05:02:05,386 - feature_engineering.target - INFO -   クラス 1: 758 サンプル (26.32%)
2025-04-29 05:02:05,386 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のシグナル発生率: 26.3194%
2025-04-29 05:02:05,386 - feature_engineering.target - INFO - 生成された高閾値シグナル変数: 24個
2025-04-29 05:02:05,387 - feature_engineering.target - INFO -   1. target_high_threshold_1p_long_1: シグナル比率 44.97%
2025-04-29 05:02:05,387 - feature_engineering.target - INFO -   2. target_high_threshold_1p_short_1: シグナル比率 44.86%
2025-04-29 05:02:05,387 - feature_engineering.target - INFO -   3. target_high_threshold_2p_long_1: シグナル比率 38.78%
2025-04-29 05:02:05,387 - feature_engineering.target - INFO -   4. target_high_threshold_2p_short_1: シグナル比率 39.69%
2025-04-29 05:02:05,387 - feature_engineering.target - INFO -   5. target_high_threshold_3p_long_1: シグナル比率 34.34%
2025-04-29 05:02:05,388 - feature_engineering.target - INFO -   6. target_high_threshold_3p_short_1: シグナル比率 33.23%
2025-04-29 05:02:05,388 - feature_engineering.target - INFO -   7. target_high_threshold_5p_long_1: シグナル比率 24.86%
2025-04-29 05:02:05,388 - feature_engineering.target - INFO -   8. target_high_threshold_5p_short_1: シグナル比率 23.85%
2025-04-29 05:02:05,388 - feature_engineering.target - INFO -   9. target_high_threshold_1p_long_2: シグナル比率 45.59%
2025-04-29 05:02:05,389 - feature_engineering.target - INFO -   10. target_high_threshold_1p_short_2: シグナル比率 44.51%
2025-04-29 05:02:05,389 - feature_engineering.target - INFO -   ...他 14 個
2025-04-29 05:02:05,389 - feature_engineering.target - INFO - 目標変数を含むデータフレームを生成完了。サイズ: (2880, 42)
2025-04-29 05:02:05,389 - feature_engineering - INFO - すべての特徴量を結合中...
2025-04-29 05:02:05,392 - feature_engineering - INFO - 重複列削除後のカラム数: 188
2025-04-29 05:02:05,394 - feature_engineering - INFO - NaNを含む行を削除: 174行 (6.04%)
2025-04-29 05:02:05,394 - feature_engineering.advanced - INFO - フィッシャー変換RSIの特徴量を追加しています
2025-04-29 05:02:05,397 - feature_engineering.selector - INFO - 重要な特徴量を選択しています
2025-04-29 05:02:05,398 - feature_engineering.selector - INFO - 重要な特徴量 66個を選択しました
2025-04-29 05:02:05,398 - feature_engineering - INFO - 生成された目標変数列: ['target_price_change_pct_1', 'target_price_change_pct_2', 'target_price_change_pct_3', 'target_price_direction_1', 'target_price_direction_2', 'target_price_direction_3', 'target_threshold_binary_1', 'target_threshold_binary_2', 'target_threshold_binary_3', 'target_threshold_ternary_1', 'target_threshold_ternary_2', 'target_threshold_ternary_3']
2025-04-29 05:02:05,399 - feature_engineering - INFO - target_threshold_binary_1 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:02:05,399 - feature_engineering - INFO - target_threshold_binary_1 のクラス分布: {1.0: 1361, 0.0: 1345}
2025-04-29 05:02:05,399 - feature_engineering - INFO - target_threshold_binary_2 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:02:05,399 - feature_engineering - INFO - target_threshold_binary_2 のクラス分布: {1.0: 1383, 0.0: 1323}
2025-04-29 05:02:05,400 - feature_engineering - INFO - target_threshold_binary_3 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:02:05,400 - feature_engineering - INFO - target_threshold_binary_3 のクラス分布: {1.0: 1378, 0.0: 1328}
2025-04-29 05:02:05,400 - feature_engineering - INFO - 特徴量生成が完了しました。カラム数: 66, 行数: 2706
2025-04-29 05:02:05,520 - feature_engineering - INFO - 特徴量を data\processed\btcusd_5m_features.csv に保存しました。データサイズ: (2706, 66)
2025-04-29 05:02:05,537 - data_processing - INFO - 特徴量エンジニアリングが完了しました。生成された特徴量: 66列
2025-04-29 05:02:05,537 - data_processing - INFO - 生成された行数: 2706行
2025-04-29 05:02:05,537 - data_processing - INFO - 生成された目標変数: 12個
2025-04-29 05:02:05,537 - data_processing - ERROR - 高閾値シグナル変数が生成されませんでした。target_features.pyの修正が反映されていない可能性があります。
2025-04-29 05:02:05,537 - data_processing - INFO - DEBUG: 設定の確認
2025-04-29 05:02:05,537 - data_processing - INFO - DEBUG: high_threshold_models設定は存在します: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:02:05,537 - data_processing - INFO - DEBUG: 生成された列の一部:
2025-04-29 05:02:05,537 - data_processing - INFO -   1. target_price_change_pct_1
2025-04-29 05:02:05,537 - data_processing - INFO -   2. target_price_change_pct_2
2025-04-29 05:02:05,538 - data_processing - INFO -   3. target_price_change_pct_3
2025-04-29 05:02:05,538 - data_processing - INFO -   4. target_price_direction_1
2025-04-29 05:02:05,538 - data_processing - INFO -   5. target_price_direction_2
2025-04-29 05:02:05,538 - data_processing - INFO -   6. target_price_direction_3
2025-04-29 05:02:05,538 - data_processing - INFO -   7. target_threshold_binary_1
2025-04-29 05:02:05,538 - data_processing - INFO -   8. target_threshold_binary_2
2025-04-29 05:02:05,538 - data_processing - INFO -   9. target_threshold_binary_3
2025-04-29 05:02:05,538 - data_processing - INFO -   10. target_threshold_ternary_1
2025-04-29 05:02:05,538 - data_processing - INFO -   11. target_threshold_ternary_2
2025-04-29 05:02:05,538 - data_processing - INFO -   12. target_threshold_ternary_3
2025-04-29 05:02:05,538 - data_processing - INFO - 標準目標変数: 12個
2025-04-29 05:03:47,549 - data_processing - INFO - サンプルデータの生成が完了しました
2025-04-29 05:03:48,561 - config_loader - INFO - 設定を config\model_config.json から読み込みました
2025-04-29 05:03:48,561 - data_processing - INFO - 高閾値シグナル設定: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:03:48,561 - data_processing - INFO - 使用する設定の全内容: {
  "input_dir": "data/raw",
  "input_filename": "btcusd_5m_data.csv",
  "output_dir": "data/processed",
  "output_filename": "btcusd_5m_features.csv",
  "classification_threshold": 0.0001,
  "target_periods": [
    1,
    2,
    3
  ],
  "high_threshold_models": {
    "target_periods": [
      1,
      2,
      3
    ],
    "directions": [
      "long",
      "short"
    ],
    "thresholds": [
      0.001,
      0.002,
      0.003,
      0.005
    ]
  },
  "features": {
    "price_change": true,
    "volume_change": true,
    "moving_averages": true,
    "rsi": true,
    "high_low_distance": true,
    "bollinger_bands": true,
    "macd": true,
    "stochastic": true,
    "advanced_features": true
  },
  "vwap_period": 14,
  "ma_periods": [
    5,
    10,
    20,
    50,
    100
  ],
  "rsi_periods": [
    6,
    14,
    21
  ],
  "bollinger_period": 20,
  "bollinger_std": 2.0,
  "macd_params": {
    "fast_period": 12,
    "slow_period": 26,
    "signal_period": 9
  },
  "stochastic_params": {
    "k_period": 14,
    "d_period": 3,
    "slowing": 3
  },
  "atr_period": 14
}
2025-04-29 05:03:48,566 - feature_engineering - INFO - DEBUG: FeatureGeneratorBase.__init__ が呼び出されました
2025-04-29 05:03:48,566 - feature_engineering - INFO - DEBUG: 渡された設定キー: ['input_dir', 'input_filename', 'output_dir', 'output_filename', 'classification_threshold', 'target_periods', 'high_threshold_models', 'features', 'vwap_period', 'ma_periods', 'rsi_periods', 'bollinger_period', 'bollinger_std', 'macd_params', 'stochastic_params', 'atr_period']
2025-04-29 05:03:48,566 - feature_engineering - INFO - DEBUG: high_threshold_modelsの内容: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:03:48,566 - feature_engineering - INFO - データを data\raw\btcusd_5m_data.csv から読み込みます
2025-04-29 05:03:48,574 - feature_engineering - INFO - 2880 行のデータを読み込みました
2025-04-29 05:03:48,574 - feature_engineering - INFO - 特徴量生成を開始。入力データサイズ: (2880, 6)
2025-04-29 05:03:48,574 - feature_engineering - INFO - 設定内容: 分類閾値=0.0001, 目標期間=[1, 2, 3]
2025-04-29 05:03:48,574 - feature_engineering - INFO - 価格変動率特徴量を生成中...
2025-04-29 05:03:48,574 - feature_engineering.price - INFO - 価格変動率とローソク足パターンの特徴量を追加しています
2025-04-29 05:03:48,579 - feature_engineering - INFO - 出来高変動率特徴量を生成中...
2025-04-29 05:03:48,579 - feature_engineering.volume - INFO - 出来高変動率の特徴量を追加しています
2025-04-29 05:03:48,582 - feature_engineering - INFO - 移動平均線特徴量を生成中...
2025-04-29 05:03:48,582 - feature_engineering.moving_average - INFO - 移動平均線と乖離率の特徴量を追加しています
2025-04-29 05:03:48,605 - feature_engineering - INFO - RSI特徴量を生成中...
2025-04-29 05:03:48,606 - feature_engineering.oscillator - INFO - RSIの特徴量を追加しています
2025-04-29 05:03:48,608 - feature_engineering - INFO - 高値/安値特徴量を生成中...
2025-04-29 05:03:48,608 - feature_engineering.price - INFO - 高値/安値からの距離の特徴量を追加しています
2025-04-29 05:03:48,611 - feature_engineering - INFO - ボリンジャーバンド特徴量を生成中...
2025-04-29 05:03:48,611 - feature_engineering.volatility - INFO - ボリンジャーバンドの特徴量を追加しています
2025-04-29 05:03:48,613 - feature_engineering - INFO - MACD特徴量を生成中...
2025-04-29 05:03:48,613 - feature_engineering.oscillator - INFO - MACDの特徴量を追加しています
2025-04-29 05:03:48,615 - feature_engineering - INFO - ストキャスティクス特徴量を生成中...
2025-04-29 05:03:48,615 - feature_engineering.oscillator - INFO - ストキャスティクスの特徴量を追加しています
2025-04-29 05:03:48,616 - feature_engineering - INFO - ATR特徴量を生成中...
2025-04-29 05:03:48,616 - feature_engineering.volatility - INFO - ATRの特徴量を追加しています
2025-04-29 05:03:48,618 - feature_engineering - INFO - 高度な特徴量を生成中...
2025-04-29 05:03:48,618 - feature_engineering.advanced - INFO - 高度な特徴量を追加しています
2025-04-29 05:03:48,787 - feature_engineering - INFO - 目標変数を生成中...
2025-04-29 05:03:48,788 - feature_engineering - INFO - 高閾値シグナル設定を検出: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:03:48,788 - feature_engineering.target - INFO - DEBUG: generate_target_features 関数が呼び出されました
2025-04-29 05:03:48,788 - feature_engineering.target - INFO - DEBUG: 引数 - periods=[1, 2, 3], threshold=0.0001, high_config={'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:03:48,788 - feature_engineering.target - INFO - === 予測対象の目標変数を生成しています ===
2025-04-29 05:03:48,788 - feature_engineering.target - INFO - 分類閾値: 0.0001, 予測期間: [1, 2, 3]
2025-04-29 05:03:48,789 - feature_engineering.target - INFO - ボラティリティの平均: 0.006820
2025-04-29 05:03:48,789 - feature_engineering.target - INFO - 外部設定からの高閾値シグナル設定: [0.1, 0.2, 0.3, 0.5]%
2025-04-29 05:03:48,789 - feature_engineering.target - INFO - 方向: ['long', 'short'], 期間: [1, 2, 3]
2025-04-29 05:03:48,789 - feature_engineering.target - INFO - 期間 1 の目標変数を生成中...
2025-04-29 05:03:48,790 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_1 を生成しました
2025-04-29 05:03:48,790 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_1 を生成しました
2025-04-29 05:03:48,790 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_1 を生成しました
2025-04-29 05:03:48,790 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_1 を生成しました
2025-04-29 05:03:48,790 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_1 を生成しました
2025-04-29 05:03:48,791 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_1 を生成しました
2025-04-29 05:03:48,791 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_1 を生成しました
2025-04-29 05:03:48,791 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_1 を生成しました
2025-04-29 05:03:48,791 - feature_engineering.target - INFO - 期間 2 の目標変数を生成中...
2025-04-29 05:03:48,792 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_2 を生成しました
2025-04-29 05:03:48,792 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_2 を生成しました
2025-04-29 05:03:48,792 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_2 を生成しました
2025-04-29 05:03:48,792 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_2 を生成しました
2025-04-29 05:03:48,792 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_2 を生成しました
2025-04-29 05:03:48,793 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_2 を生成しました
2025-04-29 05:03:48,793 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_2 を生成しました
2025-04-29 05:03:48,793 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_2 を生成しました
2025-04-29 05:03:48,793 - feature_engineering.target - INFO - 期間 3 の目標変数を生成中...
2025-04-29 05:03:48,794 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_3 を生成しました
2025-04-29 05:03:48,794 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_3 を生成しました
2025-04-29 05:03:48,794 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_3 を生成しました
2025-04-29 05:03:48,794 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_3 を生成しました
2025-04-29 05:03:48,794 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_3 を生成しました
2025-04-29 05:03:48,795 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_3 を生成しました
2025-04-29 05:03:48,795 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_3 を生成しました
2025-04-29 05:03:48,795 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_3 を生成しました
2025-04-29 05:03:48,796 - feature_engineering.target - INFO - === 生成された目標変数の統計情報 ===
2025-04-29 05:03:48,796 - feature_engineering.target - INFO - ---- 期間 1 の統計情報 ----
2025-04-29 05:03:48,797 - feature_engineering.target - INFO - target_price_change_pct_1 の統計: min=-0.018019, max=0.019641, mean=0.000091
2025-04-29 05:03:48,798 - feature_engineering.target - INFO - target_threshold_ternary_1 のクラス分布:
2025-04-29 05:03:48,798 - feature_engineering.target - INFO -   クラス 1: 1433 サンプル (49.76%)
2025-04-29 05:03:48,798 - feature_engineering.target - INFO -   クラス 0: 1421 サンプル (49.34%)
2025-04-29 05:03:48,798 - feature_engineering.target - INFO -   クラス 2: 26 サンプル (0.90%)
2025-04-29 05:03:48,798 - feature_engineering.target - INFO - target_threshold_binary_1 のNaN: 26 サンプル (0.90%)
2025-04-29 05:03:48,799 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値クラス分布:
2025-04-29 05:03:48,799 - feature_engineering.target - INFO -   クラス 1.0: 1433 サンプル (50.21%)
2025-04-29 05:03:48,799 - feature_engineering.target - INFO -   クラス 0.0: 1421 サンプル (49.79%)
2025-04-29 05:03:48,799 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値数: 2854 (99.10%)
2025-04-29 05:03:48,799 - feature_engineering.target - INFO - target_threshold_binary_1 のクラスバランス比率: 0.9916 (1に近いほど均等)
2025-04-29 05:03:48,800 - feature_engineering.target - INFO - target_price_direction_1 のクラス分布:
2025-04-29 05:03:48,800 - feature_engineering.target - INFO -   クラス 1: 1433 サンプル (49.76%)
2025-04-29 05:03:48,800 - feature_engineering.target - INFO -   クラス -1: 1421 サンプル (49.34%)
2025-04-29 05:03:48,800 - feature_engineering.target - INFO -   クラス 0: 26 サンプル (0.90%)
2025-04-29 05:03:48,800 - feature_engineering.target - INFO - target_price_direction_1 のクラスバランス比率: 0.0181 (1に近いほど均等)
2025-04-29 05:03:48,800 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のクラス分布:
2025-04-29 05:03:48,801 - feature_engineering.target - INFO -   クラス 0: 1585 サンプル (55.03%)
2025-04-29 05:03:48,801 - feature_engineering.target - INFO -   クラス 1: 1295 サンプル (44.97%)
2025-04-29 05:03:48,801 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のシグナル発生率: 44.9653%
2025-04-29 05:03:48,801 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のクラス分布:
2025-04-29 05:03:48,801 - feature_engineering.target - INFO -   クラス 0: 1588 サンプル (55.14%)
2025-04-29 05:03:48,801 - feature_engineering.target - INFO -   クラス 1: 1292 サンプル (44.86%)
2025-04-29 05:03:48,801 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のシグナル発生率: 44.8611%
2025-04-29 05:03:48,802 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のクラス分布:
2025-04-29 05:03:48,802 - feature_engineering.target - INFO -   クラス 0: 1763 サンプル (61.22%)
2025-04-29 05:03:48,802 - feature_engineering.target - INFO -   クラス 1: 1117 サンプル (38.78%)
2025-04-29 05:03:48,802 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のシグナル発生率: 38.7847%
2025-04-29 05:03:48,803 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のクラス分布:
2025-04-29 05:03:48,803 - feature_engineering.target - INFO -   クラス 0: 1737 サンプル (60.31%)
2025-04-29 05:03:48,803 - feature_engineering.target - INFO -   クラス 1: 1143 サンプル (39.69%)
2025-04-29 05:03:48,803 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のシグナル発生率: 39.6875%
2025-04-29 05:03:48,803 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のクラス分布:
2025-04-29 05:03:48,804 - feature_engineering.target - INFO -   クラス 0: 1891 サンプル (65.66%)
2025-04-29 05:03:48,804 - feature_engineering.target - INFO -   クラス 1: 989 サンプル (34.34%)
2025-04-29 05:03:48,804 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のシグナル発生率: 34.3403%
2025-04-29 05:03:48,804 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のクラス分布:
2025-04-29 05:03:48,804 - feature_engineering.target - INFO -   クラス 0: 1923 サンプル (66.77%)
2025-04-29 05:03:48,804 - feature_engineering.target - INFO -   クラス 1: 957 サンプル (33.23%)
2025-04-29 05:03:48,804 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のシグナル発生率: 33.2292%
2025-04-29 05:03:48,805 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のクラス分布:
2025-04-29 05:03:48,805 - feature_engineering.target - INFO -   クラス 0: 2164 サンプル (75.14%)
2025-04-29 05:03:48,805 - feature_engineering.target - INFO -   クラス 1: 716 サンプル (24.86%)
2025-04-29 05:03:48,805 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のシグナル発生率: 24.8611%
2025-04-29 05:03:48,805 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のクラス分布:
2025-04-29 05:03:48,806 - feature_engineering.target - INFO -   クラス 0: 2193 サンプル (76.15%)
2025-04-29 05:03:48,806 - feature_engineering.target - INFO -   クラス 1: 687 サンプル (23.85%)
2025-04-29 05:03:48,806 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のシグナル発生率: 23.8542%
2025-04-29 05:03:48,806 - feature_engineering.target - INFO - ---- 期間 2 の統計情報 ----
2025-04-29 05:03:48,807 - feature_engineering.target - INFO - target_price_change_pct_2 の統計: min=-0.021522, max=0.022972, mean=0.000158
2025-04-29 05:03:48,807 - feature_engineering.target - INFO - target_threshold_ternary_2 のクラス分布:
2025-04-29 05:03:48,807 - feature_engineering.target - INFO -   クラス 1: 1456 サンプル (50.56%)
2025-04-29 05:03:48,807 - feature_engineering.target - INFO -   クラス 0: 1398 サンプル (48.54%)
2025-04-29 05:03:48,807 - feature_engineering.target - INFO -   クラス 2: 26 サンプル (0.90%)
2025-04-29 05:03:48,808 - feature_engineering.target - INFO - target_threshold_binary_2 のNaN: 26 サンプル (0.90%)
2025-04-29 05:03:48,808 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値クラス分布:
2025-04-29 05:03:48,808 - feature_engineering.target - INFO -   クラス 1.0: 1456 サンプル (51.02%)
2025-04-29 05:03:48,808 - feature_engineering.target - INFO -   クラス 0.0: 1398 サンプル (48.98%)
2025-04-29 05:03:48,808 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値数: 2854 (99.10%)
2025-04-29 05:03:48,809 - feature_engineering.target - INFO - target_threshold_binary_2 のクラスバランス比率: 0.9602 (1に近いほど均等)
2025-04-29 05:03:48,809 - feature_engineering.target - INFO - target_price_direction_2 のクラス分布:
2025-04-29 05:03:48,809 - feature_engineering.target - INFO -   クラス 1: 1456 サンプル (50.56%)
2025-04-29 05:03:48,809 - feature_engineering.target - INFO -   クラス -1: 1398 サンプル (48.54%)
2025-04-29 05:03:48,809 - feature_engineering.target - INFO -   クラス 0: 26 サンプル (0.90%)
2025-04-29 05:03:48,809 - feature_engineering.target - INFO - target_price_direction_2 のクラスバランス比率: 0.0179 (1に近いほど均等)
2025-04-29 05:03:48,810 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のクラス分布:
2025-04-29 05:03:48,810 - feature_engineering.target - INFO -   クラス 0: 1567 サンプル (54.41%)
2025-04-29 05:03:48,810 - feature_engineering.target - INFO -   クラス 1: 1313 サンプル (45.59%)
2025-04-29 05:03:48,810 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のシグナル発生率: 45.5903%
2025-04-29 05:03:48,810 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のクラス分布:
2025-04-29 05:03:48,811 - feature_engineering.target - INFO -   クラス 0: 1598 サンプル (55.49%)
2025-04-29 05:03:48,811 - feature_engineering.target - INFO -   クラス 1: 1282 サンプル (44.51%)
2025-04-29 05:03:48,811 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のシグナル発生率: 44.5139%
2025-04-29 05:03:48,811 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のクラス分布:
2025-04-29 05:03:48,811 - feature_engineering.target - INFO -   クラス 0: 1709 サンプル (59.34%)
2025-04-29 05:03:48,811 - feature_engineering.target - INFO -   クラス 1: 1171 サンプル (40.66%)
2025-04-29 05:03:48,811 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のシグナル発生率: 40.6597%
2025-04-29 05:03:48,812 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のクラス分布:
2025-04-29 05:03:48,812 - feature_engineering.target - INFO -   クラス 0: 1745 サンプル (60.59%)
2025-04-29 05:03:48,812 - feature_engineering.target - INFO -   クラス 1: 1135 サンプル (39.41%)
2025-04-29 05:03:48,812 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のシグナル発生率: 39.4097%
2025-04-29 05:03:48,813 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のクラス分布:
2025-04-29 05:03:48,813 - feature_engineering.target - INFO -   クラス 0: 1861 サンプル (64.62%)
2025-04-29 05:03:48,813 - feature_engineering.target - INFO -   クラス 1: 1019 サンプル (35.38%)
2025-04-29 05:03:48,813 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のシグナル発生率: 35.3819%
2025-04-29 05:03:48,813 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のクラス分布:
2025-04-29 05:03:48,813 - feature_engineering.target - INFO -   クラス 0: 1886 サンプル (65.49%)
2025-04-29 05:03:48,813 - feature_engineering.target - INFO -   クラス 1: 994 サンプル (34.51%)
2025-04-29 05:03:48,814 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のシグナル発生率: 34.5139%
2025-04-29 05:03:48,814 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のクラス分布:
2025-04-29 05:03:48,814 - feature_engineering.target - INFO -   クラス 0: 2136 サンプル (74.17%)
2025-04-29 05:03:48,814 - feature_engineering.target - INFO -   クラス 1: 744 サンプル (25.83%)
2025-04-29 05:03:48,814 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のシグナル発生率: 25.8333%
2025-04-29 05:03:48,815 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のクラス分布:
2025-04-29 05:03:48,815 - feature_engineering.target - INFO -   クラス 0: 2154 サンプル (74.79%)
2025-04-29 05:03:48,815 - feature_engineering.target - INFO -   クラス 1: 726 サンプル (25.21%)
2025-04-29 05:03:48,815 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のシグナル発生率: 25.2083%
2025-04-29 05:03:48,815 - feature_engineering.target - INFO - ---- 期間 3 の統計情報 ----
2025-04-29 05:03:48,816 - feature_engineering.target - INFO - target_price_change_pct_3 の統計: min=-0.024170, max=0.024861, mean=0.000224
2025-04-29 05:03:48,816 - feature_engineering.target - INFO - target_threshold_ternary_3 のクラス分布:
2025-04-29 05:03:48,816 - feature_engineering.target - INFO -   クラス 1: 1447 サンプル (50.24%)
2025-04-29 05:03:48,816 - feature_engineering.target - INFO -   クラス 0: 1404 サンプル (48.75%)
2025-04-29 05:03:48,816 - feature_engineering.target - INFO -   クラス 2: 29 サンプル (1.01%)
2025-04-29 05:03:48,817 - feature_engineering.target - INFO - target_threshold_binary_3 のNaN: 29 サンプル (1.01%)
2025-04-29 05:03:48,817 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値クラス分布:
2025-04-29 05:03:48,817 - feature_engineering.target - INFO -   クラス 1.0: 1447 サンプル (50.75%)
2025-04-29 05:03:48,817 - feature_engineering.target - INFO -   クラス 0.0: 1404 サンプル (49.25%)
2025-04-29 05:03:48,817 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値数: 2851 (98.99%)
2025-04-29 05:03:48,817 - feature_engineering.target - INFO - target_threshold_binary_3 のクラスバランス比率: 0.9703 (1に近いほど均等)
2025-04-29 05:03:48,818 - feature_engineering.target - INFO - target_price_direction_3 のクラス分布:
2025-04-29 05:03:48,818 - feature_engineering.target - INFO -   クラス 1: 1447 サンプル (50.24%)
2025-04-29 05:03:48,818 - feature_engineering.target - INFO -   クラス -1: 1404 サンプル (48.75%)
2025-04-29 05:03:48,818 - feature_engineering.target - INFO -   クラス 0: 29 サンプル (1.01%)
2025-04-29 05:03:48,818 - feature_engineering.target - INFO - target_price_direction_3 のクラスバランス比率: 0.0200 (1に近いほど均等)
2025-04-29 05:03:48,819 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のクラス分布:
2025-04-29 05:03:48,819 - feature_engineering.target - INFO -   クラス 0: 1569 サンプル (54.48%)
2025-04-29 05:03:48,819 - feature_engineering.target - INFO -   クラス 1: 1311 サンプル (45.52%)
2025-04-29 05:03:48,819 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のシグナル発生率: 45.5208%
2025-04-29 05:03:48,819 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のクラス分布:
2025-04-29 05:03:48,820 - feature_engineering.target - INFO -   クラス 0: 1597 サンプル (55.45%)
2025-04-29 05:03:48,820 - feature_engineering.target - INFO -   クラス 1: 1283 サンプル (44.55%)
2025-04-29 05:03:48,820 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のシグナル発生率: 44.5486%
2025-04-29 05:03:48,820 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のクラス分布:
2025-04-29 05:03:48,820 - feature_engineering.target - INFO -   クラス 0: 1708 サンプル (59.31%)
2025-04-29 05:03:48,820 - feature_engineering.target - INFO -   クラス 1: 1172 サンプル (40.69%)
2025-04-29 05:03:48,820 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のシグナル発生率: 40.6944%
2025-04-29 05:03:48,821 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のクラス分布:
2025-04-29 05:03:48,821 - feature_engineering.target - INFO -   クラス 0: 1740 サンプル (60.42%)
2025-04-29 05:03:48,821 - feature_engineering.target - INFO -   クラス 1: 1140 サンプル (39.58%)
2025-04-29 05:03:48,821 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のシグナル発生率: 39.5833%
2025-04-29 05:03:48,821 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のクラス分布:
2025-04-29 05:03:48,822 - feature_engineering.target - INFO -   クラス 0: 1834 サンプル (63.68%)
2025-04-29 05:03:48,822 - feature_engineering.target - INFO -   クラス 1: 1046 サンプル (36.32%)
2025-04-29 05:03:48,822 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のシグナル発生率: 36.3194%
2025-04-29 05:03:48,822 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のクラス分布:
2025-04-29 05:03:48,822 - feature_engineering.target - INFO -   クラス 0: 1870 サンプル (64.93%)
2025-04-29 05:03:48,822 - feature_engineering.target - INFO -   クラス 1: 1010 サンプル (35.07%)
2025-04-29 05:03:48,822 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のシグナル発生率: 35.0694%
2025-04-29 05:03:48,823 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のクラス分布:
2025-04-29 05:03:48,823 - feature_engineering.target - INFO -   クラス 0: 2096 サンプル (72.78%)
2025-04-29 05:03:48,823 - feature_engineering.target - INFO -   クラス 1: 784 サンプル (27.22%)
2025-04-29 05:03:48,823 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のシグナル発生率: 27.2222%
2025-04-29 05:03:48,823 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のクラス分布:
2025-04-29 05:03:48,824 - feature_engineering.target - INFO -   クラス 0: 2122 サンプル (73.68%)
2025-04-29 05:03:48,824 - feature_engineering.target - INFO -   クラス 1: 758 サンプル (26.32%)
2025-04-29 05:03:48,824 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のシグナル発生率: 26.3194%
2025-04-29 05:03:48,824 - feature_engineering.target - INFO - 生成された高閾値シグナル変数: 24個
2025-04-29 05:03:48,824 - feature_engineering.target - INFO -   1. target_high_threshold_1p_long_1: シグナル比率 44.97%
2025-04-29 05:03:48,824 - feature_engineering.target - INFO -   2. target_high_threshold_1p_short_1: シグナル比率 44.86%
2025-04-29 05:03:48,825 - feature_engineering.target - INFO -   3. target_high_threshold_2p_long_1: シグナル比率 38.78%
2025-04-29 05:03:48,825 - feature_engineering.target - INFO -   4. target_high_threshold_2p_short_1: シグナル比率 39.69%
2025-04-29 05:03:48,825 - feature_engineering.target - INFO -   5. target_high_threshold_3p_long_1: シグナル比率 34.34%
2025-04-29 05:03:48,825 - feature_engineering.target - INFO -   6. target_high_threshold_3p_short_1: シグナル比率 33.23%
2025-04-29 05:03:48,825 - feature_engineering.target - INFO -   7. target_high_threshold_5p_long_1: シグナル比率 24.86%
2025-04-29 05:03:48,826 - feature_engineering.target - INFO -   8. target_high_threshold_5p_short_1: シグナル比率 23.85%
2025-04-29 05:03:48,826 - feature_engineering.target - INFO -   9. target_high_threshold_1p_long_2: シグナル比率 45.59%
2025-04-29 05:03:48,826 - feature_engineering.target - INFO -   10. target_high_threshold_1p_short_2: シグナル比率 44.51%
2025-04-29 05:03:48,826 - feature_engineering.target - INFO -   ...他 14 個
2025-04-29 05:03:48,826 - feature_engineering.target - INFO - 目標変数を含むデータフレームを生成完了。サイズ: (2880, 42)
2025-04-29 05:03:48,827 - feature_engineering - INFO - すべての特徴量を結合中...
2025-04-29 05:03:48,829 - feature_engineering - INFO - 重複列削除後のカラム数: 188
2025-04-29 05:03:48,831 - feature_engineering - INFO - NaNを含む行を削除: 174行 (6.04%)
2025-04-29 05:03:48,831 - feature_engineering.advanced - INFO - フィッシャー変換RSIの特徴量を追加しています
2025-04-29 05:03:48,835 - feature_engineering.selector - INFO - 重要な特徴量を選択しています
2025-04-29 05:03:48,835 - feature_engineering.selector - INFO - 重要な特徴量 66個を選択しました
2025-04-29 05:03:48,836 - feature_engineering - INFO - 生成された目標変数列: ['target_price_change_pct_1', 'target_price_change_pct_2', 'target_price_change_pct_3', 'target_price_direction_1', 'target_price_direction_2', 'target_price_direction_3', 'target_threshold_binary_1', 'target_threshold_binary_2', 'target_threshold_binary_3', 'target_threshold_ternary_1', 'target_threshold_ternary_2', 'target_threshold_ternary_3']
2025-04-29 05:03:48,836 - feature_engineering - INFO - target_threshold_binary_1 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:03:48,836 - feature_engineering - INFO - target_threshold_binary_1 のクラス分布: {1.0: 1361, 0.0: 1345}
2025-04-29 05:03:48,836 - feature_engineering - INFO - target_threshold_binary_2 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:03:48,837 - feature_engineering - INFO - target_threshold_binary_2 のクラス分布: {1.0: 1383, 0.0: 1323}
2025-04-29 05:03:48,837 - feature_engineering - INFO - target_threshold_binary_3 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:03:48,837 - feature_engineering - INFO - target_threshold_binary_3 のクラス分布: {1.0: 1378, 0.0: 1328}
2025-04-29 05:03:48,837 - feature_engineering - INFO - 特徴量生成が完了しました。カラム数: 66, 行数: 2706
2025-04-29 05:03:48,955 - feature_engineering - INFO - 特徴量を data\processed\btcusd_5m_features.csv に保存しました。データサイズ: (2706, 66)
2025-04-29 05:03:48,973 - data_processing - INFO - 特徴量エンジニアリングが完了しました。生成された特徴量: 66列
2025-04-29 05:03:48,973 - data_processing - INFO - 生成された行数: 2706行
2025-04-29 05:03:48,973 - data_processing - INFO - 生成された目標変数: 12個
2025-04-29 05:03:48,973 - data_processing - ERROR - 高閾値シグナル変数が生成されませんでした。target_features.pyの修正が反映されていない可能性があります。
2025-04-29 05:03:48,973 - data_processing - INFO - DEBUG: 設定の確認
2025-04-29 05:03:48,974 - data_processing - INFO - DEBUG: high_threshold_models設定は存在します: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:03:48,974 - data_processing - INFO - DEBUG: 生成された列の一部:
2025-04-29 05:03:48,974 - data_processing - INFO -   1. target_price_change_pct_1
2025-04-29 05:03:48,974 - data_processing - INFO -   2. target_price_change_pct_2
2025-04-29 05:03:48,974 - data_processing - INFO -   3. target_price_change_pct_3
2025-04-29 05:03:48,974 - data_processing - INFO -   4. target_price_direction_1
2025-04-29 05:03:48,974 - data_processing - INFO -   5. target_price_direction_2
2025-04-29 05:03:48,974 - data_processing - INFO -   6. target_price_direction_3
2025-04-29 05:03:48,974 - data_processing - INFO -   7. target_threshold_binary_1
2025-04-29 05:03:48,974 - data_processing - INFO -   8. target_threshold_binary_2
2025-04-29 05:03:48,974 - data_processing - INFO -   9. target_threshold_binary_3
2025-04-29 05:03:48,975 - data_processing - INFO -   10. target_threshold_ternary_1
2025-04-29 05:03:48,975 - data_processing - INFO -   11. target_threshold_ternary_2
2025-04-29 05:03:48,975 - data_processing - INFO -   12. target_threshold_ternary_3
2025-04-29 05:03:48,975 - data_processing - INFO - 標準目標変数: 12個
2025-04-29 05:21:02,816 - data_processing - INFO - サンプルデータの生成が完了しました
2025-04-29 05:21:03,789 - config_loader - INFO - 設定を config\model_config.json から読み込みました
2025-04-29 05:21:03,790 - data_processing - INFO - 高閾値シグナル設定: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:21:03,790 - data_processing - INFO - 使用する設定の全内容: {
  "input_dir": "data/raw",
  "input_filename": "btcusd_5m_data.csv",
  "output_dir": "data/processed",
  "output_filename": "btcusd_5m_features.csv",
  "classification_threshold": 0.0001,
  "target_periods": [
    1,
    2,
    3
  ],
  "high_threshold_models": {
    "target_periods": [
      1,
      2,
      3
    ],
    "directions": [
      "long",
      "short"
    ],
    "thresholds": [
      0.001,
      0.002,
      0.003,
      0.005
    ]
  },
  "features": {
    "price_change": true,
    "volume_change": true,
    "moving_averages": true,
    "rsi": true,
    "high_low_distance": true,
    "bollinger_bands": true,
    "macd": true,
    "stochastic": true,
    "advanced_features": true
  },
  "vwap_period": 14,
  "ma_periods": [
    5,
    10,
    20,
    50,
    100
  ],
  "rsi_periods": [
    6,
    14,
    21
  ],
  "bollinger_period": 20,
  "bollinger_std": 2.0,
  "macd_params": {
    "fast_period": 12,
    "slow_period": 26,
    "signal_period": 9
  },
  "stochastic_params": {
    "k_period": 14,
    "d_period": 3,
    "slowing": 3
  },
  "atr_period": 14
}
2025-04-29 05:21:03,794 - feature_engineering - INFO - DEBUG: FeatureGeneratorBase.__init__ が呼び出されました
2025-04-29 05:21:03,794 - feature_engineering - INFO - DEBUG: 渡された設定キー: ['input_dir', 'input_filename', 'output_dir', 'output_filename', 'classification_threshold', 'target_periods', 'high_threshold_models', 'features', 'vwap_period', 'ma_periods', 'rsi_periods', 'bollinger_period', 'bollinger_std', 'macd_params', 'stochastic_params', 'atr_period']
2025-04-29 05:21:03,794 - feature_engineering - INFO - DEBUG: high_threshold_modelsの内容: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:21:03,795 - feature_engineering - INFO - データを data\raw\btcusd_5m_data.csv から読み込みます
2025-04-29 05:21:03,812 - feature_engineering - INFO - 2880 行のデータを読み込みました
2025-04-29 05:21:03,812 - feature_engineering - INFO - 特徴量生成を開始。入力データサイズ: (2880, 6)
2025-04-29 05:21:03,812 - feature_engineering - INFO - 設定内容: 分類閾値=0.0001, 目標期間=[1, 2, 3]
2025-04-29 05:21:03,812 - feature_engineering - INFO - 価格変動率特徴量を生成中...
2025-04-29 05:21:03,812 - feature_engineering.price - INFO - 価格変動率とローソク足パターンの特徴量を追加しています
2025-04-29 05:21:03,817 - feature_engineering - INFO - 出来高変動率特徴量を生成中...
2025-04-29 05:21:03,817 - feature_engineering.volume - INFO - 出来高変動率の特徴量を追加しています
2025-04-29 05:21:03,820 - feature_engineering - INFO - 移動平均線特徴量を生成中...
2025-04-29 05:21:03,820 - feature_engineering.moving_average - INFO - 移動平均線と乖離率の特徴量を追加しています
2025-04-29 05:21:03,843 - feature_engineering - INFO - RSI特徴量を生成中...
2025-04-29 05:21:03,843 - feature_engineering.oscillator - INFO - RSIの特徴量を追加しています
2025-04-29 05:21:03,846 - feature_engineering - INFO - 高値/安値特徴量を生成中...
2025-04-29 05:21:03,846 - feature_engineering.price - INFO - 高値/安値からの距離の特徴量を追加しています
2025-04-29 05:21:03,849 - feature_engineering - INFO - ボリンジャーバンド特徴量を生成中...
2025-04-29 05:21:03,849 - feature_engineering.volatility - INFO - ボリンジャーバンドの特徴量を追加しています
2025-04-29 05:21:03,851 - feature_engineering - INFO - MACD特徴量を生成中...
2025-04-29 05:21:03,851 - feature_engineering.oscillator - INFO - MACDの特徴量を追加しています
2025-04-29 05:21:03,852 - feature_engineering - INFO - ストキャスティクス特徴量を生成中...
2025-04-29 05:21:03,852 - feature_engineering.oscillator - INFO - ストキャスティクスの特徴量を追加しています
2025-04-29 05:21:03,853 - feature_engineering - INFO - ATR特徴量を生成中...
2025-04-29 05:21:03,853 - feature_engineering.volatility - INFO - ATRの特徴量を追加しています
2025-04-29 05:21:03,855 - feature_engineering - INFO - 高度な特徴量を生成中...
2025-04-29 05:21:03,855 - feature_engineering.advanced - INFO - 高度な特徴量を追加しています
2025-04-29 05:21:04,022 - feature_engineering - INFO - 目標変数を生成中...
2025-04-29 05:21:04,022 - feature_engineering - INFO - 高閾値シグナル設定を検出: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:21:04,022 - feature_engineering.target - INFO - DEBUG: generate_target_features 関数が呼び出されました
2025-04-29 05:21:04,022 - feature_engineering.target - INFO - DEBUG: 引数 - periods=[1, 2, 3], threshold=0.0001, high_config={'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:21:04,023 - feature_engineering.target - INFO - === 予測対象の目標変数を生成しています ===
2025-04-29 05:21:04,023 - feature_engineering.target - INFO - 分類閾値: 0.0001, 予測期間: [1, 2, 3]
2025-04-29 05:21:04,023 - feature_engineering.target - INFO - ボラティリティの平均: 0.006820
2025-04-29 05:21:04,023 - feature_engineering.target - INFO - 外部設定からの高閾値シグナル設定: [0.1, 0.2, 0.3, 0.5]%
2025-04-29 05:21:04,023 - feature_engineering.target - INFO - 方向: ['long', 'short'], 期間: [1, 2, 3]
2025-04-29 05:21:04,023 - feature_engineering.target - INFO - 期間 1 の目標変数を生成中...
2025-04-29 05:21:04,024 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_1 を生成しました
2025-04-29 05:21:04,024 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_1 を生成しました
2025-04-29 05:21:04,024 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_1 を生成しました
2025-04-29 05:21:04,025 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_1 を生成しました
2025-04-29 05:21:04,025 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_1 を生成しました
2025-04-29 05:21:04,025 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_1 を生成しました
2025-04-29 05:21:04,025 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_1 を生成しました
2025-04-29 05:21:04,025 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_1 を生成しました
2025-04-29 05:21:04,025 - feature_engineering.target - INFO - 期間 2 の目標変数を生成中...
2025-04-29 05:21:04,026 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_2 を生成しました
2025-04-29 05:21:04,026 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_2 を生成しました
2025-04-29 05:21:04,026 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_2 を生成しました
2025-04-29 05:21:04,026 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_2 を生成しました
2025-04-29 05:21:04,027 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_2 を生成しました
2025-04-29 05:21:04,027 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_2 を生成しました
2025-04-29 05:21:04,027 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_2 を生成しました
2025-04-29 05:21:04,027 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_2 を生成しました
2025-04-29 05:21:04,027 - feature_engineering.target - INFO - 期間 3 の目標変数を生成中...
2025-04-29 05:21:04,028 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_3 を生成しました
2025-04-29 05:21:04,028 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_3 を生成しました
2025-04-29 05:21:04,028 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_3 を生成しました
2025-04-29 05:21:04,029 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_3 を生成しました
2025-04-29 05:21:04,029 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_3 を生成しました
2025-04-29 05:21:04,029 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_3 を生成しました
2025-04-29 05:21:04,029 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_3 を生成しました
2025-04-29 05:21:04,029 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_3 を生成しました
2025-04-29 05:21:04,030 - feature_engineering.target - INFO - === 生成された目標変数の統計情報 ===
2025-04-29 05:21:04,030 - feature_engineering.target - INFO - ---- 期間 1 の統計情報 ----
2025-04-29 05:21:04,031 - feature_engineering.target - INFO - target_price_change_pct_1 の統計: min=-0.018019, max=0.019641, mean=0.000091
2025-04-29 05:21:04,032 - feature_engineering.target - INFO - target_threshold_ternary_1 のクラス分布:
2025-04-29 05:21:04,032 - feature_engineering.target - INFO -   クラス 1: 1433 サンプル (49.76%)
2025-04-29 05:21:04,032 - feature_engineering.target - INFO -   クラス 0: 1421 サンプル (49.34%)
2025-04-29 05:21:04,032 - feature_engineering.target - INFO -   クラス 2: 26 サンプル (0.90%)
2025-04-29 05:21:04,032 - feature_engineering.target - INFO - target_threshold_binary_1 のNaN: 26 サンプル (0.90%)
2025-04-29 05:21:04,033 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値クラス分布:
2025-04-29 05:21:04,033 - feature_engineering.target - INFO -   クラス 1.0: 1433 サンプル (50.21%)
2025-04-29 05:21:04,033 - feature_engineering.target - INFO -   クラス 0.0: 1421 サンプル (49.79%)
2025-04-29 05:21:04,033 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値数: 2854 (99.10%)
2025-04-29 05:21:04,033 - feature_engineering.target - INFO - target_threshold_binary_1 のクラスバランス比率: 0.9916 (1に近いほど均等)
2025-04-29 05:21:04,034 - feature_engineering.target - INFO - target_price_direction_1 のクラス分布:
2025-04-29 05:21:04,034 - feature_engineering.target - INFO -   クラス 1: 1433 サンプル (49.76%)
2025-04-29 05:21:04,034 - feature_engineering.target - INFO -   クラス -1: 1421 サンプル (49.34%)
2025-04-29 05:21:04,034 - feature_engineering.target - INFO -   クラス 0: 26 サンプル (0.90%)
2025-04-29 05:21:04,034 - feature_engineering.target - INFO - target_price_direction_1 のクラスバランス比率: 0.0181 (1に近いほど均等)
2025-04-29 05:21:04,035 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のクラス分布:
2025-04-29 05:21:04,035 - feature_engineering.target - INFO -   クラス 0: 1585 サンプル (55.03%)
2025-04-29 05:21:04,035 - feature_engineering.target - INFO -   クラス 1: 1295 サンプル (44.97%)
2025-04-29 05:21:04,035 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のシグナル発生率: 44.9653%
2025-04-29 05:21:04,035 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のクラス分布:
2025-04-29 05:21:04,035 - feature_engineering.target - INFO -   クラス 0: 1588 サンプル (55.14%)
2025-04-29 05:21:04,035 - feature_engineering.target - INFO -   クラス 1: 1292 サンプル (44.86%)
2025-04-29 05:21:04,036 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のシグナル発生率: 44.8611%
2025-04-29 05:21:04,036 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のクラス分布:
2025-04-29 05:21:04,036 - feature_engineering.target - INFO -   クラス 0: 1763 サンプル (61.22%)
2025-04-29 05:21:04,036 - feature_engineering.target - INFO -   クラス 1: 1117 サンプル (38.78%)
2025-04-29 05:21:04,036 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のシグナル発生率: 38.7847%
2025-04-29 05:21:04,037 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のクラス分布:
2025-04-29 05:21:04,037 - feature_engineering.target - INFO -   クラス 0: 1737 サンプル (60.31%)
2025-04-29 05:21:04,037 - feature_engineering.target - INFO -   クラス 1: 1143 サンプル (39.69%)
2025-04-29 05:21:04,037 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のシグナル発生率: 39.6875%
2025-04-29 05:21:04,037 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のクラス分布:
2025-04-29 05:21:04,038 - feature_engineering.target - INFO -   クラス 0: 1891 サンプル (65.66%)
2025-04-29 05:21:04,038 - feature_engineering.target - INFO -   クラス 1: 989 サンプル (34.34%)
2025-04-29 05:21:04,038 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のシグナル発生率: 34.3403%
2025-04-29 05:21:04,038 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のクラス分布:
2025-04-29 05:21:04,038 - feature_engineering.target - INFO -   クラス 0: 1923 サンプル (66.77%)
2025-04-29 05:21:04,038 - feature_engineering.target - INFO -   クラス 1: 957 サンプル (33.23%)
2025-04-29 05:21:04,038 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のシグナル発生率: 33.2292%
2025-04-29 05:21:04,039 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のクラス分布:
2025-04-29 05:21:04,039 - feature_engineering.target - INFO -   クラス 0: 2164 サンプル (75.14%)
2025-04-29 05:21:04,039 - feature_engineering.target - INFO -   クラス 1: 716 サンプル (24.86%)
2025-04-29 05:21:04,039 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のシグナル発生率: 24.8611%
2025-04-29 05:21:04,039 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のクラス分布:
2025-04-29 05:21:04,040 - feature_engineering.target - INFO -   クラス 0: 2193 サンプル (76.15%)
2025-04-29 05:21:04,040 - feature_engineering.target - INFO -   クラス 1: 687 サンプル (23.85%)
2025-04-29 05:21:04,040 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のシグナル発生率: 23.8542%
2025-04-29 05:21:04,040 - feature_engineering.target - INFO - ---- 期間 2 の統計情報 ----
2025-04-29 05:21:04,041 - feature_engineering.target - INFO - target_price_change_pct_2 の統計: min=-0.021522, max=0.022972, mean=0.000158
2025-04-29 05:21:04,041 - feature_engineering.target - INFO - target_threshold_ternary_2 のクラス分布:
2025-04-29 05:21:04,041 - feature_engineering.target - INFO -   クラス 1: 1456 サンプル (50.56%)
2025-04-29 05:21:04,041 - feature_engineering.target - INFO -   クラス 0: 1398 サンプル (48.54%)
2025-04-29 05:21:04,041 - feature_engineering.target - INFO -   クラス 2: 26 サンプル (0.90%)
2025-04-29 05:21:04,042 - feature_engineering.target - INFO - target_threshold_binary_2 のNaN: 26 サンプル (0.90%)
2025-04-29 05:21:04,042 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値クラス分布:
2025-04-29 05:21:04,042 - feature_engineering.target - INFO -   クラス 1.0: 1456 サンプル (51.02%)
2025-04-29 05:21:04,042 - feature_engineering.target - INFO -   クラス 0.0: 1398 サンプル (48.98%)
2025-04-29 05:21:04,042 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値数: 2854 (99.10%)
2025-04-29 05:21:04,042 - feature_engineering.target - INFO - target_threshold_binary_2 のクラスバランス比率: 0.9602 (1に近いほど均等)
2025-04-29 05:21:04,043 - feature_engineering.target - INFO - target_price_direction_2 のクラス分布:
2025-04-29 05:21:04,043 - feature_engineering.target - INFO -   クラス 1: 1456 サンプル (50.56%)
2025-04-29 05:21:04,043 - feature_engineering.target - INFO -   クラス -1: 1398 サンプル (48.54%)
2025-04-29 05:21:04,043 - feature_engineering.target - INFO -   クラス 0: 26 サンプル (0.90%)
2025-04-29 05:21:04,043 - feature_engineering.target - INFO - target_price_direction_2 のクラスバランス比率: 0.0179 (1に近いほど均等)
2025-04-29 05:21:04,043 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のクラス分布:
2025-04-29 05:21:04,044 - feature_engineering.target - INFO -   クラス 0: 1567 サンプル (54.41%)
2025-04-29 05:21:04,044 - feature_engineering.target - INFO -   クラス 1: 1313 サンプル (45.59%)
2025-04-29 05:21:04,044 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のシグナル発生率: 45.5903%
2025-04-29 05:21:04,045 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のクラス分布:
2025-04-29 05:21:04,045 - feature_engineering.target - INFO -   クラス 0: 1598 サンプル (55.49%)
2025-04-29 05:21:04,045 - feature_engineering.target - INFO -   クラス 1: 1282 サンプル (44.51%)
2025-04-29 05:21:04,045 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のシグナル発生率: 44.5139%
2025-04-29 05:21:04,045 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のクラス分布:
2025-04-29 05:21:04,046 - feature_engineering.target - INFO -   クラス 0: 1709 サンプル (59.34%)
2025-04-29 05:21:04,046 - feature_engineering.target - INFO -   クラス 1: 1171 サンプル (40.66%)
2025-04-29 05:21:04,046 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のシグナル発生率: 40.6597%
2025-04-29 05:21:04,046 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のクラス分布:
2025-04-29 05:21:04,046 - feature_engineering.target - INFO -   クラス 0: 1745 サンプル (60.59%)
2025-04-29 05:21:04,046 - feature_engineering.target - INFO -   クラス 1: 1135 サンプル (39.41%)
2025-04-29 05:21:04,046 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のシグナル発生率: 39.4097%
2025-04-29 05:21:04,047 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のクラス分布:
2025-04-29 05:21:04,047 - feature_engineering.target - INFO -   クラス 0: 1861 サンプル (64.62%)
2025-04-29 05:21:04,047 - feature_engineering.target - INFO -   クラス 1: 1019 サンプル (35.38%)
2025-04-29 05:21:04,047 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のシグナル発生率: 35.3819%
2025-04-29 05:21:04,048 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のクラス分布:
2025-04-29 05:21:04,048 - feature_engineering.target - INFO -   クラス 0: 1886 サンプル (65.49%)
2025-04-29 05:21:04,048 - feature_engineering.target - INFO -   クラス 1: 994 サンプル (34.51%)
2025-04-29 05:21:04,048 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のシグナル発生率: 34.5139%
2025-04-29 05:21:04,048 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のクラス分布:
2025-04-29 05:21:04,049 - feature_engineering.target - INFO -   クラス 0: 2136 サンプル (74.17%)
2025-04-29 05:21:04,049 - feature_engineering.target - INFO -   クラス 1: 744 サンプル (25.83%)
2025-04-29 05:21:04,049 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のシグナル発生率: 25.8333%
2025-04-29 05:21:04,049 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のクラス分布:
2025-04-29 05:21:04,049 - feature_engineering.target - INFO -   クラス 0: 2154 サンプル (74.79%)
2025-04-29 05:21:04,049 - feature_engineering.target - INFO -   クラス 1: 726 サンプル (25.21%)
2025-04-29 05:21:04,050 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のシグナル発生率: 25.2083%
2025-04-29 05:21:04,050 - feature_engineering.target - INFO - ---- 期間 3 の統計情報 ----
2025-04-29 05:21:04,050 - feature_engineering.target - INFO - target_price_change_pct_3 の統計: min=-0.024170, max=0.024861, mean=0.000224
2025-04-29 05:21:04,051 - feature_engineering.target - INFO - target_threshold_ternary_3 のクラス分布:
2025-04-29 05:21:04,051 - feature_engineering.target - INFO -   クラス 1: 1447 サンプル (50.24%)
2025-04-29 05:21:04,051 - feature_engineering.target - INFO -   クラス 0: 1404 サンプル (48.75%)
2025-04-29 05:21:04,051 - feature_engineering.target - INFO -   クラス 2: 29 サンプル (1.01%)
2025-04-29 05:21:04,051 - feature_engineering.target - INFO - target_threshold_binary_3 のNaN: 29 サンプル (1.01%)
2025-04-29 05:21:04,052 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値クラス分布:
2025-04-29 05:21:04,052 - feature_engineering.target - INFO -   クラス 1.0: 1447 サンプル (50.75%)
2025-04-29 05:21:04,052 - feature_engineering.target - INFO -   クラス 0.0: 1404 サンプル (49.25%)
2025-04-29 05:21:04,052 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値数: 2851 (98.99%)
2025-04-29 05:21:04,052 - feature_engineering.target - INFO - target_threshold_binary_3 のクラスバランス比率: 0.9703 (1に近いほど均等)
2025-04-29 05:21:04,053 - feature_engineering.target - INFO - target_price_direction_3 のクラス分布:
2025-04-29 05:21:04,053 - feature_engineering.target - INFO -   クラス 1: 1447 サンプル (50.24%)
2025-04-29 05:21:04,053 - feature_engineering.target - INFO -   クラス -1: 1404 サンプル (48.75%)
2025-04-29 05:21:04,053 - feature_engineering.target - INFO -   クラス 0: 29 サンプル (1.01%)
2025-04-29 05:21:04,053 - feature_engineering.target - INFO - target_price_direction_3 のクラスバランス比率: 0.0200 (1に近いほど均等)
2025-04-29 05:21:04,053 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のクラス分布:
2025-04-29 05:21:04,053 - feature_engineering.target - INFO -   クラス 0: 1569 サンプル (54.48%)
2025-04-29 05:21:04,054 - feature_engineering.target - INFO -   クラス 1: 1311 サンプル (45.52%)
2025-04-29 05:21:04,054 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のシグナル発生率: 45.5208%
2025-04-29 05:21:04,054 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のクラス分布:
2025-04-29 05:21:04,054 - feature_engineering.target - INFO -   クラス 0: 1597 サンプル (55.45%)
2025-04-29 05:21:04,054 - feature_engineering.target - INFO -   クラス 1: 1283 サンプル (44.55%)
2025-04-29 05:21:04,054 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のシグナル発生率: 44.5486%
2025-04-29 05:21:04,055 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のクラス分布:
2025-04-29 05:21:04,055 - feature_engineering.target - INFO -   クラス 0: 1708 サンプル (59.31%)
2025-04-29 05:21:04,055 - feature_engineering.target - INFO -   クラス 1: 1172 サンプル (40.69%)
2025-04-29 05:21:04,055 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のシグナル発生率: 40.6944%
2025-04-29 05:21:04,055 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のクラス分布:
2025-04-29 05:21:04,056 - feature_engineering.target - INFO -   クラス 0: 1740 サンプル (60.42%)
2025-04-29 05:21:04,056 - feature_engineering.target - INFO -   クラス 1: 1140 サンプル (39.58%)
2025-04-29 05:21:04,056 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のシグナル発生率: 39.5833%
2025-04-29 05:21:04,056 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のクラス分布:
2025-04-29 05:21:04,056 - feature_engineering.target - INFO -   クラス 0: 1834 サンプル (63.68%)
2025-04-29 05:21:04,056 - feature_engineering.target - INFO -   クラス 1: 1046 サンプル (36.32%)
2025-04-29 05:21:04,056 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のシグナル発生率: 36.3194%
2025-04-29 05:21:04,057 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のクラス分布:
2025-04-29 05:21:04,057 - feature_engineering.target - INFO -   クラス 0: 1870 サンプル (64.93%)
2025-04-29 05:21:04,057 - feature_engineering.target - INFO -   クラス 1: 1010 サンプル (35.07%)
2025-04-29 05:21:04,057 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のシグナル発生率: 35.0694%
2025-04-29 05:21:04,057 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のクラス分布:
2025-04-29 05:21:04,058 - feature_engineering.target - INFO -   クラス 0: 2096 サンプル (72.78%)
2025-04-29 05:21:04,058 - feature_engineering.target - INFO -   クラス 1: 784 サンプル (27.22%)
2025-04-29 05:21:04,058 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のシグナル発生率: 27.2222%
2025-04-29 05:21:04,058 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のクラス分布:
2025-04-29 05:21:04,058 - feature_engineering.target - INFO -   クラス 0: 2122 サンプル (73.68%)
2025-04-29 05:21:04,058 - feature_engineering.target - INFO -   クラス 1: 758 サンプル (26.32%)
2025-04-29 05:21:04,058 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のシグナル発生率: 26.3194%
2025-04-29 05:21:04,058 - feature_engineering.target - INFO - 生成された高閾値シグナル変数: 24個
2025-04-29 05:21:04,059 - feature_engineering.target - INFO -   1. target_high_threshold_1p_long_1: シグナル比率 44.97%
2025-04-29 05:21:04,059 - feature_engineering.target - INFO -   2. target_high_threshold_1p_short_1: シグナル比率 44.86%
2025-04-29 05:21:04,059 - feature_engineering.target - INFO -   3. target_high_threshold_2p_long_1: シグナル比率 38.78%
2025-04-29 05:21:04,059 - feature_engineering.target - INFO -   4. target_high_threshold_2p_short_1: シグナル比率 39.69%
2025-04-29 05:21:04,060 - feature_engineering.target - INFO -   5. target_high_threshold_3p_long_1: シグナル比率 34.34%
2025-04-29 05:21:04,060 - feature_engineering.target - INFO -   6. target_high_threshold_3p_short_1: シグナル比率 33.23%
2025-04-29 05:21:04,060 - feature_engineering.target - INFO -   7. target_high_threshold_5p_long_1: シグナル比率 24.86%
2025-04-29 05:21:04,061 - feature_engineering.target - INFO -   8. target_high_threshold_5p_short_1: シグナル比率 23.85%
2025-04-29 05:21:04,061 - feature_engineering.target - INFO -   9. target_high_threshold_1p_long_2: シグナル比率 45.59%
2025-04-29 05:21:04,061 - feature_engineering.target - INFO -   10. target_high_threshold_1p_short_2: シグナル比率 44.51%
2025-04-29 05:21:04,061 - feature_engineering.target - INFO -   ...他 14 個
2025-04-29 05:21:04,062 - feature_engineering.target - INFO - 目標変数を含むデータフレームを生成完了。サイズ: (2880, 42)
2025-04-29 05:21:04,062 - feature_engineering - INFO - すべての特徴量を結合中...
2025-04-29 05:21:04,065 - feature_engineering - INFO - 重複列削除後のカラム数: 188
2025-04-29 05:21:04,068 - feature_engineering - INFO - NaNを含む行を削除: 174行 (6.04%)
2025-04-29 05:21:04,068 - feature_engineering.advanced - INFO - フィッシャー変換RSIの特徴量を追加しています
2025-04-29 05:21:04,071 - feature_engineering.selector - INFO - 重要な特徴量を選択しています
2025-04-29 05:21:04,072 - feature_engineering.selector - INFO - 重要な特徴量 66個を選択しました
2025-04-29 05:21:04,072 - feature_engineering - INFO - 生成された目標変数列: ['target_price_change_pct_1', 'target_price_change_pct_2', 'target_price_change_pct_3', 'target_price_direction_1', 'target_price_direction_2', 'target_price_direction_3', 'target_threshold_binary_1', 'target_threshold_binary_2', 'target_threshold_binary_3', 'target_threshold_ternary_1', 'target_threshold_ternary_2', 'target_threshold_ternary_3']
2025-04-29 05:21:04,072 - feature_engineering - INFO - target_threshold_binary_1 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:21:04,073 - feature_engineering - INFO - target_threshold_binary_1 のクラス分布: {1.0: 1361, 0.0: 1345}
2025-04-29 05:21:04,073 - feature_engineering - INFO - target_threshold_binary_2 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:21:04,073 - feature_engineering - INFO - target_threshold_binary_2 のクラス分布: {1.0: 1383, 0.0: 1323}
2025-04-29 05:21:04,073 - feature_engineering - INFO - target_threshold_binary_3 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:21:04,074 - feature_engineering - INFO - target_threshold_binary_3 のクラス分布: {1.0: 1378, 0.0: 1328}
2025-04-29 05:21:04,074 - feature_engineering - INFO - 特徴量生成が完了しました。カラム数: 66, 行数: 2706
2025-04-29 05:21:04,191 - feature_engineering - INFO - 特徴量を data\processed\btcusd_5m_features.csv に保存しました。データサイズ: (2706, 66)
2025-04-29 05:21:04,208 - data_processing - INFO - 特徴量エンジニアリングが完了しました。生成された特徴量: 66列
2025-04-29 05:21:04,208 - data_processing - INFO - 生成された行数: 2706行
2025-04-29 05:21:04,208 - data_processing - INFO - 生成された目標変数: 12個
2025-04-29 05:21:04,208 - data_processing - ERROR - 高閾値シグナル変数が生成されませんでした。target_features.pyの修正が反映されていない可能性があります。
2025-04-29 05:21:04,208 - data_processing - INFO - DEBUG: 設定の確認
2025-04-29 05:21:04,208 - data_processing - INFO - DEBUG: high_threshold_models設定は存在します: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:21:04,208 - data_processing - INFO - DEBUG: 生成された列の一部:
2025-04-29 05:21:04,208 - data_processing - INFO -   1. target_price_change_pct_1
2025-04-29 05:21:04,208 - data_processing - INFO -   2. target_price_change_pct_2
2025-04-29 05:21:04,209 - data_processing - INFO -   3. target_price_change_pct_3
2025-04-29 05:21:04,209 - data_processing - INFO -   4. target_price_direction_1
2025-04-29 05:21:04,209 - data_processing - INFO -   5. target_price_direction_2
2025-04-29 05:21:04,209 - data_processing - INFO -   6. target_price_direction_3
2025-04-29 05:21:04,209 - data_processing - INFO -   7. target_threshold_binary_1
2025-04-29 05:21:04,209 - data_processing - INFO -   8. target_threshold_binary_2
2025-04-29 05:21:04,209 - data_processing - INFO -   9. target_threshold_binary_3
2025-04-29 05:21:04,209 - data_processing - INFO -   10. target_threshold_ternary_1
2025-04-29 05:21:04,209 - data_processing - INFO -   11. target_threshold_ternary_2
2025-04-29 05:21:04,209 - data_processing - INFO -   12. target_threshold_ternary_3
2025-04-29 05:21:04,209 - data_processing - INFO - 標準目標変数: 12個
2025-04-29 05:21:26,055 - data_processing - INFO - サンプルデータの生成が完了しました
2025-04-29 05:21:27,027 - config_loader - INFO - 設定を config\model_config.json から読み込みました
2025-04-29 05:21:27,028 - data_processing - INFO - 高閾値シグナル設定: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:21:27,028 - data_processing - INFO - 使用する設定の全内容: {
  "input_dir": "data/raw",
  "input_filename": "btcusd_5m_data.csv",
  "output_dir": "data/processed",
  "output_filename": "btcusd_5m_features.csv",
  "classification_threshold": 0.0001,
  "target_periods": [
    1,
    2,
    3
  ],
  "high_threshold_models": {
    "target_periods": [
      1,
      2,
      3
    ],
    "directions": [
      "long",
      "short"
    ],
    "thresholds": [
      0.001,
      0.002,
      0.003,
      0.005
    ]
  },
  "features": {
    "price_change": true,
    "volume_change": true,
    "moving_averages": true,
    "rsi": true,
    "high_low_distance": true,
    "bollinger_bands": true,
    "macd": true,
    "stochastic": true,
    "advanced_features": true
  },
  "vwap_period": 14,
  "ma_periods": [
    5,
    10,
    20,
    50,
    100
  ],
  "rsi_periods": [
    6,
    14,
    21
  ],
  "bollinger_period": 20,
  "bollinger_std": 2.0,
  "macd_params": {
    "fast_period": 12,
    "slow_period": 26,
    "signal_period": 9
  },
  "stochastic_params": {
    "k_period": 14,
    "d_period": 3,
    "slowing": 3
  },
  "atr_period": 14
}
2025-04-29 05:21:27,032 - feature_engineering - INFO - DEBUG: FeatureGeneratorBase.__init__ が呼び出されました
2025-04-29 05:21:27,032 - feature_engineering - INFO - DEBUG: 渡された設定キー: ['input_dir', 'input_filename', 'output_dir', 'output_filename', 'classification_threshold', 'target_periods', 'high_threshold_models', 'features', 'vwap_period', 'ma_periods', 'rsi_periods', 'bollinger_period', 'bollinger_std', 'macd_params', 'stochastic_params', 'atr_period']
2025-04-29 05:21:27,032 - feature_engineering - INFO - DEBUG: high_threshold_modelsの内容: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:21:27,032 - feature_engineering - INFO - データを data\raw\btcusd_5m_data.csv から読み込みます
2025-04-29 05:21:27,039 - feature_engineering - INFO - 2880 行のデータを読み込みました
2025-04-29 05:21:27,039 - feature_engineering - INFO - 特徴量生成を開始。入力データサイズ: (2880, 6)
2025-04-29 05:21:27,040 - feature_engineering - INFO - 設定内容: 分類閾値=0.0001, 目標期間=[1, 2, 3]
2025-04-29 05:21:27,040 - feature_engineering - INFO - 価格変動率特徴量を生成中...
2025-04-29 05:21:27,040 - feature_engineering.price - INFO - 価格変動率とローソク足パターンの特徴量を追加しています
2025-04-29 05:21:27,045 - feature_engineering - INFO - 出来高変動率特徴量を生成中...
2025-04-29 05:21:27,045 - feature_engineering.volume - INFO - 出来高変動率の特徴量を追加しています
2025-04-29 05:21:27,048 - feature_engineering - INFO - 移動平均線特徴量を生成中...
2025-04-29 05:21:27,048 - feature_engineering.moving_average - INFO - 移動平均線と乖離率の特徴量を追加しています
2025-04-29 05:21:27,071 - feature_engineering - INFO - RSI特徴量を生成中...
2025-04-29 05:21:27,071 - feature_engineering.oscillator - INFO - RSIの特徴量を追加しています
2025-04-29 05:21:27,074 - feature_engineering - INFO - 高値/安値特徴量を生成中...
2025-04-29 05:21:27,074 - feature_engineering.price - INFO - 高値/安値からの距離の特徴量を追加しています
2025-04-29 05:21:27,077 - feature_engineering - INFO - ボリンジャーバンド特徴量を生成中...
2025-04-29 05:21:27,077 - feature_engineering.volatility - INFO - ボリンジャーバンドの特徴量を追加しています
2025-04-29 05:21:27,079 - feature_engineering - INFO - MACD特徴量を生成中...
2025-04-29 05:21:27,080 - feature_engineering.oscillator - INFO - MACDの特徴量を追加しています
2025-04-29 05:21:27,081 - feature_engineering - INFO - ストキャスティクス特徴量を生成中...
2025-04-29 05:21:27,081 - feature_engineering.oscillator - INFO - ストキャスティクスの特徴量を追加しています
2025-04-29 05:21:27,082 - feature_engineering - INFO - ATR特徴量を生成中...
2025-04-29 05:21:27,082 - feature_engineering.volatility - INFO - ATRの特徴量を追加しています
2025-04-29 05:21:27,084 - feature_engineering - INFO - 高度な特徴量を生成中...
2025-04-29 05:21:27,084 - feature_engineering.advanced - INFO - 高度な特徴量を追加しています
2025-04-29 05:21:27,253 - feature_engineering - INFO - 目標変数を生成中...
2025-04-29 05:21:27,253 - feature_engineering - INFO - 高閾値シグナル設定を検出: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:21:27,253 - feature_engineering.target - INFO - DEBUG: generate_target_features 関数が呼び出されました
2025-04-29 05:21:27,253 - feature_engineering.target - INFO - DEBUG: 引数 - periods=[1, 2, 3], threshold=0.0001, high_config={'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:21:27,254 - feature_engineering.target - INFO - === 予測対象の目標変数を生成しています ===
2025-04-29 05:21:27,254 - feature_engineering.target - INFO - 分類閾値: 0.0001, 予測期間: [1, 2, 3]
2025-04-29 05:21:27,254 - feature_engineering.target - INFO - ボラティリティの平均: 0.006820
2025-04-29 05:21:27,254 - feature_engineering.target - INFO - 外部設定からの高閾値シグナル設定: [0.1, 0.2, 0.3, 0.5]%
2025-04-29 05:21:27,254 - feature_engineering.target - INFO - 方向: ['long', 'short'], 期間: [1, 2, 3]
2025-04-29 05:21:27,254 - feature_engineering.target - INFO - 期間 1 の目標変数を生成中...
2025-04-29 05:21:27,255 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_1 を生成しました
2025-04-29 05:21:27,255 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_1 を生成しました
2025-04-29 05:21:27,256 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_1 を生成しました
2025-04-29 05:21:27,256 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_1 を生成しました
2025-04-29 05:21:27,256 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_1 を生成しました
2025-04-29 05:21:27,256 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_1 を生成しました
2025-04-29 05:21:27,256 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_1 を生成しました
2025-04-29 05:21:27,256 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_1 を生成しました
2025-04-29 05:21:27,256 - feature_engineering.target - INFO - 期間 2 の目標変数を生成中...
2025-04-29 05:21:27,257 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_2 を生成しました
2025-04-29 05:21:27,257 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_2 を生成しました
2025-04-29 05:21:27,257 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_2 を生成しました
2025-04-29 05:21:27,258 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_2 を生成しました
2025-04-29 05:21:27,258 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_2 を生成しました
2025-04-29 05:21:27,258 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_2 を生成しました
2025-04-29 05:21:27,258 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_2 を生成しました
2025-04-29 05:21:27,258 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_2 を生成しました
2025-04-29 05:21:27,258 - feature_engineering.target - INFO - 期間 3 の目標変数を生成中...
2025-04-29 05:21:27,259 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_3 を生成しました
2025-04-29 05:21:27,259 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_3 を生成しました
2025-04-29 05:21:27,259 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_3 を生成しました
2025-04-29 05:21:27,260 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_3 を生成しました
2025-04-29 05:21:27,260 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_3 を生成しました
2025-04-29 05:21:27,260 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_3 を生成しました
2025-04-29 05:21:27,260 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_3 を生成しました
2025-04-29 05:21:27,260 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_3 を生成しました
2025-04-29 05:21:27,262 - feature_engineering.target - INFO - === 生成された目標変数の統計情報 ===
2025-04-29 05:21:27,262 - feature_engineering.target - INFO - ---- 期間 1 の統計情報 ----
2025-04-29 05:21:27,263 - feature_engineering.target - INFO - target_price_change_pct_1 の統計: min=-0.018019, max=0.019641, mean=0.000091
2025-04-29 05:21:27,263 - feature_engineering.target - INFO - target_threshold_ternary_1 のクラス分布:
2025-04-29 05:21:27,263 - feature_engineering.target - INFO -   クラス 1: 1433 サンプル (49.76%)
2025-04-29 05:21:27,263 - feature_engineering.target - INFO -   クラス 0: 1421 サンプル (49.34%)
2025-04-29 05:21:27,264 - feature_engineering.target - INFO -   クラス 2: 26 サンプル (0.90%)
2025-04-29 05:21:27,264 - feature_engineering.target - INFO - target_threshold_binary_1 のNaN: 26 サンプル (0.90%)
2025-04-29 05:21:27,264 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値クラス分布:
2025-04-29 05:21:27,265 - feature_engineering.target - INFO -   クラス 1.0: 1433 サンプル (50.21%)
2025-04-29 05:21:27,265 - feature_engineering.target - INFO -   クラス 0.0: 1421 サンプル (49.79%)
2025-04-29 05:21:27,265 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値数: 2854 (99.10%)
2025-04-29 05:21:27,265 - feature_engineering.target - INFO - target_threshold_binary_1 のクラスバランス比率: 0.9916 (1に近いほど均等)
2025-04-29 05:21:27,265 - feature_engineering.target - INFO - target_price_direction_1 のクラス分布:
2025-04-29 05:21:27,265 - feature_engineering.target - INFO -   クラス 1: 1433 サンプル (49.76%)
2025-04-29 05:21:27,266 - feature_engineering.target - INFO -   クラス -1: 1421 サンプル (49.34%)
2025-04-29 05:21:27,266 - feature_engineering.target - INFO -   クラス 0: 26 サンプル (0.90%)
2025-04-29 05:21:27,266 - feature_engineering.target - INFO - target_price_direction_1 のクラスバランス比率: 0.0181 (1に近いほど均等)
2025-04-29 05:21:27,266 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のクラス分布:
2025-04-29 05:21:27,266 - feature_engineering.target - INFO -   クラス 0: 1585 サンプル (55.03%)
2025-04-29 05:21:27,266 - feature_engineering.target - INFO -   クラス 1: 1295 サンプル (44.97%)
2025-04-29 05:21:27,266 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のシグナル発生率: 44.9653%
2025-04-29 05:21:27,267 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のクラス分布:
2025-04-29 05:21:27,267 - feature_engineering.target - INFO -   クラス 0: 1588 サンプル (55.14%)
2025-04-29 05:21:27,267 - feature_engineering.target - INFO -   クラス 1: 1292 サンプル (44.86%)
2025-04-29 05:21:27,267 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のシグナル発生率: 44.8611%
2025-04-29 05:21:27,268 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のクラス分布:
2025-04-29 05:21:27,268 - feature_engineering.target - INFO -   クラス 0: 1763 サンプル (61.22%)
2025-04-29 05:21:27,268 - feature_engineering.target - INFO -   クラス 1: 1117 サンプル (38.78%)
2025-04-29 05:21:27,268 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のシグナル発生率: 38.7847%
2025-04-29 05:21:27,268 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のクラス分布:
2025-04-29 05:21:27,268 - feature_engineering.target - INFO -   クラス 0: 1737 サンプル (60.31%)
2025-04-29 05:21:27,268 - feature_engineering.target - INFO -   クラス 1: 1143 サンプル (39.69%)
2025-04-29 05:21:27,269 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のシグナル発生率: 39.6875%
2025-04-29 05:21:27,269 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のクラス分布:
2025-04-29 05:21:27,269 - feature_engineering.target - INFO -   クラス 0: 1891 サンプル (65.66%)
2025-04-29 05:21:27,269 - feature_engineering.target - INFO -   クラス 1: 989 サンプル (34.34%)
2025-04-29 05:21:27,269 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のシグナル発生率: 34.3403%
2025-04-29 05:21:27,270 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のクラス分布:
2025-04-29 05:21:27,270 - feature_engineering.target - INFO -   クラス 0: 1923 サンプル (66.77%)
2025-04-29 05:21:27,270 - feature_engineering.target - INFO -   クラス 1: 957 サンプル (33.23%)
2025-04-29 05:21:27,270 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のシグナル発生率: 33.2292%
2025-04-29 05:21:27,270 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のクラス分布:
2025-04-29 05:21:27,270 - feature_engineering.target - INFO -   クラス 0: 2164 サンプル (75.14%)
2025-04-29 05:21:27,270 - feature_engineering.target - INFO -   クラス 1: 716 サンプル (24.86%)
2025-04-29 05:21:27,271 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のシグナル発生率: 24.8611%
2025-04-29 05:21:27,271 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のクラス分布:
2025-04-29 05:21:27,271 - feature_engineering.target - INFO -   クラス 0: 2193 サンプル (76.15%)
2025-04-29 05:21:27,271 - feature_engineering.target - INFO -   クラス 1: 687 サンプル (23.85%)
2025-04-29 05:21:27,271 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のシグナル発生率: 23.8542%
2025-04-29 05:21:27,271 - feature_engineering.target - INFO - ---- 期間 2 の統計情報 ----
2025-04-29 05:21:27,272 - feature_engineering.target - INFO - target_price_change_pct_2 の統計: min=-0.021522, max=0.022972, mean=0.000158
2025-04-29 05:21:27,272 - feature_engineering.target - INFO - target_threshold_ternary_2 のクラス分布:
2025-04-29 05:21:27,273 - feature_engineering.target - INFO -   クラス 1: 1456 サンプル (50.56%)
2025-04-29 05:21:27,273 - feature_engineering.target - INFO -   クラス 0: 1398 サンプル (48.54%)
2025-04-29 05:21:27,273 - feature_engineering.target - INFO -   クラス 2: 26 サンプル (0.90%)
2025-04-29 05:21:27,273 - feature_engineering.target - INFO - target_threshold_binary_2 のNaN: 26 サンプル (0.90%)
2025-04-29 05:21:27,273 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値クラス分布:
2025-04-29 05:21:27,274 - feature_engineering.target - INFO -   クラス 1.0: 1456 サンプル (51.02%)
2025-04-29 05:21:27,274 - feature_engineering.target - INFO -   クラス 0.0: 1398 サンプル (48.98%)
2025-04-29 05:21:27,274 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値数: 2854 (99.10%)
2025-04-29 05:21:27,274 - feature_engineering.target - INFO - target_threshold_binary_2 のクラスバランス比率: 0.9602 (1に近いほど均等)
2025-04-29 05:21:27,274 - feature_engineering.target - INFO - target_price_direction_2 のクラス分布:
2025-04-29 05:21:27,274 - feature_engineering.target - INFO -   クラス 1: 1456 サンプル (50.56%)
2025-04-29 05:21:27,274 - feature_engineering.target - INFO -   クラス -1: 1398 サンプル (48.54%)
2025-04-29 05:21:27,275 - feature_engineering.target - INFO -   クラス 0: 26 サンプル (0.90%)
2025-04-29 05:21:27,275 - feature_engineering.target - INFO - target_price_direction_2 のクラスバランス比率: 0.0179 (1に近いほど均等)
2025-04-29 05:21:27,275 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のクラス分布:
2025-04-29 05:21:27,275 - feature_engineering.target - INFO -   クラス 0: 1567 サンプル (54.41%)
2025-04-29 05:21:27,275 - feature_engineering.target - INFO -   クラス 1: 1313 サンプル (45.59%)
2025-04-29 05:21:27,275 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のシグナル発生率: 45.5903%
2025-04-29 05:21:27,276 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のクラス分布:
2025-04-29 05:21:27,276 - feature_engineering.target - INFO -   クラス 0: 1598 サンプル (55.49%)
2025-04-29 05:21:27,276 - feature_engineering.target - INFO -   クラス 1: 1282 サンプル (44.51%)
2025-04-29 05:21:27,276 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のシグナル発生率: 44.5139%
2025-04-29 05:21:27,276 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のクラス分布:
2025-04-29 05:21:27,277 - feature_engineering.target - INFO -   クラス 0: 1709 サンプル (59.34%)
2025-04-29 05:21:27,277 - feature_engineering.target - INFO -   クラス 1: 1171 サンプル (40.66%)
2025-04-29 05:21:27,277 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のシグナル発生率: 40.6597%
2025-04-29 05:21:27,277 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のクラス分布:
2025-04-29 05:21:27,277 - feature_engineering.target - INFO -   クラス 0: 1745 サンプル (60.59%)
2025-04-29 05:21:27,277 - feature_engineering.target - INFO -   クラス 1: 1135 サンプル (39.41%)
2025-04-29 05:21:27,277 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のシグナル発生率: 39.4097%
2025-04-29 05:21:27,278 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のクラス分布:
2025-04-29 05:21:27,278 - feature_engineering.target - INFO -   クラス 0: 1861 サンプル (64.62%)
2025-04-29 05:21:27,279 - feature_engineering.target - INFO -   クラス 1: 1019 サンプル (35.38%)
2025-04-29 05:21:27,279 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のシグナル発生率: 35.3819%
2025-04-29 05:21:27,279 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のクラス分布:
2025-04-29 05:21:27,279 - feature_engineering.target - INFO -   クラス 0: 1886 サンプル (65.49%)
2025-04-29 05:21:27,279 - feature_engineering.target - INFO -   クラス 1: 994 サンプル (34.51%)
2025-04-29 05:21:27,279 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のシグナル発生率: 34.5139%
2025-04-29 05:21:27,280 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のクラス分布:
2025-04-29 05:21:27,280 - feature_engineering.target - INFO -   クラス 0: 2136 サンプル (74.17%)
2025-04-29 05:21:27,280 - feature_engineering.target - INFO -   クラス 1: 744 サンプル (25.83%)
2025-04-29 05:21:27,280 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のシグナル発生率: 25.8333%
2025-04-29 05:21:27,280 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のクラス分布:
2025-04-29 05:21:27,281 - feature_engineering.target - INFO -   クラス 0: 2154 サンプル (74.79%)
2025-04-29 05:21:27,281 - feature_engineering.target - INFO -   クラス 1: 726 サンプル (25.21%)
2025-04-29 05:21:27,281 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のシグナル発生率: 25.2083%
2025-04-29 05:21:27,281 - feature_engineering.target - INFO - ---- 期間 3 の統計情報 ----
2025-04-29 05:21:27,282 - feature_engineering.target - INFO - target_price_change_pct_3 の統計: min=-0.024170, max=0.024861, mean=0.000224
2025-04-29 05:21:27,282 - feature_engineering.target - INFO - target_threshold_ternary_3 のクラス分布:
2025-04-29 05:21:27,282 - feature_engineering.target - INFO -   クラス 1: 1447 サンプル (50.24%)
2025-04-29 05:21:27,282 - feature_engineering.target - INFO -   クラス 0: 1404 サンプル (48.75%)
2025-04-29 05:21:27,282 - feature_engineering.target - INFO -   クラス 2: 29 サンプル (1.01%)
2025-04-29 05:21:27,283 - feature_engineering.target - INFO - target_threshold_binary_3 のNaN: 29 サンプル (1.01%)
2025-04-29 05:21:27,283 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値クラス分布:
2025-04-29 05:21:27,283 - feature_engineering.target - INFO -   クラス 1.0: 1447 サンプル (50.75%)
2025-04-29 05:21:27,283 - feature_engineering.target - INFO -   クラス 0.0: 1404 サンプル (49.25%)
2025-04-29 05:21:27,283 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値数: 2851 (98.99%)
2025-04-29 05:21:27,284 - feature_engineering.target - INFO - target_threshold_binary_3 のクラスバランス比率: 0.9703 (1に近いほど均等)
2025-04-29 05:21:27,284 - feature_engineering.target - INFO - target_price_direction_3 のクラス分布:
2025-04-29 05:21:27,284 - feature_engineering.target - INFO -   クラス 1: 1447 サンプル (50.24%)
2025-04-29 05:21:27,284 - feature_engineering.target - INFO -   クラス -1: 1404 サンプル (48.75%)
2025-04-29 05:21:27,284 - feature_engineering.target - INFO -   クラス 0: 29 サンプル (1.01%)
2025-04-29 05:21:27,284 - feature_engineering.target - INFO - target_price_direction_3 のクラスバランス比率: 0.0200 (1に近いほど均等)
2025-04-29 05:21:27,285 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のクラス分布:
2025-04-29 05:21:27,285 - feature_engineering.target - INFO -   クラス 0: 1569 サンプル (54.48%)
2025-04-29 05:21:27,285 - feature_engineering.target - INFO -   クラス 1: 1311 サンプル (45.52%)
2025-04-29 05:21:27,285 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のシグナル発生率: 45.5208%
2025-04-29 05:21:27,285 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のクラス分布:
2025-04-29 05:21:27,286 - feature_engineering.target - INFO -   クラス 0: 1597 サンプル (55.45%)
2025-04-29 05:21:27,286 - feature_engineering.target - INFO -   クラス 1: 1283 サンプル (44.55%)
2025-04-29 05:21:27,286 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のシグナル発生率: 44.5486%
2025-04-29 05:21:27,286 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のクラス分布:
2025-04-29 05:21:27,286 - feature_engineering.target - INFO -   クラス 0: 1708 サンプル (59.31%)
2025-04-29 05:21:27,286 - feature_engineering.target - INFO -   クラス 1: 1172 サンプル (40.69%)
2025-04-29 05:21:27,286 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のシグナル発生率: 40.6944%
2025-04-29 05:21:27,287 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のクラス分布:
2025-04-29 05:21:27,287 - feature_engineering.target - INFO -   クラス 0: 1740 サンプル (60.42%)
2025-04-29 05:21:27,287 - feature_engineering.target - INFO -   クラス 1: 1140 サンプル (39.58%)
2025-04-29 05:21:27,287 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のシグナル発生率: 39.5833%
2025-04-29 05:21:27,287 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のクラス分布:
2025-04-29 05:21:27,288 - feature_engineering.target - INFO -   クラス 0: 1834 サンプル (63.68%)
2025-04-29 05:21:27,288 - feature_engineering.target - INFO -   クラス 1: 1046 サンプル (36.32%)
2025-04-29 05:21:27,288 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のシグナル発生率: 36.3194%
2025-04-29 05:21:27,288 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のクラス分布:
2025-04-29 05:21:27,288 - feature_engineering.target - INFO -   クラス 0: 1870 サンプル (64.93%)
2025-04-29 05:21:27,288 - feature_engineering.target - INFO -   クラス 1: 1010 サンプル (35.07%)
2025-04-29 05:21:27,288 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のシグナル発生率: 35.0694%
2025-04-29 05:21:27,289 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のクラス分布:
2025-04-29 05:21:27,289 - feature_engineering.target - INFO -   クラス 0: 2096 サンプル (72.78%)
2025-04-29 05:21:27,289 - feature_engineering.target - INFO -   クラス 1: 784 サンプル (27.22%)
2025-04-29 05:21:27,289 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のシグナル発生率: 27.2222%
2025-04-29 05:21:27,289 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のクラス分布:
2025-04-29 05:21:27,290 - feature_engineering.target - INFO -   クラス 0: 2122 サンプル (73.68%)
2025-04-29 05:21:27,290 - feature_engineering.target - INFO -   クラス 1: 758 サンプル (26.32%)
2025-04-29 05:21:27,290 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のシグナル発生率: 26.3194%
2025-04-29 05:21:27,290 - feature_engineering.target - INFO - 生成された高閾値シグナル変数: 24個
2025-04-29 05:21:27,290 - feature_engineering.target - INFO -   1. target_high_threshold_1p_long_1: シグナル比率 44.97%
2025-04-29 05:21:27,290 - feature_engineering.target - INFO -   2. target_high_threshold_1p_short_1: シグナル比率 44.86%
2025-04-29 05:21:27,291 - feature_engineering.target - INFO -   3. target_high_threshold_2p_long_1: シグナル比率 38.78%
2025-04-29 05:21:27,291 - feature_engineering.target - INFO -   4. target_high_threshold_2p_short_1: シグナル比率 39.69%
2025-04-29 05:21:27,291 - feature_engineering.target - INFO -   5. target_high_threshold_3p_long_1: シグナル比率 34.34%
2025-04-29 05:21:27,291 - feature_engineering.target - INFO -   6. target_high_threshold_3p_short_1: シグナル比率 33.23%
2025-04-29 05:21:27,291 - feature_engineering.target - INFO -   7. target_high_threshold_5p_long_1: シグナル比率 24.86%
2025-04-29 05:21:27,292 - feature_engineering.target - INFO -   8. target_high_threshold_5p_short_1: シグナル比率 23.85%
2025-04-29 05:21:27,292 - feature_engineering.target - INFO -   9. target_high_threshold_1p_long_2: シグナル比率 45.59%
2025-04-29 05:21:27,292 - feature_engineering.target - INFO -   10. target_high_threshold_1p_short_2: シグナル比率 44.51%
2025-04-29 05:21:27,292 - feature_engineering.target - INFO -   ...他 14 個
2025-04-29 05:21:27,292 - feature_engineering.target - INFO - 目標変数を含むデータフレームを生成完了。サイズ: (2880, 42)
2025-04-29 05:21:27,293 - feature_engineering - INFO - すべての特徴量を結合中...
2025-04-29 05:21:27,296 - feature_engineering - INFO - 重複列削除後のカラム数: 188
2025-04-29 05:21:27,297 - feature_engineering - INFO - NaNを含む行を削除: 174行 (6.04%)
2025-04-29 05:21:27,297 - feature_engineering.advanced - INFO - フィッシャー変換RSIの特徴量を追加しています
2025-04-29 05:21:27,300 - feature_engineering.selector - INFO - 重要な特徴量を選択しています
2025-04-29 05:21:27,301 - feature_engineering.selector - INFO - 重要な特徴量 66個を選択しました
2025-04-29 05:21:27,301 - feature_engineering - INFO - 生成された目標変数列: ['target_price_change_pct_1', 'target_price_change_pct_2', 'target_price_change_pct_3', 'target_price_direction_1', 'target_price_direction_2', 'target_price_direction_3', 'target_threshold_binary_1', 'target_threshold_binary_2', 'target_threshold_binary_3', 'target_threshold_ternary_1', 'target_threshold_ternary_2', 'target_threshold_ternary_3']
2025-04-29 05:21:27,302 - feature_engineering - INFO - target_threshold_binary_1 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:21:27,302 - feature_engineering - INFO - target_threshold_binary_1 のクラス分布: {1.0: 1361, 0.0: 1345}
2025-04-29 05:21:27,302 - feature_engineering - INFO - target_threshold_binary_2 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:21:27,302 - feature_engineering - INFO - target_threshold_binary_2 のクラス分布: {1.0: 1383, 0.0: 1323}
2025-04-29 05:21:27,302 - feature_engineering - INFO - target_threshold_binary_3 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:21:27,303 - feature_engineering - INFO - target_threshold_binary_3 のクラス分布: {1.0: 1378, 0.0: 1328}
2025-04-29 05:21:27,303 - feature_engineering - INFO - 特徴量生成が完了しました。カラム数: 66, 行数: 2706
2025-04-29 05:21:27,420 - feature_engineering - INFO - 特徴量を data\processed\btcusd_5m_features.csv に保存しました。データサイズ: (2706, 66)
2025-04-29 05:21:27,438 - data_processing - INFO - 特徴量エンジニアリングが完了しました。生成された特徴量: 66列
2025-04-29 05:21:27,438 - data_processing - INFO - 生成された行数: 2706行
2025-04-29 05:21:27,438 - data_processing - INFO - 生成された目標変数: 12個
2025-04-29 05:21:27,438 - data_processing - ERROR - 高閾値シグナル変数が生成されませんでした。target_features.pyの修正が反映されていない可能性があります。
2025-04-29 05:21:27,438 - data_processing - INFO - DEBUG: 設定の確認
2025-04-29 05:21:27,438 - data_processing - INFO - DEBUG: high_threshold_models設定は存在します: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.002, 0.003, 0.005]}
2025-04-29 05:21:27,438 - data_processing - INFO - DEBUG: 生成された列の一部:
2025-04-29 05:21:27,438 - data_processing - INFO -   1. target_price_change_pct_1
2025-04-29 05:21:27,438 - data_processing - INFO -   2. target_price_change_pct_2
2025-04-29 05:21:27,438 - data_processing - INFO -   3. target_price_change_pct_3
2025-04-29 05:21:27,438 - data_processing - INFO -   4. target_price_direction_1
2025-04-29 05:21:27,439 - data_processing - INFO -   5. target_price_direction_2
2025-04-29 05:21:27,439 - data_processing - INFO -   6. target_price_direction_3
2025-04-29 05:21:27,439 - data_processing - INFO -   7. target_threshold_binary_1
2025-04-29 05:21:27,439 - data_processing - INFO -   8. target_threshold_binary_2
2025-04-29 05:21:27,439 - data_processing - INFO -   9. target_threshold_binary_3
2025-04-29 05:21:27,439 - data_processing - INFO -   10. target_threshold_ternary_1
2025-04-29 05:21:27,439 - data_processing - INFO -   11. target_threshold_ternary_2
2025-04-29 05:21:27,439 - data_processing - INFO -   12. target_threshold_ternary_3
2025-04-29 05:21:27,439 - data_processing - INFO - 標準目標変数: 12個
2025-04-29 05:39:39,815 - data_processing - INFO - サンプルデータの生成が完了しました
2025-04-29 05:39:40,802 - config_loader - INFO - 設定を config\model_config.json から読み込みました
2025-04-29 05:39:40,803 - data_processing - INFO - 高閾値シグナル設定: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.0015, 0.002, 0.0025, 0.003, 0.004, 0.005]}
2025-04-29 05:39:40,803 - data_processing - INFO - 使用する設定の全内容: {
  "input_dir": "data/raw",
  "input_filename": "btcusd_5m_data.csv",
  "output_dir": "data/processed",
  "output_filename": "btcusd_5m_features.csv",
  "classification_threshold": 0.0001,
  "target_periods": [
    1,
    2,
    3
  ],
  "high_threshold_models": {
    "target_periods": [
      1,
      2,
      3
    ],
    "directions": [
      "long",
      "short"
    ],
    "thresholds": [
      0.001,
      0.0015,
      0.002,
      0.0025,
      0.003,
      0.004,
      0.005
    ]
  },
  "features": {
    "price_change": true,
    "volume_change": true,
    "moving_averages": true,
    "rsi": true,
    "high_low_distance": true,
    "bollinger_bands": true,
    "macd": true,
    "stochastic": true,
    "advanced_features": true
  },
  "vwap_period": 14,
  "ma_periods": [
    5,
    10,
    20,
    50,
    100
  ],
  "rsi_periods": [
    6,
    14,
    21
  ],
  "bollinger_period": 20,
  "bollinger_std": 2.0,
  "macd_params": {
    "fast_period": 12,
    "slow_period": 26,
    "signal_period": 9
  },
  "stochastic_params": {
    "k_period": 14,
    "d_period": 3,
    "slowing": 3
  },
  "atr_period": 14
}
2025-04-29 05:39:40,807 - feature_engineering - INFO - DEBUG: FeatureGeneratorBase.__init__ が呼び出されました
2025-04-29 05:39:40,807 - feature_engineering - INFO - DEBUG: 渡された設定キー: ['input_dir', 'input_filename', 'output_dir', 'output_filename', 'classification_threshold', 'target_periods', 'high_threshold_models', 'features', 'vwap_period', 'ma_periods', 'rsi_periods', 'bollinger_period', 'bollinger_std', 'macd_params', 'stochastic_params', 'atr_period']
2025-04-29 05:39:40,807 - feature_engineering - INFO - DEBUG: high_threshold_modelsの内容: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.0015, 0.002, 0.0025, 0.003, 0.004, 0.005]}
2025-04-29 05:39:40,807 - feature_engineering - INFO - データを data\raw\btcusd_5m_data.csv から読み込みます
2025-04-29 05:39:40,815 - feature_engineering - INFO - 2880 行のデータを読み込みました
2025-04-29 05:39:40,815 - feature_engineering - INFO - 特徴量生成を開始。入力データサイズ: (2880, 6)
2025-04-29 05:39:40,815 - feature_engineering - INFO - 設定内容: 分類閾値=0.0001, 目標期間=[1, 2, 3]
2025-04-29 05:39:40,815 - feature_engineering - INFO - 価格変動率特徴量を生成中...
2025-04-29 05:39:40,815 - feature_engineering.price - INFO - 価格変動率とローソク足パターンの特徴量を追加しています
2025-04-29 05:39:40,821 - feature_engineering - INFO - 出来高変動率特徴量を生成中...
2025-04-29 05:39:40,821 - feature_engineering.volume - INFO - 出来高変動率の特徴量を追加しています
2025-04-29 05:39:40,823 - feature_engineering - INFO - 移動平均線特徴量を生成中...
2025-04-29 05:39:40,824 - feature_engineering.moving_average - INFO - 移動平均線と乖離率の特徴量を追加しています
2025-04-29 05:39:40,847 - feature_engineering - INFO - RSI特徴量を生成中...
2025-04-29 05:39:40,847 - feature_engineering.oscillator - INFO - RSIの特徴量を追加しています
2025-04-29 05:39:40,850 - feature_engineering - INFO - 高値/安値特徴量を生成中...
2025-04-29 05:39:40,850 - feature_engineering.price - INFO - 高値/安値からの距離の特徴量を追加しています
2025-04-29 05:39:40,852 - feature_engineering - INFO - ボリンジャーバンド特徴量を生成中...
2025-04-29 05:39:40,853 - feature_engineering.volatility - INFO - ボリンジャーバンドの特徴量を追加しています
2025-04-29 05:39:40,854 - feature_engineering - INFO - MACD特徴量を生成中...
2025-04-29 05:39:40,854 - feature_engineering.oscillator - INFO - MACDの特徴量を追加しています
2025-04-29 05:39:40,855 - feature_engineering - INFO - ストキャスティクス特徴量を生成中...
2025-04-29 05:39:40,856 - feature_engineering.oscillator - INFO - ストキャスティクスの特徴量を追加しています
2025-04-29 05:39:40,857 - feature_engineering - INFO - ATR特徴量を生成中...
2025-04-29 05:39:40,857 - feature_engineering.volatility - INFO - ATRの特徴量を追加しています
2025-04-29 05:39:40,859 - feature_engineering - INFO - 高度な特徴量を生成中...
2025-04-29 05:39:40,859 - feature_engineering.advanced - INFO - 高度な特徴量を追加しています
2025-04-29 05:39:41,029 - feature_engineering - INFO - 目標変数を生成中...
2025-04-29 05:39:41,029 - feature_engineering - INFO - 高閾値シグナル設定を検出: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.0015, 0.002, 0.0025, 0.003, 0.004, 0.005]}
2025-04-29 05:39:41,029 - feature_engineering.target - INFO - DEBUG: generate_target_features 関数が呼び出されました
2025-04-29 05:39:41,029 - feature_engineering.target - INFO - DEBUG: 引数 - periods=[1, 2, 3], threshold=0.0001, high_config={'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.0015, 0.002, 0.0025, 0.003, 0.004, 0.005]}
2025-04-29 05:39:41,029 - feature_engineering.target - INFO - === 予測対象の目標変数を生成しています ===
2025-04-29 05:39:41,029 - feature_engineering.target - INFO - 分類閾値: 0.0001, 予測期間: [1, 2, 3]
2025-04-29 05:39:41,030 - feature_engineering.target - INFO - ボラティリティの平均: 0.006820
2025-04-29 05:39:41,030 - feature_engineering.target - INFO - 外部設定からの高閾値シグナル設定: [0.1, 0.15, 0.2, 0.25, 0.3, 0.4, 0.5]%
2025-04-29 05:39:41,030 - feature_engineering.target - INFO - 方向: ['long', 'short'], 期間: [1, 2, 3]
2025-04-29 05:39:41,030 - feature_engineering.target - INFO - 期間 1 の目標変数を生成中...
2025-04-29 05:39:41,031 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_1 を生成しました
2025-04-29 05:39:41,031 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_1 を生成しました
2025-04-29 05:39:41,031 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_1 を生成しました
2025-04-29 05:39:41,031 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_1 を生成しました
2025-04-29 05:39:41,032 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_1 を生成しました
2025-04-29 05:39:41,032 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_1 を生成しました
2025-04-29 05:39:41,032 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_1 を生成しました
2025-04-29 05:39:41,032 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_1 を生成しました
2025-04-29 05:39:41,032 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_1 を生成しました
2025-04-29 05:39:41,032 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_1 を生成しました
2025-04-29 05:39:41,033 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_4p_long_1 を生成しました
2025-04-29 05:39:41,033 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_4p_short_1 を生成しました
2025-04-29 05:39:41,033 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_1 を生成しました
2025-04-29 05:39:41,033 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_1 を生成しました
2025-04-29 05:39:41,033 - feature_engineering.target - INFO - 期間 2 の目標変数を生成中...
2025-04-29 05:39:41,034 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_2 を生成しました
2025-04-29 05:39:41,034 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_2 を生成しました
2025-04-29 05:39:41,034 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_2 を生成しました
2025-04-29 05:39:41,034 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_2 を生成しました
2025-04-29 05:39:41,034 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_2 を生成しました
2025-04-29 05:39:41,034 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_2 を生成しました
2025-04-29 05:39:41,035 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_2 を生成しました
2025-04-29 05:39:41,035 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_2 を生成しました
2025-04-29 05:39:41,035 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_2 を生成しました
2025-04-29 05:39:41,035 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_2 を生成しました
2025-04-29 05:39:41,035 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_4p_long_2 を生成しました
2025-04-29 05:39:41,035 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_4p_short_2 を生成しました
2025-04-29 05:39:41,035 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_2 を生成しました
2025-04-29 05:39:41,036 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_2 を生成しました
2025-04-29 05:39:41,036 - feature_engineering.target - INFO - 期間 3 の目標変数を生成中...
2025-04-29 05:39:41,036 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_3 を生成しました
2025-04-29 05:39:41,037 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_3 を生成しました
2025-04-29 05:39:41,037 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_long_3 を生成しました
2025-04-29 05:39:41,037 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_1p_short_3 を生成しました
2025-04-29 05:39:41,037 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_3 を生成しました
2025-04-29 05:39:41,037 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_3 を生成しました
2025-04-29 05:39:41,037 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_long_3 を生成しました
2025-04-29 05:39:41,037 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_2p_short_3 を生成しました
2025-04-29 05:39:41,038 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_long_3 を生成しました
2025-04-29 05:39:41,038 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_3p_short_3 を生成しました
2025-04-29 05:39:41,038 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_4p_long_3 を生成しました
2025-04-29 05:39:41,038 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_4p_short_3 を生成しました
2025-04-29 05:39:41,038 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_long_3 を生成しました
2025-04-29 05:39:41,038 - feature_engineering.target - INFO - 高閾値シグナル変数 target_high_threshold_5p_short_3 を生成しました
2025-04-29 05:39:41,040 - feature_engineering.target - INFO - === 生成された目標変数の統計情報 ===
2025-04-29 05:39:41,040 - feature_engineering.target - INFO - ---- 期間 1 の統計情報 ----
2025-04-29 05:39:41,041 - feature_engineering.target - INFO - target_price_change_pct_1 の統計: min=-0.018019, max=0.019641, mean=0.000091
2025-04-29 05:39:41,041 - feature_engineering.target - INFO - target_threshold_ternary_1 のクラス分布:
2025-04-29 05:39:41,042 - feature_engineering.target - INFO -   クラス 1: 1433 サンプル (49.76%)
2025-04-29 05:39:41,042 - feature_engineering.target - INFO -   クラス 0: 1421 サンプル (49.34%)
2025-04-29 05:39:41,042 - feature_engineering.target - INFO -   クラス 2: 26 サンプル (0.90%)
2025-04-29 05:39:41,042 - feature_engineering.target - INFO - target_threshold_binary_1 のNaN: 26 サンプル (0.90%)
2025-04-29 05:39:41,042 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値クラス分布:
2025-04-29 05:39:41,043 - feature_engineering.target - INFO -   クラス 1.0: 1433 サンプル (50.21%)
2025-04-29 05:39:41,043 - feature_engineering.target - INFO -   クラス 0.0: 1421 サンプル (49.79%)
2025-04-29 05:39:41,043 - feature_engineering.target - INFO - target_threshold_binary_1 の有効値数: 2854 (99.10%)
2025-04-29 05:39:41,043 - feature_engineering.target - INFO - target_threshold_binary_1 のクラスバランス比率: 0.9916 (1に近いほど均等)
2025-04-29 05:39:41,043 - feature_engineering.target - INFO - target_price_direction_1 のクラス分布:
2025-04-29 05:39:41,043 - feature_engineering.target - INFO -   クラス 1: 1433 サンプル (49.76%)
2025-04-29 05:39:41,043 - feature_engineering.target - INFO -   クラス -1: 1421 サンプル (49.34%)
2025-04-29 05:39:41,043 - feature_engineering.target - INFO -   クラス 0: 26 サンプル (0.90%)
2025-04-29 05:39:41,044 - feature_engineering.target - INFO - target_price_direction_1 のクラスバランス比率: 0.0181 (1に近いほど均等)
2025-04-29 05:39:41,044 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のクラス分布:
2025-04-29 05:39:41,044 - feature_engineering.target - INFO -   クラス 0: 1687 サンプル (58.58%)
2025-04-29 05:39:41,044 - feature_engineering.target - INFO -   クラス 1: 1193 サンプル (41.42%)
2025-04-29 05:39:41,044 - feature_engineering.target - INFO - target_high_threshold_1p_long_1 のシグナル発生率: 41.4236%
2025-04-29 05:39:41,045 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のクラス分布:
2025-04-29 05:39:41,045 - feature_engineering.target - INFO -   クラス 0: 1664 サンプル (57.78%)
2025-04-29 05:39:41,045 - feature_engineering.target - INFO -   クラス 1: 1216 サンプル (42.22%)
2025-04-29 05:39:41,045 - feature_engineering.target - INFO - target_high_threshold_1p_short_1 のシグナル発生率: 42.2222%
2025-04-29 05:39:41,045 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のクラス分布:
2025-04-29 05:39:41,045 - feature_engineering.target - INFO -   クラス 0: 1828 サンプル (63.47%)
2025-04-29 05:39:41,045 - feature_engineering.target - INFO -   クラス 1: 1052 サンプル (36.53%)
2025-04-29 05:39:41,045 - feature_engineering.target - INFO - target_high_threshold_2p_long_1 のシグナル発生率: 36.5278%
2025-04-29 05:39:41,046 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のクラス分布:
2025-04-29 05:39:41,046 - feature_engineering.target - INFO -   クラス 0: 1838 サンプル (63.82%)
2025-04-29 05:39:41,046 - feature_engineering.target - INFO -   クラス 1: 1042 サンプル (36.18%)
2025-04-29 05:39:41,046 - feature_engineering.target - INFO - target_high_threshold_2p_short_1 のシグナル発生率: 36.1806%
2025-04-29 05:39:41,047 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のクラス分布:
2025-04-29 05:39:41,047 - feature_engineering.target - INFO -   クラス 0: 1891 サンプル (65.66%)
2025-04-29 05:39:41,047 - feature_engineering.target - INFO -   クラス 1: 989 サンプル (34.34%)
2025-04-29 05:39:41,047 - feature_engineering.target - INFO - target_high_threshold_3p_long_1 のシグナル発生率: 34.3403%
2025-04-29 05:39:41,047 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のクラス分布:
2025-04-29 05:39:41,047 - feature_engineering.target - INFO -   クラス 0: 1923 サンプル (66.77%)
2025-04-29 05:39:41,047 - feature_engineering.target - INFO -   クラス 1: 957 サンプル (33.23%)
2025-04-29 05:39:41,047 - feature_engineering.target - INFO - target_high_threshold_3p_short_1 のシグナル発生率: 33.2292%
2025-04-29 05:39:41,048 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のクラス分布:
2025-04-29 05:39:41,048 - feature_engineering.target - INFO -   クラス 0: 2164 サンプル (75.14%)
2025-04-29 05:39:41,048 - feature_engineering.target - INFO -   クラス 1: 716 サンプル (24.86%)
2025-04-29 05:39:41,048 - feature_engineering.target - INFO - target_high_threshold_5p_long_1 のシグナル発生率: 24.8611%
2025-04-29 05:39:41,048 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のクラス分布:
2025-04-29 05:39:41,048 - feature_engineering.target - INFO -   クラス 0: 2193 サンプル (76.15%)
2025-04-29 05:39:41,048 - feature_engineering.target - INFO -   クラス 1: 687 サンプル (23.85%)
2025-04-29 05:39:41,049 - feature_engineering.target - INFO - target_high_threshold_5p_short_1 のシグナル発生率: 23.8542%
2025-04-29 05:39:41,049 - feature_engineering.target - INFO - ---- 期間 2 の統計情報 ----
2025-04-29 05:39:41,049 - feature_engineering.target - INFO - target_price_change_pct_2 の統計: min=-0.021522, max=0.022972, mean=0.000158
2025-04-29 05:39:41,050 - feature_engineering.target - INFO - target_threshold_ternary_2 のクラス分布:
2025-04-29 05:39:41,050 - feature_engineering.target - INFO -   クラス 1: 1456 サンプル (50.56%)
2025-04-29 05:39:41,050 - feature_engineering.target - INFO -   クラス 0: 1398 サンプル (48.54%)
2025-04-29 05:39:41,050 - feature_engineering.target - INFO -   クラス 2: 26 サンプル (0.90%)
2025-04-29 05:39:41,050 - feature_engineering.target - INFO - target_threshold_binary_2 のNaN: 26 サンプル (0.90%)
2025-04-29 05:39:41,051 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値クラス分布:
2025-04-29 05:39:41,051 - feature_engineering.target - INFO -   クラス 1.0: 1456 サンプル (51.02%)
2025-04-29 05:39:41,051 - feature_engineering.target - INFO -   クラス 0.0: 1398 サンプル (48.98%)
2025-04-29 05:39:41,051 - feature_engineering.target - INFO - target_threshold_binary_2 の有効値数: 2854 (99.10%)
2025-04-29 05:39:41,051 - feature_engineering.target - INFO - target_threshold_binary_2 のクラスバランス比率: 0.9602 (1に近いほど均等)
2025-04-29 05:39:41,052 - feature_engineering.target - INFO - target_price_direction_2 のクラス分布:
2025-04-29 05:39:41,052 - feature_engineering.target - INFO -   クラス 1: 1456 サンプル (50.56%)
2025-04-29 05:39:41,052 - feature_engineering.target - INFO -   クラス -1: 1398 サンプル (48.54%)
2025-04-29 05:39:41,052 - feature_engineering.target - INFO -   クラス 0: 26 サンプル (0.90%)
2025-04-29 05:39:41,052 - feature_engineering.target - INFO - target_price_direction_2 のクラスバランス比率: 0.0179 (1に近いほど均等)
2025-04-29 05:39:41,052 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のクラス分布:
2025-04-29 05:39:41,052 - feature_engineering.target - INFO -   クラス 0: 1635 サンプル (56.77%)
2025-04-29 05:39:41,052 - feature_engineering.target - INFO -   クラス 1: 1245 サンプル (43.23%)
2025-04-29 05:39:41,052 - feature_engineering.target - INFO - target_high_threshold_1p_long_2 のシグナル発生率: 43.2292%
2025-04-29 05:39:41,053 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のクラス分布:
2025-04-29 05:39:41,053 - feature_engineering.target - INFO -   クラス 0: 1663 サンプル (57.74%)
2025-04-29 05:39:41,053 - feature_engineering.target - INFO -   クラス 1: 1217 サンプル (42.26%)
2025-04-29 05:39:41,054 - feature_engineering.target - INFO - target_high_threshold_1p_short_2 のシグナル発生率: 42.2569%
2025-04-29 05:39:41,054 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のクラス分布:
2025-04-29 05:39:41,054 - feature_engineering.target - INFO -   クラス 0: 1785 サンプル (61.98%)
2025-04-29 05:39:41,054 - feature_engineering.target - INFO -   クラス 1: 1095 サンプル (38.02%)
2025-04-29 05:39:41,054 - feature_engineering.target - INFO - target_high_threshold_2p_long_2 のシグナル発生率: 38.0208%
2025-04-29 05:39:41,055 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のクラス分布:
2025-04-29 05:39:41,055 - feature_engineering.target - INFO -   クラス 0: 1807 サンプル (62.74%)
2025-04-29 05:39:41,055 - feature_engineering.target - INFO -   クラス 1: 1073 サンプル (37.26%)
2025-04-29 05:39:41,055 - feature_engineering.target - INFO - target_high_threshold_2p_short_2 のシグナル発生率: 37.2569%
2025-04-29 05:39:41,056 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のクラス分布:
2025-04-29 05:39:41,056 - feature_engineering.target - INFO -   クラス 0: 1861 サンプル (64.62%)
2025-04-29 05:39:41,056 - feature_engineering.target - INFO -   クラス 1: 1019 サンプル (35.38%)
2025-04-29 05:39:41,056 - feature_engineering.target - INFO - target_high_threshold_3p_long_2 のシグナル発生率: 35.3819%
2025-04-29 05:39:41,057 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のクラス分布:
2025-04-29 05:39:41,057 - feature_engineering.target - INFO -   クラス 0: 1886 サンプル (65.49%)
2025-04-29 05:39:41,057 - feature_engineering.target - INFO -   クラス 1: 994 サンプル (34.51%)
2025-04-29 05:39:41,057 - feature_engineering.target - INFO - target_high_threshold_3p_short_2 のシグナル発生率: 34.5139%
2025-04-29 05:39:41,058 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のクラス分布:
2025-04-29 05:39:41,058 - feature_engineering.target - INFO -   クラス 0: 2136 サンプル (74.17%)
2025-04-29 05:39:41,058 - feature_engineering.target - INFO -   クラス 1: 744 サンプル (25.83%)
2025-04-29 05:39:41,058 - feature_engineering.target - INFO - target_high_threshold_5p_long_2 のシグナル発生率: 25.8333%
2025-04-29 05:39:41,058 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のクラス分布:
2025-04-29 05:39:41,058 - feature_engineering.target - INFO -   クラス 0: 2154 サンプル (74.79%)
2025-04-29 05:39:41,059 - feature_engineering.target - INFO -   クラス 1: 726 サンプル (25.21%)
2025-04-29 05:39:41,059 - feature_engineering.target - INFO - target_high_threshold_5p_short_2 のシグナル発生率: 25.2083%
2025-04-29 05:39:41,059 - feature_engineering.target - INFO - ---- 期間 3 の統計情報 ----
2025-04-29 05:39:41,060 - feature_engineering.target - INFO - target_price_change_pct_3 の統計: min=-0.024170, max=0.024861, mean=0.000224
2025-04-29 05:39:41,060 - feature_engineering.target - INFO - target_threshold_ternary_3 のクラス分布:
2025-04-29 05:39:41,060 - feature_engineering.target - INFO -   クラス 1: 1447 サンプル (50.24%)
2025-04-29 05:39:41,060 - feature_engineering.target - INFO -   クラス 0: 1404 サンプル (48.75%)
2025-04-29 05:39:41,060 - feature_engineering.target - INFO -   クラス 2: 29 サンプル (1.01%)
2025-04-29 05:39:41,061 - feature_engineering.target - INFO - target_threshold_binary_3 のNaN: 29 サンプル (1.01%)
2025-04-29 05:39:41,061 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値クラス分布:
2025-04-29 05:39:41,061 - feature_engineering.target - INFO -   クラス 1.0: 1447 サンプル (50.75%)
2025-04-29 05:39:41,061 - feature_engineering.target - INFO -   クラス 0.0: 1404 サンプル (49.25%)
2025-04-29 05:39:41,061 - feature_engineering.target - INFO - target_threshold_binary_3 の有効値数: 2851 (98.99%)
2025-04-29 05:39:41,061 - feature_engineering.target - INFO - target_threshold_binary_3 のクラスバランス比率: 0.9703 (1に近いほど均等)
2025-04-29 05:39:41,062 - feature_engineering.target - INFO - target_price_direction_3 のクラス分布:
2025-04-29 05:39:41,062 - feature_engineering.target - INFO -   クラス 1: 1447 サンプル (50.24%)
2025-04-29 05:39:41,062 - feature_engineering.target - INFO -   クラス -1: 1404 サンプル (48.75%)
2025-04-29 05:39:41,062 - feature_engineering.target - INFO -   クラス 0: 29 サンプル (1.01%)
2025-04-29 05:39:41,062 - feature_engineering.target - INFO - target_price_direction_3 のクラスバランス比率: 0.0200 (1に近いほど均等)
2025-04-29 05:39:41,063 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のクラス分布:
2025-04-29 05:39:41,063 - feature_engineering.target - INFO -   クラス 0: 1627 サンプル (56.49%)
2025-04-29 05:39:41,063 - feature_engineering.target - INFO -   クラス 1: 1253 サンプル (43.51%)
2025-04-29 05:39:41,063 - feature_engineering.target - INFO - target_high_threshold_1p_long_3 のシグナル発生率: 43.5069%
2025-04-29 05:39:41,063 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のクラス分布:
2025-04-29 05:39:41,063 - feature_engineering.target - INFO -   クラス 0: 1661 サンプル (57.67%)
2025-04-29 05:39:41,063 - feature_engineering.target - INFO -   クラス 1: 1219 サンプル (42.33%)
2025-04-29 05:39:41,063 - feature_engineering.target - INFO - target_high_threshold_1p_short_3 のシグナル発生率: 42.3264%
2025-04-29 05:39:41,064 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のクラス分布:
2025-04-29 05:39:41,064 - feature_engineering.target - INFO -   クラス 0: 1764 サンプル (61.25%)
2025-04-29 05:39:41,064 - feature_engineering.target - INFO -   クラス 1: 1116 サンプル (38.75%)
2025-04-29 05:39:41,064 - feature_engineering.target - INFO - target_high_threshold_2p_long_3 のシグナル発生率: 38.7500%
2025-04-29 05:39:41,064 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のクラス分布:
2025-04-29 05:39:41,065 - feature_engineering.target - INFO -   クラス 0: 1799 サンプル (62.47%)
2025-04-29 05:39:41,065 - feature_engineering.target - INFO -   クラス 1: 1081 サンプル (37.53%)
2025-04-29 05:39:41,065 - feature_engineering.target - INFO - target_high_threshold_2p_short_3 のシグナル発生率: 37.5347%
2025-04-29 05:39:41,065 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のクラス分布:
2025-04-29 05:39:41,065 - feature_engineering.target - INFO -   クラス 0: 1834 サンプル (63.68%)
2025-04-29 05:39:41,065 - feature_engineering.target - INFO -   クラス 1: 1046 サンプル (36.32%)
2025-04-29 05:39:41,065 - feature_engineering.target - INFO - target_high_threshold_3p_long_3 のシグナル発生率: 36.3194%
2025-04-29 05:39:41,066 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のクラス分布:
2025-04-29 05:39:41,066 - feature_engineering.target - INFO -   クラス 0: 1870 サンプル (64.93%)
2025-04-29 05:39:41,066 - feature_engineering.target - INFO -   クラス 1: 1010 サンプル (35.07%)
2025-04-29 05:39:41,066 - feature_engineering.target - INFO - target_high_threshold_3p_short_3 のシグナル発生率: 35.0694%
2025-04-29 05:39:41,066 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のクラス分布:
2025-04-29 05:39:41,067 - feature_engineering.target - INFO -   クラス 0: 2096 サンプル (72.78%)
2025-04-29 05:39:41,067 - feature_engineering.target - INFO -   クラス 1: 784 サンプル (27.22%)
2025-04-29 05:39:41,067 - feature_engineering.target - INFO - target_high_threshold_5p_long_3 のシグナル発生率: 27.2222%
2025-04-29 05:39:41,067 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のクラス分布:
2025-04-29 05:39:41,067 - feature_engineering.target - INFO -   クラス 0: 2122 サンプル (73.68%)
2025-04-29 05:39:41,067 - feature_engineering.target - INFO -   クラス 1: 758 サンプル (26.32%)
2025-04-29 05:39:41,067 - feature_engineering.target - INFO - target_high_threshold_5p_short_3 のシグナル発生率: 26.3194%
2025-04-29 05:39:41,067 - feature_engineering.target - INFO - 生成された高閾値シグナル変数: 30個
2025-04-29 05:39:41,068 - feature_engineering.target - INFO -   1. target_high_threshold_1p_long_1: シグナル比率 41.42%
2025-04-29 05:39:41,068 - feature_engineering.target - INFO -   2. target_high_threshold_1p_short_1: シグナル比率 42.22%
2025-04-29 05:39:41,068 - feature_engineering.target - INFO -   3. target_high_threshold_2p_long_1: シグナル比率 36.53%
2025-04-29 05:39:41,068 - feature_engineering.target - INFO -   4. target_high_threshold_2p_short_1: シグナル比率 36.18%
2025-04-29 05:39:41,068 - feature_engineering.target - INFO -   5. target_high_threshold_3p_long_1: シグナル比率 34.34%
2025-04-29 05:39:41,069 - feature_engineering.target - INFO -   6. target_high_threshold_3p_short_1: シグナル比率 33.23%
2025-04-29 05:39:41,069 - feature_engineering.target - INFO -   7. target_high_threshold_4p_long_1: シグナル比率 29.41%
2025-04-29 05:39:41,069 - feature_engineering.target - INFO -   8. target_high_threshold_4p_short_1: シグナル比率 28.26%
2025-04-29 05:39:41,069 - feature_engineering.target - INFO -   9. target_high_threshold_5p_long_1: シグナル比率 24.86%
2025-04-29 05:39:41,069 - feature_engineering.target - INFO -   10. target_high_threshold_5p_short_1: シグナル比率 23.85%
2025-04-29 05:39:41,070 - feature_engineering.target - INFO -   ...他 20 個
2025-04-29 05:39:41,070 - feature_engineering.target - INFO - 目標変数を含むデータフレームを生成完了。サイズ: (2880, 48)
2025-04-29 05:39:41,070 - feature_engineering - INFO - すべての特徴量を結合中...
2025-04-29 05:39:41,073 - feature_engineering - INFO - 重複列削除後のカラム数: 194
2025-04-29 05:39:41,075 - feature_engineering - INFO - NaNを含む行を削除: 174行 (6.04%)
2025-04-29 05:39:41,075 - feature_engineering.advanced - INFO - フィッシャー変換RSIの特徴量を追加しています
2025-04-29 05:39:41,079 - feature_engineering.selector - INFO - 重要な特徴量を選択しています
2025-04-29 05:39:41,079 - feature_engineering.selector - INFO - 重要な特徴量 66個を選択しました
2025-04-29 05:39:41,080 - feature_engineering - INFO - 生成された目標変数列: ['target_price_change_pct_1', 'target_price_change_pct_2', 'target_price_change_pct_3', 'target_price_direction_1', 'target_price_direction_2', 'target_price_direction_3', 'target_threshold_binary_1', 'target_threshold_binary_2', 'target_threshold_binary_3', 'target_threshold_ternary_1', 'target_threshold_ternary_2', 'target_threshold_ternary_3']
2025-04-29 05:39:41,080 - feature_engineering - INFO - target_threshold_binary_1 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:39:41,080 - feature_engineering - INFO - target_threshold_binary_1 のクラス分布: {1.0: 1361, 0.0: 1345}
2025-04-29 05:39:41,080 - feature_engineering - INFO - target_threshold_binary_2 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:39:41,081 - feature_engineering - INFO - target_threshold_binary_2 のクラス分布: {1.0: 1383, 0.0: 1323}
2025-04-29 05:39:41,081 - feature_engineering - INFO - target_threshold_binary_3 の有効サンプル数: 2706 (100.00%)
2025-04-29 05:39:41,081 - feature_engineering - INFO - target_threshold_binary_3 のクラス分布: {1.0: 1378, 0.0: 1328}
2025-04-29 05:39:41,081 - feature_engineering - INFO - 特徴量生成が完了しました。カラム数: 66, 行数: 2706
2025-04-29 05:39:41,200 - feature_engineering - INFO - 特徴量を data\processed\btcusd_5m_features.csv に保存しました。データサイズ: (2706, 66)
2025-04-29 05:39:41,218 - data_processing - INFO - 特徴量エンジニアリングが完了しました。生成された特徴量: 66列
2025-04-29 05:39:41,218 - data_processing - INFO - 生成された行数: 2706行
2025-04-29 05:39:41,218 - data_processing - INFO - 生成された目標変数: 12個
2025-04-29 05:39:41,218 - data_processing - ERROR - 高閾値シグナル変数が生成されませんでした。target_features.pyの修正が反映されていない可能性があります。
2025-04-29 05:39:41,218 - data_processing - INFO - DEBUG: 設定の確認
2025-04-29 05:39:41,218 - data_processing - INFO - DEBUG: high_threshold_models設定は存在します: {'target_periods': [1, 2, 3], 'directions': ['long', 'short'], 'thresholds': [0.001, 0.0015, 0.002, 0.0025, 0.003, 0.004, 0.005]}
2025-04-29 05:39:41,218 - data_processing - INFO - DEBUG: 生成された列の一部:
2025-04-29 05:39:41,218 - data_processing - INFO -   1. target_price_change_pct_1
2025-04-29 05:39:41,219 - data_processing - INFO -   2. target_price_change_pct_2
2025-04-29 05:39:41,219 - data_processing - INFO -   3. target_price_change_pct_3
2025-04-29 05:39:41,219 - data_processing - INFO -   4. target_price_direction_1
2025-04-29 05:39:41,219 - data_processing - INFO -   5. target_price_direction_2
2025-04-29 05:39:41,219 - data_processing - INFO -   6. target_price_direction_3
2025-04-29 05:39:41,219 - data_processing - INFO -   7. target_threshold_binary_1
2025-04-29 05:39:41,219 - data_processing - INFO -   8. target_threshold_binary_2
2025-04-29 05:39:41,219 - data_processing - INFO -   9. target_threshold_binary_3
2025-04-29 05:39:41,219 - data_processing - INFO -   10. target_threshold_ternary_1
2025-04-29 05:39:41,219 - data_processing - INFO -   11. target_threshold_ternary_2
2025-04-29 05:39:41,219 - data_processing - INFO -   12. target_threshold_ternary_3
2025-04-29 05:39:41,219 - data_processing - INFO - 標準目標変数: 12個
