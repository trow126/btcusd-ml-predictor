# BTCUSD 取引シグナル生成モデル

## プロジェクト概要

このプロジェクトは、ビットコイン（BTC/USD）の短期的な価格変動を予測し、高精度の取引シグナルを生成する機械学習モデルを開発することを目的としています。5分足のOHLCVデータに基づき、5分後、10分後、15分後の価格変動を予測し、信頼性の高い取引シグナルを提供します。

本プロジェクトの主な目標は、精度を重視したシグナル生成に特化し、シグナル発生時のみポジションを取るトレーディング戦略をサポートすることです。

## 特徴と機能

- **高精度シグナル生成**: 一般的な価格予測ではなく、信頼性の高いトレードタイミングの特定に特化
- **方向別最適化**: ロングポジション用とショートポジション用に個別に最適化されたモデル
- **複数予測期間**: 5分後、10分後、15分後の価格変動を個別に予測
- **確信度スコア**: 予測確率に基づくシグナルのフィルタリング
- **包括的な評価**: 精度、適合率、再現率、F1スコアによる多角的なモデル評価
- **高度な特徴量エンジニアリング**: 複数の時間枠にわたる特徴量と技術的指標の活用

## プロジェクト構造

```
btcusd-ml-predictor/
├── data_collector/        # データ収集モジュール
│   └── bybit_collector.py # Bybit APIからのデータ取得機能
├── data_processor/        # データ処理・特徴量生成モジュール
│   └── feature_modules/   # 各種特徴量生成機能
├── model_builder/         # モデル構築モジュール
│   ├── trainers/          # モデルトレーニング
│   ├── evaluators/        # モデル評価
│   └── predictors/        # 予測機能
├── config/                # 設定ファイル
├── data/                  # データ格納ディレクトリ
├── models/                # 学習済みモデル保存ディレクトリ
├── results/               # 評価結果保存ディレクトリ
├── main.py                # メインエントリーポイント
└── TODO.md                # 開発予定タスク
```

## モデル種類

このプロジェクトでは、複数の予測アプローチを実装・評価しています：

1. **回帰モデル**: 価格変動率の絶対値を予測
2. **分類モデル**: 価格変動方向を3クラス（上昇、横ばい、下落）で予測
3. **二値分類モデル**: 単純な上昇/下落の2クラス予測
4. **閾値ベース二値分類モデル**: 意味のある価格変動（閾値以上）のみを対象とした2クラス予測
5. **シグナルモデル** (開発中): 高い確信度のトレードシグナルに特化した予測

## 使用方法

### 環境設定

```bash
# 仮想環境を作成
python -m venv .venv

# 仮想環境をアクティベート
# Windowsの場合:
.venv\Scripts\activate
# macOS/Linuxの場合:
source .venv/bin/activate

# 依存パッケージをインストール
pip install -r requirements.txt
```

### 実行方法

```bash
# 全パイプラインを実行
python main.py

# データ収集をスキップしてモデル訓練から実行
python main.py --skip-data-collection

# トレーニングのみスキップして評価を実行
python main.py --skip-training

# デバッグモードで実行
python main.py --debug
```

## 評価指標

現在の評価では、以下の指標を重視しています：

- **回帰モデル**: MAE (平均絶対誤差)
- **分類/二値分類モデル**: 精度 (Accuracy)、適合率 (Precision)、再現率 (Recall)、F1スコア
- **シグナルモデル** (計画中): 適合率 (Precision)、シグナル頻度、リスク・リワード比

## 開発計画

プロジェクトは現在、以下の方向へ進化を計画しています：

1. 精度重視の高閾値シグナルモデルへの移行
2. 方向別（ロング/ショート）特化型モデルの実装
3. アンサンブル手法によるシグナル信頼性の向上
4. 確信度スコアに基づくフィルタリング機能の強化

詳細な開発計画は [TODO.md](TODO.md) ファイルを参照してください。

## 貢献方法

コントリビューションは大歓迎です。以下の方法で貢献できます：

1. イシューの報告
2. 機能改善の提案
3. プルリクエストの送信

## ライセンス

[MIT](LICENSE)
