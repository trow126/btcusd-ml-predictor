# BTCUSD 取引シグナル生成モデル 改善提案

## 最優先タスク（Phase 1）

1. **シグナルベースの目的変数への再定義**
   - 現在の閾値（0.01%）を取引に適した0.2〜0.3%に引き上げ
   - ロング専用シグナル変数 `target_high_threshold_long_{period}` の実装
   - ショート専用シグナル変数 `target_high_threshold_short_{period}` の実装
   - 様々な閾値（0.1%、0.2%、0.3%、0.5%）での実験

2. **評価指標の最適化**
   - Accuracy（正確度）よりも Precision（適合率）を重視
   - シグナル発生率（全サンプルに対する比率）のモニタリング
   - リスク・リワード比を考慮した新しい評価指標の導入
   - 確信度スコア（予測確率）に基づくフィルタリング機能の実装

3. **シグナル特化型モデルの実装**
   - ロング専用モデル：上昇シグナルのみに最適化
   - ショート専用モデル：下落シグナルのみに最適化
   - クラス不均衡問題への対処（アンダーサンプリングまたはオーバーサンプリング）
   - 特定方向のシグナル特化による精度向上の検証

## 中期的タスク（Phase 2）

4. **特徴量エンジニアリングの強化**
   - 市場環境（高ボラティリティ/低ボラティリティ）に関する特徴量の追加
   - 複数時間枠（5分、15分、1時間、4時間）のデータ統合
   - 異なる市場状態での性能を評価するためのレジーム分析
   - 上昇/下落に特化した特徴量セットの独立開発

5. **モデルアンサンブル手法の導入**
   - 複数モデル（回帰・分類・シグナルベース）の組み合わせによる信頼性向上
   - 条件付きシグナル（例：回帰予測≥0.2% かつ 上昇確率≥80%）の実装
   - モデル間の不一致をモニタリングする仕組みの構築
   - アンサンブル戦略の系統的な評価フレームワークの開発

6. **確信度スコアの最適化**
   - 予測確率閾値（50%〜95%）の最適化実験
   - 確信度と精度の関係性分析
   - 異なる市場環境での最適確信度閾値の検討
   - 取引量を確信度に連動させる手法の導入

## 長期的タスク（Phase 3）

7. **高度なモデルアーキテクチャの導入**
   - LSTM/GRUを用いた深層学習モデルの検討
   - 深層学習と従来モデルのアンサンブル
   - 注意機構（Attention）を用いた特徴量の重要度学習
   - モデルの説明可能性（XAI）向上のための施策

8. **バックテスト・シミュレーション環境の強化**
   - 取引コスト（スプレッド、手数料）を考慮したシミュレーション
   - リスク管理戦略（損切り、利確）との統合
   - 複数銘柄・市場環境でのロバスト性検証
   - 長期運用を想定したモデルドリフト検出と自動再調整

9. **運用インフラの整備**
   - リアルタイムデータ処理パイプラインの最適化
   - シグナル検出時の通知システム構築
   - モデル性能のモニタリングダッシュボード開発
   - 自動取引APIとの連携機能（オプション）

## 実装計画

1. まず Phase 1 の項目1から着手し、目的変数の再定義とモデル再評価を実施
2. 評価結果に基づき、項目2と3を並行して進め、高精度シグナル生成の基盤を確立
3. 一定の精度が確保できたら、Phase 2 の項目に移行し、特徴量とアンサンブル手法を強化
4. 長期運用を見据えた Phase 3 の項目は、十分な精度と信頼性が確認された後に着手
